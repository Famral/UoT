/*! For license information please see main.c3adf487.js.LICENSE.txt */
!function () { var e = { 204: function () { var e = document.createElement("div"); e.style.opacity = 0, ["'Open Sans', sans-serif", "'Oswald', sans-serif", "'Playfair Display', serif", "'Cormorant Garamond', serif", "Impact, Charcoal, sans-serif", "'Lucida Console', Monaco, monospace", "'Comic Sans MS', 'Comic Sans', cursive, sans-serif", "'Dancing Script', cursive", "'Indie Flower', cursive", "'Amatic SC', cursive", "'Permanent Marker', cursive"].forEach((function (t) { e.innerHTML += '<span style="font-family: '.concat(t, '"></span>') })), document.body.appendChild(e) }, 2504: function (e, t, n) { "use strict"; var r, i = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, o = n(2791), a = (r = o) && r.__esModule ? r : { default: r }; t.Z = function (e) { var t = e.fill, n = void 0 === t ? "currentColor" : t, r = e.width, o = void 0 === r ? 24 : r, s = e.height, l = void 0 === s ? 24 : s, c = e.style, u = void 0 === c ? {} : c, h = function (e, t) { var n = {}; for (var r in e) t.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (n[r] = e[r]); return n }(e, ["fill", "width", "height", "style"]); return a.default.createElement("svg", i({ viewBox: "0 0 24 24", style: i({ fill: n, width: o, height: l }, u) }, h), a.default.createElement("path", { d: "M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" })) } }, 2403: function (e, t, n) { "use strict"; var r, i = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, o = n(2791), a = (r = o) && r.__esModule ? r : { default: r }; t.Z = function (e) { var t = e.fill, n = void 0 === t ? "currentColor" : t, r = e.width, o = void 0 === r ? 24 : r, s = e.height, l = void 0 === s ? 24 : s, c = e.style, u = void 0 === c ? {} : c, h = function (e, t) { var n = {}; for (var r in e) t.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (n[r] = e[r]); return n }(e, ["fill", "width", "height", "style"]); return a.default.createElement("svg", i({ viewBox: "0 0 24 24", style: i({ fill: n, width: o, height: l }, u) }, h), a.default.createElement("path", { d: "M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z" })) } }, 3050: function (e, t, n) { var r, i = i || { version: "3.6.6" }; if (t.fabric = i, "undefined" !== typeof document && "undefined" !== typeof window) document instanceof ("undefined" !== typeof HTMLDocument ? HTMLDocument : Document) ? i.document = document : i.document = document.implementation.createHTMLDocument(""), i.window = window; else { var o = new (n(4960).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"), { features: { FetchExternalResources: ["img"] }, resources: "usable" }).window; i.document = o.document, i.jsdomImplForWrapper = n(6759).implForWrapper, i.nodeCanvas = n(6272).Canvas, i.window = o, DOMParser = i.window.DOMParser } function a(e, t) { var n = e.canvas, r = t.targetCanvas, i = r.getContext("2d"); i.translate(0, r.height), i.scale(1, -1); var o = n.height - r.height; i.drawImage(n, 0, o, r.width, r.height, 0, 0, r.width, r.height) } function s(e, t) { var n = t.targetCanvas.getContext("2d"), r = t.destinationWidth, i = t.destinationHeight, o = r * i * 4, a = new Uint8Array(this.imageBuffer, 0, o), s = new Uint8ClampedArray(this.imageBuffer, 0, o); e.readPixels(0, 0, r, i, e.RGBA, e.UNSIGNED_BYTE, a); var l = new ImageData(s, r, i); n.putImageData(l, 0, 0) } i.isTouchSupported = "ontouchstart" in i.window || "ontouchstart" in i.document || i.window && i.window.navigator && i.window.navigator.maxTouchPoints > 0, i.isLikelyNode = "undefined" !== typeof Buffer && "undefined" === typeof window, i.SHARED_ATTRIBUTES = ["display", "transform", "fill", "fill-opacity", "fill-rule", "opacity", "stroke", "stroke-dasharray", "stroke-linecap", "stroke-dashoffset", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke-width", "id", "paint-order", "vector-effect", "instantiated_by_use", "clip-path"], i.DPI = 96, i.reNum = "(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)", i.rePathCommand = /([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi, i.reNonWord = /[ \n\.,;!\?\-]/, i.fontPaths = {}, i.iMatrix = [1, 0, 0, 1, 0, 0], i.svgNS = "http://www.w3.org/2000/svg", i.perfLimitSizeTotal = 2097152, i.maxCacheSideLimit = 4096, i.minCacheSideLimit = 256, i.charWidthsCache = {}, i.textureSize = 2048, i.disableStyleCopyPaste = !1, i.enableGLFiltering = !0, i.devicePixelRatio = i.window.devicePixelRatio || i.window.webkitDevicePixelRatio || i.window.mozDevicePixelRatio || 1, i.browserShadowBlurConstant = 1, i.arcToSegmentsCache = {}, i.boundsOfCurveCache = {}, i.cachesBoundsOfCurve = !0, i.forceGLPutImageData = !1, i.initFilterBackend = function () { return i.enableGLFiltering && i.isWebglSupported && i.isWebglSupported(i.textureSize) ? (console.log("max texture size: " + i.maxTextureSize), new i.WebglFilterBackend({ tileSize: i.textureSize })) : i.Canvas2dFilterBackend ? new i.Canvas2dFilterBackend : void 0 }, "undefined" !== typeof document && "undefined" !== typeof window && (window.fabric = i), function () { function e(e, t) { if (this.__eventListeners[e]) { var n = this.__eventListeners[e]; t ? n[n.indexOf(t)] = !1 : i.util.array.fill(n, !1) } } function t(e, t) { if (this.__eventListeners || (this.__eventListeners = {}), 1 === arguments.length) for (var n in e) this.on(n, e[n]); else this.__eventListeners[e] || (this.__eventListeners[e] = []), this.__eventListeners[e].push(t); return this } function n(t, n) { if (!this.__eventListeners) return this; if (0 === arguments.length) for (t in this.__eventListeners) e.call(this, t); else if (1 === arguments.length && "object" === typeof arguments[0]) for (var r in t) e.call(this, r, t[r]); else e.call(this, t, n); return this } function r(e, t) { if (!this.__eventListeners) return this; var n = this.__eventListeners[e]; if (!n) return this; for (var r = 0, i = n.length; r < i; r++)n[r] && n[r].call(this, t || {}); return this.__eventListeners[e] = n.filter((function (e) { return !1 !== e })), this } i.Observable = { observe: t, stopObserving: n, fire: r, on: t, off: n, trigger: r } }(), i.Collection = { _objects: [], add: function () { if (this._objects.push.apply(this._objects, arguments), this._onObjectAdded) for (var e = 0, t = arguments.length; e < t; e++)this._onObjectAdded(arguments[e]); return this.renderOnAddRemove && this.requestRenderAll(), this }, insertAt: function (e, t, n) { var r = this._objects; return n ? r[t] = e : r.splice(t, 0, e), this._onObjectAdded && this._onObjectAdded(e), this.renderOnAddRemove && this.requestRenderAll(), this }, remove: function () { for (var e, t = this._objects, n = !1, r = 0, i = arguments.length; r < i; r++)-1 !== (e = t.indexOf(arguments[r])) && (n = !0, t.splice(e, 1), this._onObjectRemoved && this._onObjectRemoved(arguments[r])); return this.renderOnAddRemove && n && this.requestRenderAll(), this }, forEachObject: function (e, t) { for (var n = this.getObjects(), r = 0, i = n.length; r < i; r++)e.call(t, n[r], r, n); return this }, getObjects: function (e) { return "undefined" === typeof e ? this._objects.concat() : this._objects.filter((function (t) { return t.type === e })) }, item: function (e) { return this._objects[e] }, isEmpty: function () { return 0 === this._objects.length }, size: function () { return this._objects.length }, contains: function (e) { return this._objects.indexOf(e) > -1 }, complexity: function () { return this._objects.reduce((function (e, t) { return e += t.complexity ? t.complexity() : 0 }), 0) } }, i.CommonMethods = { _setOptions: function (e) { for (var t in e) this.set(t, e[t]) }, _initGradient: function (e, t) { !e || !e.colorStops || e instanceof i.Gradient || this.set(t, new i.Gradient(e)) }, _initPattern: function (e, t, n) { !e || !e.source || e instanceof i.Pattern ? n && n() : this.set(t, new i.Pattern(e, n)) }, _initClipping: function (e) { if (e.clipTo && "string" === typeof e.clipTo) { var t = i.util.getFunctionBody(e.clipTo); "undefined" !== typeof t && (this.clipTo = new Function("ctx", t)) } }, _setObject: function (e) { for (var t in e) this._set(t, e[t]) }, set: function (e, t) { return "object" === typeof e ? this._setObject(e) : "function" === typeof t && "clipTo" !== e ? this._set(e, t(this.get(e))) : this._set(e, t), this }, _set: function (e, t) { this[e] = t }, toggle: function (e) { var t = this.get(e); return "boolean" === typeof t && this.set(e, !t), this }, get: function (e) { return this[e] } }, function (e) { var t = Math.sqrt, n = Math.atan2, r = Math.pow, o = Math.PI / 180, a = Math.PI / 2; i.util = { cos: function (e) { if (0 === e) return 1; switch (e < 0 && (e = -e), e / a) { case 1: case 3: return 0; case 2: return -1 }return Math.cos(e) }, sin: function (e) { if (0 === e) return 0; var t = 1; switch (e < 0 && (t = -1), e / a) { case 1: return t; case 2: return 0; case 3: return -t }return Math.sin(e) }, removeFromArray: function (e, t) { var n = e.indexOf(t); return -1 !== n && e.splice(n, 1), e }, getRandomInt: function (e, t) { return Math.floor(Math.random() * (t - e + 1)) + e }, degreesToRadians: function (e) { return e * o }, radiansToDegrees: function (e) { return e / o }, rotatePoint: function (e, t, n) { e.subtractEquals(t); var r = i.util.rotateVector(e, n); return new i.Point(r.x, r.y).addEquals(t) }, rotateVector: function (e, t) { var n = i.util.sin(t), r = i.util.cos(t); return { x: e.x * r - e.y * n, y: e.x * n + e.y * r } }, transformPoint: function (e, t, n) { return n ? new i.Point(t[0] * e.x + t[2] * e.y, t[1] * e.x + t[3] * e.y) : new i.Point(t[0] * e.x + t[2] * e.y + t[4], t[1] * e.x + t[3] * e.y + t[5]) }, makeBoundingBoxFromPoints: function (e, t) { if (t) for (var n = 0; n < e.length; n++)e[n] = i.util.transformPoint(e[n], t); var r = [e[0].x, e[1].x, e[2].x, e[3].x], o = i.util.array.min(r), a = i.util.array.max(r) - o, s = [e[0].y, e[1].y, e[2].y, e[3].y], l = i.util.array.min(s); return { left: o, top: l, width: a, height: i.util.array.max(s) - l } }, invertTransform: function (e) { var t = 1 / (e[0] * e[3] - e[1] * e[2]), n = [t * e[3], -t * e[1], -t * e[2], t * e[0]], r = i.util.transformPoint({ x: e[4], y: e[5] }, n, !0); return n[4] = -r.x, n[5] = -r.y, n }, toFixed: function (e, t) { return parseFloat(Number(e).toFixed(t)) }, parseUnit: function (e, t) { var n = /\D{0,2}$/.exec(e), r = parseFloat(e); switch (t || (t = i.Text.DEFAULT_SVG_FONT_SIZE), n[0]) { case "mm": return r * i.DPI / 25.4; case "cm": return r * i.DPI / 2.54; case "in": return r * i.DPI; case "pt": return r * i.DPI / 72; case "pc": return r * i.DPI / 72 * 12; case "em": return r * t; default: return r } }, falseFunction: function () { return !1 }, getKlass: function (e, t) { return e = i.util.string.camelize(e.charAt(0).toUpperCase() + e.slice(1)), i.util.resolveNamespace(t)[e] }, getSvgAttributes: function (e) { var t = ["instantiated_by_use", "style", "id", "class"]; switch (e) { case "linearGradient": t = t.concat(["x1", "y1", "x2", "y2", "gradientUnits", "gradientTransform"]); break; case "radialGradient": t = t.concat(["gradientUnits", "gradientTransform", "cx", "cy", "r", "fx", "fy", "fr"]); break; case "stop": t = t.concat(["offset", "stop-color", "stop-opacity"]) }return t }, resolveNamespace: function (t) { if (!t) return i; var n, r = t.split("."), o = r.length, a = e || i.window; for (n = 0; n < o; ++n)a = a[r[n]]; return a }, loadImage: function (e, t, n, r) { if (e) { var o = i.util.createImage(), a = function () { t && t.call(n, o), o = o.onload = o.onerror = null }; o.onload = a, o.onerror = function () { i.log("Error loading " + o.src), t && t.call(n, null, !0), o = o.onload = o.onerror = null }, 0 !== e.indexOf("data") && r && (o.crossOrigin = r), "data:image/svg" === e.substring(0, 14) && (o.onload = null, i.util.loadImageInDom(o, a)), o.src = e } else t && t.call(n, e) }, loadImageInDom: function (e, t) { var n = i.document.createElement("div"); n.style.width = n.style.height = "1px", n.style.left = n.style.top = "-100%", n.style.position = "absolute", n.appendChild(e), i.document.querySelector("body").appendChild(n), e.onload = function () { t(), n.parentNode.removeChild(n), n = null } }, enlivenObjects: function (e, t, n, r) { var o = [], a = 0, s = (e = e || []).length; function l() { ++a === s && t && t(o.filter((function (e) { return e }))) } s ? e.forEach((function (e, t) { e && e.type ? i.util.getKlass(e.type, n).fromObject(e, (function (n, i) { i || (o[t] = n), r && r(e, n, i), l() })) : l() })) : t && t(o) }, enlivenPatterns: function (e, t) { function n() { ++o === a && t && t(r) } var r = [], o = 0, a = (e = e || []).length; a ? e.forEach((function (e, t) { e && e.source ? new i.Pattern(e, (function (e) { r[t] = e, n() })) : (r[t] = e, n()) })) : t && t(r) }, groupSVGElements: function (e, t, n) { var r; return e && 1 === e.length ? e[0] : (t && (t.width && t.height ? t.centerPoint = { x: t.width / 2, y: t.height / 2 } : (delete t.width, delete t.height)), r = new i.Group(e, t), "undefined" !== typeof n && (r.sourcePath = n), r) }, populateWithProperties: function (e, t, n) { if (n && "[object Array]" === Object.prototype.toString.call(n)) for (var r = 0, i = n.length; r < i; r++)n[r] in e && (t[n[r]] = e[n[r]]) }, drawDashedLine: function (e, r, i, o, a, s) { var l = o - r, c = a - i, u = t(l * l + c * c), h = n(c, l), f = s.length, d = 0, p = !0; for (e.save(), e.translate(r, i), e.moveTo(0, 0), e.rotate(h), r = 0; u > r;)(r += s[d++ % f]) > u && (r = u), e[p ? "lineTo" : "moveTo"](r, 0), p = !p; e.restore() }, createCanvasElement: function () { return i.document.createElement("canvas") }, copyCanvasElement: function (e) { var t = i.util.createCanvasElement(); return t.width = e.width, t.height = e.height, t.getContext("2d").drawImage(e, 0, 0), t }, toDataURL: function (e, t, n) { return e.toDataURL("image/" + t, n) }, createImage: function () { return i.document.createElement("img") }, clipContext: function (e, t) { t.save(), t.beginPath(), e.clipTo(t), t.clip() }, multiplyTransformMatrices: function (e, t, n) { return [e[0] * t[0] + e[2] * t[1], e[1] * t[0] + e[3] * t[1], e[0] * t[2] + e[2] * t[3], e[1] * t[2] + e[3] * t[3], n ? 0 : e[0] * t[4] + e[2] * t[5] + e[4], n ? 0 : e[1] * t[4] + e[3] * t[5] + e[5]] }, qrDecompose: function (e) { var i = n(e[1], e[0]), a = r(e[0], 2) + r(e[1], 2), s = t(a), l = (e[0] * e[3] - e[2] * e[1]) / s, c = n(e[0] * e[2] + e[1] * e[3], a); return { angle: i / o, scaleX: s, scaleY: l, skewX: c / o, skewY: 0, translateX: e[4], translateY: e[5] } }, calcRotateMatrix: function (e) { if (!e.angle) return i.iMatrix.concat(); var t = i.util.degreesToRadians(e.angle), n = i.util.cos(t), r = i.util.sin(t); return [n, r, -r, n, 0, 0] }, calcDimensionsMatrix: function (e) { var t = "undefined" === typeof e.scaleX ? 1 : e.scaleX, n = "undefined" === typeof e.scaleY ? 1 : e.scaleY, r = [e.flipX ? -t : t, 0, 0, e.flipY ? -n : n, 0, 0], o = i.util.multiplyTransformMatrices, a = i.util.degreesToRadians; return e.skewX && (r = o(r, [1, 0, Math.tan(a(e.skewX)), 1], !0)), e.skewY && (r = o(r, [1, Math.tan(a(e.skewY)), 0, 1], !0)), r }, composeMatrix: function (e) { var t = [1, 0, 0, 1, e.translateX || 0, e.translateY || 0], n = i.util.multiplyTransformMatrices; return e.angle && (t = n(t, i.util.calcRotateMatrix(e))), (e.scaleX || e.scaleY || e.skewX || e.skewY || e.flipX || e.flipY) && (t = n(t, i.util.calcDimensionsMatrix(e))), t }, customTransformMatrix: function (e, t, n) { return i.util.composeMatrix({ scaleX: e, scaleY: t, skewX: n }) }, resetObjectTransform: function (e) { e.scaleX = 1, e.scaleY = 1, e.skewX = 0, e.skewY = 0, e.flipX = !1, e.flipY = !1, e.rotate(0) }, saveObjectTransform: function (e) { return { scaleX: e.scaleX, scaleY: e.scaleY, skewX: e.skewX, skewY: e.skewY, angle: e.angle, left: e.left, flipX: e.flipX, flipY: e.flipY, top: e.top } }, getFunctionBody: function (e) { return (String(e).match(/function[^{]*\{([\s\S]*)\}/) || {})[1] }, isTransparent: function (e, t, n, r) { r > 0 && (t > r ? t -= r : t = 0, n > r ? n -= r : n = 0); var i, o = !0, a = e.getImageData(t, n, 2 * r || 1, 2 * r || 1), s = a.data.length; for (i = 3; i < s && !1 !== (o = a.data[i] <= 0); i += 4); return a = null, o }, parsePreserveAspectRatioAttribute: function (e) { var t, n = "meet", r = e.split(" "); return r && r.length && ("meet" !== (n = r.pop()) && "slice" !== n ? (t = n, n = "meet") : r.length && (t = r.pop())), { meetOrSlice: n, alignX: "none" !== t ? t.slice(1, 4) : "none", alignY: "none" !== t ? t.slice(5, 8) : "none" } }, clearFabricFontCache: function (e) { (e = (e || "").toLowerCase()) ? i.charWidthsCache[e] && delete i.charWidthsCache[e] : i.charWidthsCache = {} }, limitDimsByArea: function (e, t) { var n = Math.sqrt(t * e), r = Math.floor(t / n); return { x: Math.floor(n), y: r } }, capValue: function (e, t, n) { return Math.max(e, Math.min(t, n)) }, findScaleToFit: function (e, t) { return Math.min(t.width / e.width, t.height / e.height) }, findScaleToCover: function (e, t) { return Math.max(t.width / e.width, t.height / e.height) }, matrixToSVG: function (e) { return "matrix(" + e.map((function (e) { return i.util.toFixed(e, i.Object.NUM_FRACTION_DIGITS) })).join(" ") + ")" } } }(t), function () { var e = Array.prototype.join; function t(t, o, a, s, l, c, u) { var h = e.call(arguments); if (i.arcToSegmentsCache[h]) return i.arcToSegmentsCache[h]; var f = Math.PI, d = u * f / 180, p = i.util.sin(d), g = i.util.cos(d), v = 0, m = 0, b = -g * t * .5 - p * o * .5, y = -g * o * .5 + p * t * .5, x = (a = Math.abs(a)) * a, w = (s = Math.abs(s)) * s, _ = y * y, S = b * b, C = x * w - x * _ - w * S, O = 0; if (C < 0) { var k = Math.sqrt(1 - C / (x * w)); a *= k, s *= k } else O = (l === c ? -1 : 1) * Math.sqrt(C / (x * _ + w * S)); var j = O * a * y / s, E = -O * s * b / a, T = g * j - p * E + .5 * t, P = p * j + g * E + .5 * o, A = r(1, 0, (b - j) / a, (y - E) / s), M = r((b - j) / a, (y - E) / s, (-b - j) / a, (-y - E) / s); 0 === c && M > 0 ? M -= 2 * f : 1 === c && M < 0 && (M += 2 * f); for (var D = Math.ceil(Math.abs(M / f * 2)), I = [], L = M / D, F = 8 / 3 * Math.sin(L / 4) * Math.sin(L / 4) / Math.sin(L / 2), R = A + L, B = 0; B < D; B++)I[B] = n(A, R, g, p, a, s, T, P, F, v, m), v = I[B][4], m = I[B][5], A = R, R += L; return i.arcToSegmentsCache[h] = I, I } function n(e, t, n, r, o, a, s, l, c, u, h) { var f = i.util.cos(e), d = i.util.sin(e), p = i.util.cos(t), g = i.util.sin(t), v = n * o * p - r * a * g + s, m = r * o * p + n * a * g + l; return [u + c * (-n * o * d - r * a * f), h + c * (-r * o * d + n * a * f), v + c * (n * o * g + r * a * p), m + c * (r * o * g - n * a * p), v, m] } function r(e, t, n, r) { var i = Math.atan2(t, e), o = Math.atan2(r, n); return o >= i ? o - i : 2 * Math.PI - (i - o) } function o(t, n, r, o, a, s, l, c) { var u; if (i.cachesBoundsOfCurve && (u = e.call(arguments), i.boundsOfCurveCache[u])) return i.boundsOfCurveCache[u]; var h, f, d, p, g, v, m, b, y = Math.sqrt, x = Math.min, w = Math.max, _ = Math.abs, S = [], C = [[], []]; f = 6 * t - 12 * r + 6 * a, h = -3 * t + 9 * r - 9 * a + 3 * l, d = 3 * r - 3 * t; for (var O = 0; O < 2; ++O)if (O > 0 && (f = 6 * n - 12 * o + 6 * s, h = -3 * n + 9 * o - 9 * s + 3 * c, d = 3 * o - 3 * n), _(h) < 1e-12) { if (_(f) < 1e-12) continue; 0 < (p = -d / f) && p < 1 && S.push(p) } else (m = f * f - 4 * d * h) < 0 || (0 < (g = (-f + (b = y(m))) / (2 * h)) && g < 1 && S.push(g), 0 < (v = (-f - b) / (2 * h)) && v < 1 && S.push(v)); for (var k, j, E, T = S.length, P = T; T--;)k = (E = 1 - (p = S[T])) * E * E * t + 3 * E * E * p * r + 3 * E * p * p * a + p * p * p * l, C[0][T] = k, j = E * E * E * n + 3 * E * E * p * o + 3 * E * p * p * s + p * p * p * c, C[1][T] = j; C[0][P] = t, C[1][P] = n, C[0][P + 1] = l, C[1][P + 1] = c; var A = [{ x: x.apply(null, C[0]), y: x.apply(null, C[1]) }, { x: w.apply(null, C[0]), y: w.apply(null, C[1]) }]; return i.cachesBoundsOfCurve && (i.boundsOfCurveCache[u] = A), A } i.util.drawArc = function (e, n, r, i) { for (var o = i[0], a = i[1], s = i[2], l = i[3], c = i[4], u = [[], [], [], []], h = t(i[5] - n, i[6] - r, o, a, l, c, s), f = 0, d = h.length; f < d; f++)u[f][0] = h[f][0] + n, u[f][1] = h[f][1] + r, u[f][2] = h[f][2] + n, u[f][3] = h[f][3] + r, u[f][4] = h[f][4] + n, u[f][5] = h[f][5] + r, e.bezierCurveTo.apply(e, u[f]) }, i.util.getBoundsOfArc = function (e, n, r, i, a, s, l, c, u) { for (var h, f = 0, d = 0, p = [], g = t(c - e, u - n, r, i, s, l, a), v = 0, m = g.length; v < m; v++)h = o(f, d, g[v][0], g[v][1], g[v][2], g[v][3], g[v][4], g[v][5]), p.push({ x: h[0].x + e, y: h[0].y + n }), p.push({ x: h[1].x + e, y: h[1].y + n }), f = g[v][4], d = g[v][5]; return p }, i.util.getBoundsOfCurve = o }(), function () { var e = Array.prototype.slice; function t(e, t, n) { if (e && 0 !== e.length) { var r = e.length - 1, i = t ? e[r][t] : e[r]; if (t) for (; r--;)n(e[r][t], i) && (i = e[r][t]); else for (; r--;)n(e[r], i) && (i = e[r]); return i } } i.util.array = { fill: function (e, t) { for (var n = e.length; n--;)e[n] = t; return e }, invoke: function (t, n) { for (var r = e.call(arguments, 2), i = [], o = 0, a = t.length; o < a; o++)i[o] = r.length ? t[o][n].apply(t[o], r) : t[o][n].call(t[o]); return i }, min: function (e, n) { return t(e, n, (function (e, t) { return e < t })) }, max: function (e, n) { return t(e, n, (function (e, t) { return e >= t })) } } }(), function () { function e(t, n, r) { if (r) if (!i.isLikelyNode && n instanceof Element) t = n; else if (n instanceof Array) { t = []; for (var o = 0, a = n.length; o < a; o++)t[o] = e({}, n[o], r) } else if (n && "object" === typeof n) for (var s in n) "canvas" === s ? t[s] = e({}, n[s]) : n.hasOwnProperty(s) && (t[s] = e({}, n[s], r)); else t = n; else for (var s in n) t[s] = n[s]; return t } i.util.object = { extend: e, clone: function (t, n) { return e({}, t, n) } }, i.util.object.extend(i.util, i.Observable) }(), function () { function e(e, t) { var n = e.charCodeAt(t); if (isNaN(n)) return ""; if (n < 55296 || n > 57343) return e.charAt(t); if (55296 <= n && n <= 56319) { if (e.length <= t + 1) throw "High surrogate without following low surrogate"; var r = e.charCodeAt(t + 1); if (56320 > r || r > 57343) throw "High surrogate without following low surrogate"; return e.charAt(t) + e.charAt(t + 1) } if (0 === t) throw "Low surrogate without preceding high surrogate"; var i = e.charCodeAt(t - 1); if (55296 > i || i > 56319) throw "Low surrogate without preceding high surrogate"; return !1 } i.util.string = { camelize: function (e) { return e.replace(/-+(.)?/g, (function (e, t) { return t ? t.toUpperCase() : "" })) }, capitalize: function (e, t) { return e.charAt(0).toUpperCase() + (t ? e.slice(1) : e.slice(1).toLowerCase()) }, escapeXml: function (e) { return e.replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/'/g, "&apos;").replace(/</g, "&lt;").replace(/>/g, "&gt;") }, graphemeSplit: function (t) { var n, r = 0, i = []; for (r = 0; r < t.length; r++)!1 !== (n = e(t, r)) && i.push(n); return i } } }(), function () { var e = Array.prototype.slice, t = function () { }, n = function () { for (var e in { toString: 1 }) if ("toString" === e) return !1; return !0 }(), r = function (e, t, r) { for (var i in t) i in e.prototype && "function" === typeof e.prototype[i] && (t[i] + "").indexOf("callSuper") > -1 ? e.prototype[i] = function (e) { return function () { var n = this.constructor.superclass; this.constructor.superclass = r; var i = t[e].apply(this, arguments); if (this.constructor.superclass = n, "initialize" !== e) return i } }(i) : e.prototype[i] = t[i], n && (t.toString !== Object.prototype.toString && (e.prototype.toString = t.toString), t.valueOf !== Object.prototype.valueOf && (e.prototype.valueOf = t.valueOf)) }; function o() { } function a(t) { for (var n = null, r = this; r.constructor.superclass;) { var i = r.constructor.superclass.prototype[t]; if (r[t] !== i) { n = i; break } r = r.constructor.superclass.prototype } return n ? arguments.length > 1 ? n.apply(this, e.call(arguments, 1)) : n.call(this) : console.log("tried to callSuper " + t + ", method not found in prototype chain", this) } i.util.createClass = function () { var n = null, i = e.call(arguments, 0); function s() { this.initialize.apply(this, arguments) } "function" === typeof i[0] && (n = i.shift()), s.superclass = n, s.subclasses = [], n && (o.prototype = n.prototype, s.prototype = new o, n.subclasses.push(s)); for (var l = 0, c = i.length; l < c; l++)r(s, i[l], n); return s.prototype.initialize || (s.prototype.initialize = t), s.prototype.constructor = s, s.prototype.callSuper = a, s } }(), function () { var e = !!i.document.createElement("div").attachEvent; i.util.addListener = function (t, n, r, i) { t && t.addEventListener(n, r, !e && i) }, i.util.removeListener = function (t, n, r, i) { t && t.removeEventListener(n, r, !e && i) }, i.util.getPointer = function (e) { var t = e.target, n = i.util.getScrollLeftTop(t), r = function (e) { var t = e.changedTouches; return t && t[0] ? t[0] : e }(e); return { x: r.clientX + n.left, y: r.clientY + n.top } } }(), function () { var e = i.document.createElement("div"), t = "string" === typeof e.style.opacity, n = "string" === typeof e.style.filter, r = /alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/, o = function (e) { return e }; t ? o = function (e, t) { return e.style.opacity = t, e } : n && (o = function (e, t) { var n = e.style; return e.currentStyle && !e.currentStyle.hasLayout && (n.zoom = 1), r.test(n.filter) ? (t = t >= .9999 ? "" : "alpha(opacity=" + 100 * t + ")", n.filter = n.filter.replace(r, t)) : n.filter += " alpha(opacity=" + 100 * t + ")", e }), i.util.setStyle = function (e, t) { var n = e.style; if (!n) return e; if ("string" === typeof t) return e.style.cssText += ";" + t, t.indexOf("opacity") > -1 ? o(e, t.match(/opacity:\s*(\d?\.?\d*)/)[1]) : e; for (var r in t) { if ("opacity" === r) o(e, t[r]); else n["float" === r || "cssFloat" === r ? "undefined" === typeof n.styleFloat ? "cssFloat" : "styleFloat" : r] = t[r] } return e } }(), function () { var e = Array.prototype.slice; var t, n, r = function (t) { return e.call(t, 0) }; try { t = r(i.document.childNodes) instanceof Array } catch (s) { } function o(e, t) { var n = i.document.createElement(e); for (var r in t) "class" === r ? n.className = t[r] : "for" === r ? n.htmlFor = t[r] : n.setAttribute(r, t[r]); return n } function a(e) { for (var t = 0, n = 0, r = i.document.documentElement, o = i.document.body || { scrollLeft: 0, scrollTop: 0 }; e && (e.parentNode || e.host) && ((e = e.parentNode || e.host) === i.document ? (t = o.scrollLeft || r.scrollLeft || 0, n = o.scrollTop || r.scrollTop || 0) : (t += e.scrollLeft || 0, n += e.scrollTop || 0), 1 !== e.nodeType || "fixed" !== e.style.position);); return { left: t, top: n } } t || (r = function (e) { for (var t = new Array(e.length), n = e.length; n--;)t[n] = e[n]; return t }), n = i.document.defaultView && i.document.defaultView.getComputedStyle ? function (e, t) { var n = i.document.defaultView.getComputedStyle(e, null); return n ? n[t] : void 0 } : function (e, t) { var n = e.style[t]; return !n && e.currentStyle && (n = e.currentStyle[t]), n }, function () { var e = i.document.documentElement.style, t = "userSelect" in e ? "userSelect" : "MozUserSelect" in e ? "MozUserSelect" : "WebkitUserSelect" in e ? "WebkitUserSelect" : "KhtmlUserSelect" in e ? "KhtmlUserSelect" : ""; i.util.makeElementUnselectable = function (e) { return "undefined" !== typeof e.onselectstart && (e.onselectstart = i.util.falseFunction), t ? e.style[t] = "none" : "string" === typeof e.unselectable && (e.unselectable = "on"), e }, i.util.makeElementSelectable = function (e) { return "undefined" !== typeof e.onselectstart && (e.onselectstart = null), t ? e.style[t] = "" : "string" === typeof e.unselectable && (e.unselectable = ""), e } }(), i.util.getScript = function (e, t) { var n = i.document.getElementsByTagName("head")[0], r = i.document.createElement("script"), o = !0; r.onload = r.onreadystatechange = function (e) { if (o) { if ("string" === typeof this.readyState && "loaded" !== this.readyState && "complete" !== this.readyState) return; o = !1, t(e || i.window.event), r = r.onload = r.onreadystatechange = null } }, r.src = e, n.appendChild(r) }, i.util.getById = function (e) { return "string" === typeof e ? i.document.getElementById(e) : e }, i.util.toArray = r, i.util.makeElement = o, i.util.addClass = function (e, t) { e && -1 === (" " + e.className + " ").indexOf(" " + t + " ") && (e.className += (e.className ? " " : "") + t) }, i.util.wrapElement = function (e, t, n) { return "string" === typeof t && (t = o(t, n)), e.parentNode && e.parentNode.replaceChild(t, e), t.appendChild(e), t }, i.util.getScrollLeftTop = a, i.util.getElementOffset = function (e) { var t, r, i = e && e.ownerDocument, o = { left: 0, top: 0 }, s = { left: 0, top: 0 }, l = { borderLeftWidth: "left", borderTopWidth: "top", paddingLeft: "left", paddingTop: "top" }; if (!i) return s; for (var c in l) s[l[c]] += parseInt(n(e, c), 10) || 0; return t = i.documentElement, "undefined" !== typeof e.getBoundingClientRect && (o = e.getBoundingClientRect()), r = a(e), { left: o.left + r.left - (t.clientLeft || 0) + s.left, top: o.top + r.top - (t.clientTop || 0) + s.top } }, i.util.getElementStyle = n, i.util.getNodeCanvas = function (e) { var t = i.jsdomImplForWrapper(e); return t._canvas || t._image }, i.util.cleanUpJsdomNode = function (e) { if (i.isLikelyNode) { var t = i.jsdomImplForWrapper(e); t && (t._image = null, t._canvas = null, t._currentSrc = null, t._attributes = null, t._classList = null) } } }(), function () { function e() { } i.util.request = function (t, n) { n || (n = {}); var r = n.method ? n.method.toUpperCase() : "GET", o = n.onComplete || function () { }, a = new i.window.XMLHttpRequest, s = n.body || n.parameters; return a.onreadystatechange = function () { 4 === a.readyState && (o(a), a.onreadystatechange = e) }, "GET" === r && (s = null, "string" === typeof n.parameters && (t = function (e, t) { return e + (/\?/.test(e) ? "&" : "?") + t }(t, n.parameters))), a.open(r, t, !0), "POST" !== r && "PUT" !== r || a.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), a.send(s), a } }(), i.log = console.log, i.warn = console.warn, function () { function e() { return !1 } function t(e, t, n, r) { return -n * Math.cos(e / r * (Math.PI / 2)) + n + t } var n = i.window.requestAnimationFrame || i.window.webkitRequestAnimationFrame || i.window.mozRequestAnimationFrame || i.window.oRequestAnimationFrame || i.window.msRequestAnimationFrame || function (e) { return i.window.setTimeout(e, 1e3 / 60) }, r = i.window.cancelAnimationFrame || i.window.clearTimeout; function o() { return n.apply(i.window, arguments) } i.util.animate = function (n) { o((function (r) { n || (n = {}); var i, a = r || +new Date, s = n.duration || 500, l = a + s, c = n.onChange || e, u = n.abort || e, h = n.onComplete || e, f = n.easing || t, d = "startValue" in n ? n.startValue : 0, p = "endValue" in n ? n.endValue : 100, g = n.byValue || p - d; n.onStart && n.onStart(), function e(t) { var n = (i = t || +new Date) > l ? s : i - a, r = n / s, v = f(n, d, g, s), m = Math.abs((v - d) / g); if (!u()) return i > l ? (c(p, 1, 1), void h(p, 1, 1)) : (c(v, m, r), void o(e)); h(p, 1, 1) }(a) })) }, i.util.requestAnimFrame = o, i.util.cancelAnimFrame = function () { return r.apply(i.window, arguments) } }(), i.util.animateColor = function (e, t, n, r) { var o = new i.Color(e).getSource(), a = new i.Color(t).getSource(); r = r || {}, i.util.animate(i.util.object.extend(r, { duration: n || 500, startValue: o, endValue: a, byValue: a, easing: function (e, t, n, i) { return function (e, t, n) { var r = "rgba(" + parseInt(e[0] + n * (t[0] - e[0]), 10) + "," + parseInt(e[1] + n * (t[1] - e[1]), 10) + "," + parseInt(e[2] + n * (t[2] - e[2]), 10); return (r += "," + (e && t ? parseFloat(e[3] + n * (t[3] - e[3])) : 1)) + ")" }(t, n, r.colorEasing ? r.colorEasing(e, i) : 1 - Math.cos(e / i * (Math.PI / 2))) } })) }, function () { function e(e, t, n, r) { return e < Math.abs(t) ? (e = t, r = n / 4) : r = 0 === t && 0 === e ? n / (2 * Math.PI) * Math.asin(1) : n / (2 * Math.PI) * Math.asin(t / e), { a: e, c: t, p: n, s: r } } function t(e, t, n) { return e.a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * n - e.s) * (2 * Math.PI) / e.p) } function n(e, t, n, i) { return n - r(i - e, 0, n, i) + t } function r(e, t, n, r) { return (e /= r) < 1 / 2.75 ? n * (7.5625 * e * e) + t : e < 2 / 2.75 ? n * (7.5625 * (e -= 1.5 / 2.75) * e + .75) + t : e < 2.5 / 2.75 ? n * (7.5625 * (e -= 2.25 / 2.75) * e + .9375) + t : n * (7.5625 * (e -= 2.625 / 2.75) * e + .984375) + t } i.util.ease = { easeInQuad: function (e, t, n, r) { return n * (e /= r) * e + t }, easeOutQuad: function (e, t, n, r) { return -n * (e /= r) * (e - 2) + t }, easeInOutQuad: function (e, t, n, r) { return (e /= r / 2) < 1 ? n / 2 * e * e + t : -n / 2 * (--e * (e - 2) - 1) + t }, easeInCubic: function (e, t, n, r) { return n * (e /= r) * e * e + t }, easeOutCubic: function (e, t, n, r) { return n * ((e = e / r - 1) * e * e + 1) + t }, easeInOutCubic: function (e, t, n, r) { return (e /= r / 2) < 1 ? n / 2 * e * e * e + t : n / 2 * ((e -= 2) * e * e + 2) + t }, easeInQuart: function (e, t, n, r) { return n * (e /= r) * e * e * e + t }, easeOutQuart: function (e, t, n, r) { return -n * ((e = e / r - 1) * e * e * e - 1) + t }, easeInOutQuart: function (e, t, n, r) { return (e /= r / 2) < 1 ? n / 2 * e * e * e * e + t : -n / 2 * ((e -= 2) * e * e * e - 2) + t }, easeInQuint: function (e, t, n, r) { return n * (e /= r) * e * e * e * e + t }, easeOutQuint: function (e, t, n, r) { return n * ((e = e / r - 1) * e * e * e * e + 1) + t }, easeInOutQuint: function (e, t, n, r) { return (e /= r / 2) < 1 ? n / 2 * e * e * e * e * e + t : n / 2 * ((e -= 2) * e * e * e * e + 2) + t }, easeInSine: function (e, t, n, r) { return -n * Math.cos(e / r * (Math.PI / 2)) + n + t }, easeOutSine: function (e, t, n, r) { return n * Math.sin(e / r * (Math.PI / 2)) + t }, easeInOutSine: function (e, t, n, r) { return -n / 2 * (Math.cos(Math.PI * e / r) - 1) + t }, easeInExpo: function (e, t, n, r) { return 0 === e ? t : n * Math.pow(2, 10 * (e / r - 1)) + t }, easeOutExpo: function (e, t, n, r) { return e === r ? t + n : n * (1 - Math.pow(2, -10 * e / r)) + t }, easeInOutExpo: function (e, t, n, r) { return 0 === e ? t : e === r ? t + n : (e /= r / 2) < 1 ? n / 2 * Math.pow(2, 10 * (e - 1)) + t : n / 2 * (2 - Math.pow(2, -10 * --e)) + t }, easeInCirc: function (e, t, n, r) { return -n * (Math.sqrt(1 - (e /= r) * e) - 1) + t }, easeOutCirc: function (e, t, n, r) { return n * Math.sqrt(1 - (e = e / r - 1) * e) + t }, easeInOutCirc: function (e, t, n, r) { return (e /= r / 2) < 1 ? -n / 2 * (Math.sqrt(1 - e * e) - 1) + t : n / 2 * (Math.sqrt(1 - (e -= 2) * e) + 1) + t }, easeInElastic: function (n, r, i, o) { var a = 0; return 0 === n ? r : 1 === (n /= o) ? r + i : (a || (a = .3 * o), -t(e(i, i, a, 1.70158), n, o) + r) }, easeOutElastic: function (t, n, r, i) { var o = 0; if (0 === t) return n; if (1 === (t /= i)) return n + r; o || (o = .3 * i); var a = e(r, r, o, 1.70158); return a.a * Math.pow(2, -10 * t) * Math.sin((t * i - a.s) * (2 * Math.PI) / a.p) + a.c + n }, easeInOutElastic: function (n, r, i, o) { var a = 0; if (0 === n) return r; if (2 === (n /= o / 2)) return r + i; a || (a = o * (.3 * 1.5)); var s = e(i, i, a, 1.70158); return n < 1 ? -.5 * t(s, n, o) + r : s.a * Math.pow(2, -10 * (n -= 1)) * Math.sin((n * o - s.s) * (2 * Math.PI) / s.p) * .5 + s.c + r }, easeInBack: function (e, t, n, r, i) { return void 0 === i && (i = 1.70158), n * (e /= r) * e * ((i + 1) * e - i) + t }, easeOutBack: function (e, t, n, r, i) { return void 0 === i && (i = 1.70158), n * ((e = e / r - 1) * e * ((i + 1) * e + i) + 1) + t }, easeInOutBack: function (e, t, n, r, i) { return void 0 === i && (i = 1.70158), (e /= r / 2) < 1 ? n / 2 * (e * e * ((1 + (i *= 1.525)) * e - i)) + t : n / 2 * ((e -= 2) * e * ((1 + (i *= 1.525)) * e + i) + 2) + t }, easeInBounce: n, easeOutBounce: r, easeInOutBounce: function (e, t, i, o) { return e < o / 2 ? .5 * n(2 * e, 0, i, o) + t : .5 * r(2 * e - o, 0, i, o) + .5 * i + t } } }(), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}), n = t.util.object.extend, r = t.util.object.clone, i = t.util.toFixed, o = t.util.parseUnit, a = t.util.multiplyTransformMatrices, s = { cx: "left", x: "left", r: "radius", cy: "top", y: "top", display: "visible", visibility: "visible", transform: "transformMatrix", "fill-opacity": "fillOpacity", "fill-rule": "fillRule", "font-family": "fontFamily", "font-size": "fontSize", "font-style": "fontStyle", "font-weight": "fontWeight", "letter-spacing": "charSpacing", "paint-order": "paintFirst", "stroke-dasharray": "strokeDashArray", "stroke-dashoffset": "strokeDashOffset", "stroke-linecap": "strokeLineCap", "stroke-linejoin": "strokeLineJoin", "stroke-miterlimit": "strokeMiterLimit", "stroke-opacity": "strokeOpacity", "stroke-width": "strokeWidth", "text-decoration": "textDecoration", "text-anchor": "textAnchor", opacity: "opacity", "clip-path": "clipPath", "clip-rule": "clipRule", "vector-effect": "strokeUniform" }, l = { stroke: "strokeOpacity", fill: "fillOpacity" }, c = "font-size", u = "clip-path"; function h(e) { return e in s ? s[e] : e } function f(e, n, r, i) { var s, l = "[object Array]" === Object.prototype.toString.call(n); if ("fill" !== e && "stroke" !== e || "none" !== n) if ("vector-effect" === e) n = "non-scaling-stroke" === n; else if ("strokeDashArray" === e) n = "none" === n ? null : n.replace(/,/g, " ").split(/\s+/).map(parseFloat); else if ("transformMatrix" === e) n = r && r.transformMatrix ? a(r.transformMatrix, t.parseTransformAttribute(n)) : t.parseTransformAttribute(n); else if ("visible" === e) n = "none" !== n && "hidden" !== n, r && !1 === r.visible && (n = !1); else if ("opacity" === e) n = parseFloat(n), r && "undefined" !== typeof r.opacity && (n *= r.opacity); else if ("textAnchor" === e) n = "start" === n ? "left" : "end" === n ? "right" : "center"; else if ("charSpacing" === e) s = o(n, i) / i * 1e3; else if ("paintFirst" === e) { var c = n.indexOf("fill"), u = n.indexOf("stroke"); n = "fill"; (c > -1 && u > -1 && u < c || -1 === c && u > -1) && (n = "stroke") } else { if ("href" === e || "xlink:href" === e) return n; s = l ? n.map(o) : o(n, i) } else n = ""; return !l && isNaN(s) ? n : s } function d(e) { return new RegExp("^(" + e.join("|") + ")\\b", "i") } function p(e, t) { var n, r, i, o, a = []; for (i = 0, o = t.length; i < o; i++)n = t[i], r = e.getElementsByTagName(n), a = a.concat(Array.prototype.slice.call(r)); return a } function g(e, t) { var n, r = !0; return (n = v(e, t.pop())) && t.length && (r = function (e, t) { var n, r = !0; for (; e.parentNode && 1 === e.parentNode.nodeType && t.length;)r && (n = t.pop()), r = v(e = e.parentNode, n); return 0 === t.length }(e, t)), n && r && 0 === t.length } function v(e, t) { var n, r, i = e.nodeName, o = e.getAttribute("class"), a = e.getAttribute("id"); if (n = new RegExp("^" + i, "i"), t = t.replace(n, ""), a && t.length && (n = new RegExp("#" + a + "(?![a-zA-Z\\-]+)", "i"), t = t.replace(n, "")), o && t.length) for (r = (o = o.split(" ")).length; r--;)n = new RegExp("\\." + o[r] + "(?![a-zA-Z\\-]+)", "i"), t = t.replace(n, ""); return 0 === t.length } function m(e, t) { var n; if (e.getElementById && (n = e.getElementById(t)), n) return n; var r, i, o, a = e.getElementsByTagName("*"); for (i = 0, o = a.length; i < o; i++)if (t === (r = a[i]).getAttribute("id")) return r } t.svgValidTagNamesRegEx = d(["path", "circle", "polygon", "polyline", "ellipse", "rect", "line", "image", "text"]), t.svgViewBoxElementsRegEx = d(["symbol", "image", "marker", "pattern", "view", "svg"]), t.svgInvalidAncestorsRegEx = d(["pattern", "defs", "symbol", "metadata", "clipPath", "mask", "desc"]), t.svgValidParentsRegEx = d(["symbol", "g", "a", "svg", "clipPath", "defs"]), t.cssRules = {}, t.gradientDefs = {}, t.clipPaths = {}, t.parseTransformAttribute = function () { function e(e, n, r) { e[r] = Math.tan(t.util.degreesToRadians(n[0])) } var n = t.iMatrix, r = t.reNum, i = "(?:\\s+,?\\s*|,\\s*)", o = "(?:" + ("(?:(matrix)\\s*\\(\\s*(" + r + ")" + i + "(" + r + ")" + i + "(" + r + ")" + i + "(" + r + ")" + i + "(" + r + ")" + i + "(" + r + ")\\s*\\))") + "|" + ("(?:(translate)\\s*\\(\\s*(" + r + ")(?:" + i + "(" + r + "))?\\s*\\))") + "|" + ("(?:(scale)\\s*\\(\\s*(" + r + ")(?:" + i + "(" + r + "))?\\s*\\))") + "|" + ("(?:(rotate)\\s*\\(\\s*(" + r + ")(?:" + i + "(" + r + ")" + i + "(" + r + "))?\\s*\\))") + "|" + ("(?:(skewX)\\s*\\(\\s*(" + r + ")\\s*\\))") + "|" + ("(?:(skewY)\\s*\\(\\s*(" + r + ")\\s*\\))") + ")", a = new RegExp("^\\s*(?:" + ("(?:" + o + "(?:" + i + "*" + o + ")*)") + "?)\\s*$"), s = new RegExp(o, "g"); return function (r) { var i = n.concat(), l = []; if (!r || r && !a.test(r)) return i; r.replace(s, (function (r) { var a = new RegExp(o).exec(r).filter((function (e) { return !!e })), s = a[1], c = a.slice(2).map(parseFloat); switch (s) { case "translate": !function (e, t) { e[4] = t[0], 2 === t.length && (e[5] = t[1]) }(i, c); break; case "rotate": c[0] = t.util.degreesToRadians(c[0]), function (e, n) { var r = t.util.cos(n[0]), i = t.util.sin(n[0]), o = 0, a = 0; 3 === n.length && (o = n[1], a = n[2]), e[0] = r, e[1] = i, e[2] = -i, e[3] = r, e[4] = o - (r * o - i * a), e[5] = a - (i * o + r * a) }(i, c); break; case "scale": !function (e, t) { var n = t[0], r = 2 === t.length ? t[1] : t[0]; e[0] = n, e[3] = r }(i, c); break; case "skewX": e(i, c, 2); break; case "skewY": e(i, c, 1); break; case "matrix": i = c }l.push(i.concat()), i = n.concat() })); for (var c = l[0]; l.length > 1;)l.shift(), c = t.util.multiplyTransformMatrices(c, l[0]); return c } }(); var b = new RegExp("^\\s*(" + t.reNum + "+)\\s*,?\\s*(" + t.reNum + "+)\\s*,?\\s*(" + t.reNum + "+)\\s*,?\\s*(" + t.reNum + "+)\\s*$"); function y(e) { var n, r, i, a, s, l, c = e.getAttribute("viewBox"), u = 1, h = 1, f = e.getAttribute("width"), d = e.getAttribute("height"), p = e.getAttribute("x") || 0, g = e.getAttribute("y") || 0, v = e.getAttribute("preserveAspectRatio") || "", m = !c || !t.svgViewBoxElementsRegEx.test(e.nodeName) || !(c = c.match(b)), y = !f || !d || "100%" === f || "100%" === d, x = m && y, w = {}, _ = "", S = 0, C = 0; if (w.width = 0, w.height = 0, w.toBeParsed = x, x) return w; if (m) return w.width = o(f), w.height = o(d), w; if (n = -parseFloat(c[1]), r = -parseFloat(c[2]), i = parseFloat(c[3]), a = parseFloat(c[4]), w.minX = n, w.minY = r, w.viewBoxWidth = i, w.viewBoxHeight = a, y ? (w.width = i, w.height = a) : (w.width = o(f), w.height = o(d), u = w.width / i, h = w.height / a), "none" !== (v = t.util.parsePreserveAspectRatioAttribute(v)).alignX && ("meet" === v.meetOrSlice && (h = u = u > h ? h : u), "slice" === v.meetOrSlice && (h = u = u > h ? u : h), S = w.width - i * u, C = w.height - a * u, "Mid" === v.alignX && (S /= 2), "Mid" === v.alignY && (C /= 2), "Min" === v.alignX && (S = 0), "Min" === v.alignY && (C = 0)), 1 === u && 1 === h && 0 === n && 0 === r && 0 === p && 0 === g) return w; if ((p || g) && (_ = " translate(" + o(p) + " " + o(g) + ") "), s = _ + " matrix(" + u + " 0 0 " + h + " " + (n * u + S) + " " + (r * h + C) + ") ", w.viewboxTransform = t.parseTransformAttribute(s), "svg" === e.nodeName) { for (l = e.ownerDocument.createElementNS(t.svgNS, "g"); e.firstChild;)l.appendChild(e.firstChild); e.appendChild(l) } else s = (l = e).getAttribute("transform") + s; return l.setAttribute("transform", s), w } function x(e, t) { var n = "xlink:href", r = m(e, t.getAttribute(n).substr(1)); if (r && r.getAttribute(n) && x(e, r), ["gradientTransform", "x1", "x2", "y1", "y2", "gradientUnits", "cx", "cy", "r", "fx", "fy"].forEach((function (e) { r && !t.hasAttribute(e) && r.hasAttribute(e) && t.setAttribute(e, r.getAttribute(e)) })), !t.children.length) for (var i = r.cloneNode(!0); i.firstChild;)t.appendChild(i.firstChild); t.removeAttribute(n) } t.parseSVGDocument = function (e, n, i, o) { if (e) { !function (e) { for (var n = p(e, ["use", "svg:use"]), r = 0; n.length && r < n.length;) { var i, o, a, s, l = n[r], c = (l.getAttribute("xlink:href") || l.getAttribute("href")).substr(1), u = l.getAttribute("x") || 0, h = l.getAttribute("y") || 0, f = m(e, c).cloneNode(!0), d = (f.getAttribute("transform") || "") + " translate(" + u + ", " + h + ")", g = n.length, v = t.svgNS; if (y(f), /^svg$/i.test(f.nodeName)) { var b = f.ownerDocument.createElementNS(v, "g"); for (o = 0, s = (a = f.attributes).length; o < s; o++)i = a.item(o), b.setAttributeNS(v, i.nodeName, i.nodeValue); for (; f.firstChild;)b.appendChild(f.firstChild); f = b } for (o = 0, s = (a = l.attributes).length; o < s; o++)"x" !== (i = a.item(o)).nodeName && "y" !== i.nodeName && "xlink:href" !== i.nodeName && "href" !== i.nodeName && ("transform" === i.nodeName ? d = i.nodeValue + " " + d : f.setAttribute(i.nodeName, i.nodeValue)); f.setAttribute("transform", d), f.setAttribute("instantiated_by_use", "1"), f.removeAttribute("id"), l.parentNode.replaceChild(f, l), n.length === g && r++ } }(e); var a, s, l = t.Object.__uid++, c = y(e), u = t.util.toArray(e.getElementsByTagName("*")); if (c.crossOrigin = o && o.crossOrigin, c.svgUid = l, 0 === u.length && t.isLikelyNode) { var h = []; for (a = 0, s = (u = e.selectNodes('//*[name(.)!="svg"]')).length; a < s; a++)h[a] = u[a]; u = h } var f = u.filter((function (e) { return y(e), t.svgValidTagNamesRegEx.test(e.nodeName.replace("svg:", "")) && !function (e, t) { for (; e && (e = e.parentNode);)if (e.nodeName && t.test(e.nodeName.replace("svg:", "")) && !e.getAttribute("instantiated_by_use")) return !0; return !1 }(e, t.svgInvalidAncestorsRegEx) })); if (!f || f && !f.length) n && n([], {}); else { var d = {}; u.filter((function (e) { return "clipPath" === e.nodeName.replace("svg:", "") })).forEach((function (e) { var n = e.getAttribute("id"); d[n] = t.util.toArray(e.getElementsByTagName("*")).filter((function (e) { return t.svgValidTagNamesRegEx.test(e.nodeName.replace("svg:", "")) })) })), t.gradientDefs[l] = t.getGradientDefs(e), t.cssRules[l] = t.getCSSRules(e), t.clipPaths[l] = d, t.parseElements(f, (function (e, r) { n && (n(e, c, r, u), delete t.gradientDefs[l], delete t.cssRules[l], delete t.clipPaths[l]) }), r(c), i, o) } } }; var w = new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*(" + t.reNum + "(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|" + t.reNum + "))?\\s+(.*)"); n(t, { parseFontDeclaration: function (e, t) { var n = e.match(w); if (n) { var r = n[1], i = n[3], a = n[4], s = n[5], l = n[6]; r && (t.fontStyle = r), i && (t.fontWeight = isNaN(parseFloat(i)) ? i : parseFloat(i)), a && (t.fontSize = o(a)), l && (t.fontFamily = l), s && (t.lineHeight = "normal" === s ? 1 : s) } }, getGradientDefs: function (e) { var t, n = p(e, ["linearGradient", "radialGradient", "svg:linearGradient", "svg:radialGradient"]), r = 0, i = {}; for (r = n.length; r--;)(t = n[r]).getAttribute("xlink:href") && x(e, t), i[t.getAttribute("id")] = t; return i }, parseAttributes: function (e, r, a) { if (e) { var s, d, p, v = {}; "undefined" === typeof a && (a = e.getAttribute("svgUid")), e.parentNode && t.svgValidParentsRegEx.test(e.parentNode.nodeName) && (v = t.parseAttributes(e.parentNode, r, a)); var m = r.reduce((function (t, n) { return (s = e.getAttribute(n)) && (t[n] = s), t }), {}), b = n(function (e, n) { var r = {}; for (var i in t.cssRules[n]) if (g(e, i.split(" "))) for (var o in t.cssRules[n][i]) r[o] = t.cssRules[n][i][o]; return r }(e, a), t.parseStyleAttribute(e)); m = n(m, b), b[u] && e.setAttribute(u, b[u]), d = p = v.fontSize || t.Text.DEFAULT_SVG_FONT_SIZE, m[c] && (m[c] = d = o(m[c], p)); var y, x, w = {}; for (var _ in m) x = f(y = h(_), m[_], v, d), w[y] = x; w && w.font && t.parseFontDeclaration(w.font, w); var S = n(v, w); return t.svgValidParentsRegEx.test(e.nodeName) ? S : function (e) { for (var n in l) if ("undefined" !== typeof e[l[n]] && "" !== e[n]) { if ("undefined" === typeof e[n]) { if (!t.Object.prototype[n]) continue; e[n] = t.Object.prototype[n] } if (0 !== e[n].indexOf("url(")) { var r = new t.Color(e[n]); e[n] = r.setAlpha(i(r.getAlpha() * e[l[n]], 2)).toRgba() } } return e }(S) } }, parseElements: function (e, n, r, i, o) { new t.ElementsParser(e, n, r, i, o).parse() }, parseStyleAttribute: function (e) { var t = {}, n = e.getAttribute("style"); return n ? ("string" === typeof n ? function (e, t) { var n, r; e.replace(/;\s*$/, "").split(";").forEach((function (e) { var i = e.split(":"); n = i[0].trim().toLowerCase(), r = i[1].trim(), t[n] = r })) }(n, t) : function (e, t) { var n, r; for (var i in e) "undefined" !== typeof e[i] && (n = i.toLowerCase(), r = e[i], t[n] = r) }(n, t), t) : t }, parsePointsAttribute: function (e) { if (!e) return null; var t, n, r = []; for (t = 0, n = (e = (e = e.replace(/,/g, " ").trim()).split(/\s+/)).length; t < n; t += 2)r.push({ x: parseFloat(e[t]), y: parseFloat(e[t + 1]) }); return r }, getCSSRules: function (e) { var n, r, i = e.getElementsByTagName("style"), o = {}; for (n = 0, r = i.length; n < r; n++) { var a = i[n].textContent || ""; "" !== (a = a.replace(/\/\*[\s\S]*?\*\//g, "")).trim() && a.match(/[^{]*\{[\s\S]*?\}/g).map((function (e) { return e.trim() })).forEach((function (e) { var i = e.match(/([\s\S]*?)\s*\{([^}]*)\}/), a = {}, s = i[2].trim().replace(/;$/, "").split(/\s*;\s*/); for (n = 0, r = s.length; n < r; n++) { var l = s[n].split(/\s*:\s*/), c = l[0], u = l[1]; a[c] = u } (e = i[1]).split(",").forEach((function (e) { "" !== (e = e.replace(/^svg/i, "").trim()) && (o[e] ? t.util.object.extend(o[e], a) : o[e] = t.util.object.clone(a)) })) })) } return o }, loadSVGFromURL: function (e, n, r, i) { e = e.replace(/^\n\s*/, "").trim(), new t.util.request(e, { method: "get", onComplete: function (e) { var o = e.responseXML; o && !o.documentElement && t.window.ActiveXObject && e.responseText && ((o = new ActiveXObject("Microsoft.XMLDOM")).async = "false", o.loadXML(e.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i, ""))); if (!o || !o.documentElement) return n && n(null), !1; t.parseSVGDocument(o.documentElement, (function (e, t, r, i) { n && n(e, t, r, i) }), r, i) } }) }, loadSVGFromString: function (e, n, r, i) { var o; if (e = e.trim(), "undefined" !== typeof t.window.DOMParser) { var a = new t.window.DOMParser; a && a.parseFromString && (o = a.parseFromString(e, "text/xml")) } else t.window.ActiveXObject && ((o = new ActiveXObject("Microsoft.XMLDOM")).async = "false", o.loadXML(e.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i, ""))); t.parseSVGDocument(o.documentElement, (function (e, t, r, i) { n(e, t, r, i) }), r, i) } }) }(t), i.ElementsParser = function (e, t, n, r, i, o) { this.elements = e, this.callback = t, this.options = n, this.reviver = r, this.svgUid = n && n.svgUid || 0, this.parsingOptions = i, this.regexUrl = /^url\(['"]?#([^'"]+)['"]?\)/g, this.doc = o }, (r = i.ElementsParser.prototype).parse = function () { this.instances = new Array(this.elements.length), this.numElements = this.elements.length, this.createObjects() }, r.createObjects = function () { var e = this; this.elements.forEach((function (t, n) { t.setAttribute("svgUid", e.svgUid), e.createObject(t, n) })) }, r.findTag = function (e) { return i[i.util.string.capitalize(e.tagName.replace("svg:", ""))] }, r.createObject = function (e, t) { var n = this.findTag(e); if (n && n.fromElement) try { n.fromElement(e, this.createCallback(t, e), this.options) } catch (r) { i.log(r) } else this.checkIfDone() }, r.createCallback = function (e, t) { var n = this; return function (r) { var o; n.resolveGradient(r, t, "fill"), n.resolveGradient(r, t, "stroke"), r instanceof i.Image && r._originalElement && (o = r.parsePreserveAspectRatioAttribute(t)), r._removeTransformMatrix(o), n.resolveClipPath(r, t), n.reviver && n.reviver(t, r), n.instances[e] = r, n.checkIfDone() } }, r.extractPropertyDefinition = function (e, t, n) { var r = e[t], o = this.regexUrl; if (o.test(r)) { o.lastIndex = 0; var a = o.exec(r)[1]; return o.lastIndex = 0, i[n][this.svgUid][a] } }, r.resolveGradient = function (e, t, n) { var r = this.extractPropertyDefinition(e, n, "gradientDefs"); if (r) { var o = t.getAttribute(n + "-opacity"), a = i.Gradient.fromElement(r, e, o, this.options); e.set(n, a) } }, r.createClipPathCallback = function (e, t) { return function (e) { e._removeTransformMatrix(), e.fillRule = e.clipRule, t.push(e) } }, r.resolveClipPath = function (e, t) { var n, r, o, a, s = this.extractPropertyDefinition(e, "clipPath", "clipPaths"); if (s) { o = [], r = i.util.invertTransform(e.calcTransformMatrix()); for (var l = s[0].parentNode, c = t; c.parentNode && c.getAttribute("clip-path") !== e.clipPath;)c = c.parentNode; c.parentNode.appendChild(l); for (var u = 0; u < s.length; u++)n = s[u], this.findTag(n).fromElement(n, this.createClipPathCallback(e, o), this.options); s = 1 === o.length ? o[0] : new i.Group(o), a = i.util.multiplyTransformMatrices(r, s.calcTransformMatrix()), s.clipPath && this.resolveClipPath(s, c); var h = i.util.qrDecompose(a); s.flipX = !1, s.flipY = !1, s.set("scaleX", h.scaleX), s.set("scaleY", h.scaleY), s.angle = h.angle, s.skewX = h.skewX, s.skewY = 0, s.setPositionByOrigin({ x: h.translateX, y: h.translateY }, "center", "center"), e.clipPath = s } else delete e.clipPath }, r.checkIfDone = function () { 0 === --this.numElements && (this.instances = this.instances.filter((function (e) { return null != e })), this.callback(this.instances, this.elements)) }, function (e) { "use strict"; var t = e.fabric || (e.fabric = {}); function n(e, t) { this.x = e, this.y = t } t.Point ? t.warn("fabric.Point is already defined") : (t.Point = n, n.prototype = { type: "point", constructor: n, add: function (e) { return new n(this.x + e.x, this.y + e.y) }, addEquals: function (e) { return this.x += e.x, this.y += e.y, this }, scalarAdd: function (e) { return new n(this.x + e, this.y + e) }, scalarAddEquals: function (e) { return this.x += e, this.y += e, this }, subtract: function (e) { return new n(this.x - e.x, this.y - e.y) }, subtractEquals: function (e) { return this.x -= e.x, this.y -= e.y, this }, scalarSubtract: function (e) { return new n(this.x - e, this.y - e) }, scalarSubtractEquals: function (e) { return this.x -= e, this.y -= e, this }, multiply: function (e) { return new n(this.x * e, this.y * e) }, multiplyEquals: function (e) { return this.x *= e, this.y *= e, this }, divide: function (e) { return new n(this.x / e, this.y / e) }, divideEquals: function (e) { return this.x /= e, this.y /= e, this }, eq: function (e) { return this.x === e.x && this.y === e.y }, lt: function (e) { return this.x < e.x && this.y < e.y }, lte: function (e) { return this.x <= e.x && this.y <= e.y }, gt: function (e) { return this.x > e.x && this.y > e.y }, gte: function (e) { return this.x >= e.x && this.y >= e.y }, lerp: function (e, t) { return "undefined" === typeof t && (t = .5), t = Math.max(Math.min(1, t), 0), new n(this.x + (e.x - this.x) * t, this.y + (e.y - this.y) * t) }, distanceFrom: function (e) { var t = this.x - e.x, n = this.y - e.y; return Math.sqrt(t * t + n * n) }, midPointFrom: function (e) { return this.lerp(e) }, min: function (e) { return new n(Math.min(this.x, e.x), Math.min(this.y, e.y)) }, max: function (e) { return new n(Math.max(this.x, e.x), Math.max(this.y, e.y)) }, toString: function () { return this.x + "," + this.y }, setXY: function (e, t) { return this.x = e, this.y = t, this }, setX: function (e) { return this.x = e, this }, setY: function (e) { return this.y = e, this }, setFromPoint: function (e) { return this.x = e.x, this.y = e.y, this }, swap: function (e) { var t = this.x, n = this.y; this.x = e.x, this.y = e.y, e.x = t, e.y = n }, clone: function () { return new n(this.x, this.y) } }) }(t), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}); function n(e) { this.status = e, this.points = [] } t.Intersection ? t.warn("fabric.Intersection is already defined") : (t.Intersection = n, t.Intersection.prototype = { constructor: n, appendPoint: function (e) { return this.points.push(e), this }, appendPoints: function (e) { return this.points = this.points.concat(e), this } }, t.Intersection.intersectLineLine = function (e, r, i, o) { var a, s = (o.x - i.x) * (e.y - i.y) - (o.y - i.y) * (e.x - i.x), l = (r.x - e.x) * (e.y - i.y) - (r.y - e.y) * (e.x - i.x), c = (o.y - i.y) * (r.x - e.x) - (o.x - i.x) * (r.y - e.y); if (0 !== c) { var u = s / c, h = l / c; 0 <= u && u <= 1 && 0 <= h && h <= 1 ? (a = new n("Intersection")).appendPoint(new t.Point(e.x + u * (r.x - e.x), e.y + u * (r.y - e.y))) : a = new n } else a = new n(0 === s || 0 === l ? "Coincident" : "Parallel"); return a }, t.Intersection.intersectLinePolygon = function (e, t, r) { var i, o, a, s, l = new n, c = r.length; for (s = 0; s < c; s++)i = r[s], o = r[(s + 1) % c], a = n.intersectLineLine(e, t, i, o), l.appendPoints(a.points); return l.points.length > 0 && (l.status = "Intersection"), l }, t.Intersection.intersectPolygonPolygon = function (e, t) { var r, i = new n, o = e.length; for (r = 0; r < o; r++) { var a = e[r], s = e[(r + 1) % o], l = n.intersectLinePolygon(a, s, t); i.appendPoints(l.points) } return i.points.length > 0 && (i.status = "Intersection"), i }, t.Intersection.intersectPolygonRectangle = function (e, r, i) { var o = r.min(i), a = r.max(i), s = new t.Point(a.x, o.y), l = new t.Point(o.x, a.y), c = n.intersectLinePolygon(o, s, e), u = n.intersectLinePolygon(s, a, e), h = n.intersectLinePolygon(a, l, e), f = n.intersectLinePolygon(l, o, e), d = new n; return d.appendPoints(c.points), d.appendPoints(u.points), d.appendPoints(h.points), d.appendPoints(f.points), d.points.length > 0 && (d.status = "Intersection"), d }) }(t), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}); function n(e) { e ? this._tryParsingColor(e) : this.setSource([0, 0, 0, 1]) } function r(e, t, n) { return n < 0 && (n += 1), n > 1 && (n -= 1), n < 1 / 6 ? e + 6 * (t - e) * n : n < .5 ? t : n < 2 / 3 ? e + (t - e) * (2 / 3 - n) * 6 : e } t.Color ? t.warn("fabric.Color is already defined.") : (t.Color = n, t.Color.prototype = { _tryParsingColor: function (e) { var t; e in n.colorNameMap && (e = n.colorNameMap[e]), "transparent" === e && (t = [255, 255, 255, 0]), t || (t = n.sourceFromHex(e)), t || (t = n.sourceFromRgb(e)), t || (t = n.sourceFromHsl(e)), t || (t = [0, 0, 0, 1]), t && this.setSource(t) }, _rgbToHsl: function (e, n, r) { e /= 255, n /= 255, r /= 255; var i, o, a, s = t.util.array.max([e, n, r]), l = t.util.array.min([e, n, r]); if (a = (s + l) / 2, s === l) i = o = 0; else { var c = s - l; switch (o = a > .5 ? c / (2 - s - l) : c / (s + l), s) { case e: i = (n - r) / c + (n < r ? 6 : 0); break; case n: i = (r - e) / c + 2; break; case r: i = (e - n) / c + 4 }i /= 6 } return [Math.round(360 * i), Math.round(100 * o), Math.round(100 * a)] }, getSource: function () { return this._source }, setSource: function (e) { this._source = e }, toRgb: function () { var e = this.getSource(); return "rgb(" + e[0] + "," + e[1] + "," + e[2] + ")" }, toRgba: function () { var e = this.getSource(); return "rgba(" + e[0] + "," + e[1] + "," + e[2] + "," + e[3] + ")" }, toHsl: function () { var e = this.getSource(), t = this._rgbToHsl(e[0], e[1], e[2]); return "hsl(" + t[0] + "," + t[1] + "%," + t[2] + "%)" }, toHsla: function () { var e = this.getSource(), t = this._rgbToHsl(e[0], e[1], e[2]); return "hsla(" + t[0] + "," + t[1] + "%," + t[2] + "%," + e[3] + ")" }, toHex: function () { var e, t, n, r = this.getSource(); return e = 1 === (e = r[0].toString(16)).length ? "0" + e : e, t = 1 === (t = r[1].toString(16)).length ? "0" + t : t, n = 1 === (n = r[2].toString(16)).length ? "0" + n : n, e.toUpperCase() + t.toUpperCase() + n.toUpperCase() }, toHexa: function () { var e, t = this.getSource(); return e = 1 === (e = (e = Math.round(255 * t[3])).toString(16)).length ? "0" + e : e, this.toHex() + e.toUpperCase() }, getAlpha: function () { return this.getSource()[3] }, setAlpha: function (e) { var t = this.getSource(); return t[3] = e, this.setSource(t), this }, toGrayscale: function () { var e = this.getSource(), t = parseInt((.3 * e[0] + .59 * e[1] + .11 * e[2]).toFixed(0), 10), n = e[3]; return this.setSource([t, t, t, n]), this }, toBlackWhite: function (e) { var t = this.getSource(), n = (.3 * t[0] + .59 * t[1] + .11 * t[2]).toFixed(0), r = t[3]; return e = e || 127, n = Number(n) < Number(e) ? 0 : 255, this.setSource([n, n, n, r]), this }, overlayWith: function (e) { e instanceof n || (e = new n(e)); var t, r = [], i = this.getAlpha(), o = this.getSource(), a = e.getSource(); for (t = 0; t < 3; t++)r.push(Math.round(.5 * o[t] + .5 * a[t])); return r[3] = i, this.setSource(r), this } }, t.Color.reRGBa = /^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i, t.Color.reHSLa = /^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i, t.Color.reHex = /^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i, t.Color.colorNameMap = { aliceblue: "#F0F8FF", antiquewhite: "#FAEBD7", aqua: "#00FFFF", aquamarine: "#7FFFD4", azure: "#F0FFFF", beige: "#F5F5DC", bisque: "#FFE4C4", black: "#000000", blanchedalmond: "#FFEBCD", blue: "#0000FF", blueviolet: "#8A2BE2", brown: "#A52A2A", burlywood: "#DEB887", cadetblue: "#5F9EA0", chartreuse: "#7FFF00", chocolate: "#D2691E", coral: "#FF7F50", cornflowerblue: "#6495ED", cornsilk: "#FFF8DC", crimson: "#DC143C", cyan: "#00FFFF", darkblue: "#00008B", darkcyan: "#008B8B", darkgoldenrod: "#B8860B", darkgray: "#A9A9A9", darkgrey: "#A9A9A9", darkgreen: "#006400", darkkhaki: "#BDB76B", darkmagenta: "#8B008B", darkolivegreen: "#556B2F", darkorange: "#FF8C00", darkorchid: "#9932CC", darkred: "#8B0000", darksalmon: "#E9967A", darkseagreen: "#8FBC8F", darkslateblue: "#483D8B", darkslategray: "#2F4F4F", darkslategrey: "#2F4F4F", darkturquoise: "#00CED1", darkviolet: "#9400D3", deeppink: "#FF1493", deepskyblue: "#00BFFF", dimgray: "#696969", dimgrey: "#696969", dodgerblue: "#1E90FF", firebrick: "#B22222", floralwhite: "#FFFAF0", forestgreen: "#228B22", fuchsia: "#FF00FF", gainsboro: "#DCDCDC", ghostwhite: "#F8F8FF", gold: "#FFD700", goldenrod: "#DAA520", gray: "#808080", grey: "#808080", green: "#008000", greenyellow: "#ADFF2F", honeydew: "#F0FFF0", hotpink: "#FF69B4", indianred: "#CD5C5C", indigo: "#4B0082", ivory: "#FFFFF0", khaki: "#F0E68C", lavender: "#E6E6FA", lavenderblush: "#FFF0F5", lawngreen: "#7CFC00", lemonchiffon: "#FFFACD", lightblue: "#ADD8E6", lightcoral: "#F08080", lightcyan: "#E0FFFF", lightgoldenrodyellow: "#FAFAD2", lightgray: "#D3D3D3", lightgrey: "#D3D3D3", lightgreen: "#90EE90", lightpink: "#FFB6C1", lightsalmon: "#FFA07A", lightseagreen: "#20B2AA", lightskyblue: "#87CEFA", lightslategray: "#778899", lightslategrey: "#778899", lightsteelblue: "#B0C4DE", lightyellow: "#FFFFE0", lime: "#00FF00", limegreen: "#32CD32", linen: "#FAF0E6", magenta: "#FF00FF", maroon: "#800000", mediumaquamarine: "#66CDAA", mediumblue: "#0000CD", mediumorchid: "#BA55D3", mediumpurple: "#9370DB", mediumseagreen: "#3CB371", mediumslateblue: "#7B68EE", mediumspringgreen: "#00FA9A", mediumturquoise: "#48D1CC", mediumvioletred: "#C71585", midnightblue: "#191970", mintcream: "#F5FFFA", mistyrose: "#FFE4E1", moccasin: "#FFE4B5", navajowhite: "#FFDEAD", navy: "#000080", oldlace: "#FDF5E6", olive: "#808000", olivedrab: "#6B8E23", orange: "#FFA500", orangered: "#FF4500", orchid: "#DA70D6", palegoldenrod: "#EEE8AA", palegreen: "#98FB98", paleturquoise: "#AFEEEE", palevioletred: "#DB7093", papayawhip: "#FFEFD5", peachpuff: "#FFDAB9", peru: "#CD853F", pink: "#FFC0CB", plum: "#DDA0DD", powderblue: "#B0E0E6", purple: "#800080", rebeccapurple: "#663399", red: "#FF0000", rosybrown: "#BC8F8F", royalblue: "#4169E1", saddlebrown: "#8B4513", salmon: "#FA8072", sandybrown: "#F4A460", seagreen: "#2E8B57", seashell: "#FFF5EE", sienna: "#A0522D", silver: "#C0C0C0", skyblue: "#87CEEB", slateblue: "#6A5ACD", slategray: "#708090", slategrey: "#708090", snow: "#FFFAFA", springgreen: "#00FF7F", steelblue: "#4682B4", tan: "#D2B48C", teal: "#008080", thistle: "#D8BFD8", tomato: "#FF6347", turquoise: "#40E0D0", violet: "#EE82EE", wheat: "#F5DEB3", white: "#FFFFFF", whitesmoke: "#F5F5F5", yellow: "#FFFF00", yellowgreen: "#9ACD32" }, t.Color.fromRgb = function (e) { return n.fromSource(n.sourceFromRgb(e)) }, t.Color.sourceFromRgb = function (e) { var t = e.match(n.reRGBa); if (t) { var r = parseInt(t[1], 10) / (/%$/.test(t[1]) ? 100 : 1) * (/%$/.test(t[1]) ? 255 : 1), i = parseInt(t[2], 10) / (/%$/.test(t[2]) ? 100 : 1) * (/%$/.test(t[2]) ? 255 : 1), o = parseInt(t[3], 10) / (/%$/.test(t[3]) ? 100 : 1) * (/%$/.test(t[3]) ? 255 : 1); return [parseInt(r, 10), parseInt(i, 10), parseInt(o, 10), t[4] ? parseFloat(t[4]) : 1] } }, t.Color.fromRgba = n.fromRgb, t.Color.fromHsl = function (e) { return n.fromSource(n.sourceFromHsl(e)) }, t.Color.sourceFromHsl = function (e) { var t = e.match(n.reHSLa); if (t) { var i, o, a, s = (parseFloat(t[1]) % 360 + 360) % 360 / 360, l = parseFloat(t[2]) / (/%$/.test(t[2]) ? 100 : 1), c = parseFloat(t[3]) / (/%$/.test(t[3]) ? 100 : 1); if (0 === l) i = o = a = c; else { var u = c <= .5 ? c * (l + 1) : c + l - c * l, h = 2 * c - u; i = r(h, u, s + 1 / 3), o = r(h, u, s), a = r(h, u, s - 1 / 3) } return [Math.round(255 * i), Math.round(255 * o), Math.round(255 * a), t[4] ? parseFloat(t[4]) : 1] } }, t.Color.fromHsla = n.fromHsl, t.Color.fromHex = function (e) { return n.fromSource(n.sourceFromHex(e)) }, t.Color.sourceFromHex = function (e) { if (e.match(n.reHex)) { var t = e.slice(e.indexOf("#") + 1), r = 3 === t.length || 4 === t.length, i = 8 === t.length || 4 === t.length, o = r ? t.charAt(0) + t.charAt(0) : t.substring(0, 2), a = r ? t.charAt(1) + t.charAt(1) : t.substring(2, 4), s = r ? t.charAt(2) + t.charAt(2) : t.substring(4, 6), l = i ? r ? t.charAt(3) + t.charAt(3) : t.substring(6, 8) : "FF"; return [parseInt(o, 16), parseInt(a, 16), parseInt(s, 16), parseFloat((parseInt(l, 16) / 255).toFixed(2))] } }, t.Color.fromSource = function (e) { var t = new n; return t.setSource(e), t }) }(t), function () { function e(e, t) { var n, r, o, a, s = e.getAttribute("style"), l = e.getAttribute("offset") || 0; if (l = (l = parseFloat(l) / (/%$/.test(l) ? 100 : 1)) < 0 ? 0 : l > 1 ? 1 : l, s) { var c = s.split(/\s*;\s*/); for ("" === c[c.length - 1] && c.pop(), a = c.length; a--;) { var u = c[a].split(/\s*:\s*/), h = u[0].trim(), f = u[1].trim(); "stop-color" === h ? n = f : "stop-opacity" === h && (o = f) } } return n || (n = e.getAttribute("stop-color") || "rgb(0,0,0)"), o || (o = e.getAttribute("stop-opacity")), r = (n = new i.Color(n)).getAlpha(), o = isNaN(parseFloat(o)) ? 1 : parseFloat(o), o *= r * t, { offset: l, color: n.toRgb(), opacity: o } } var t = i.util.object.clone; function n(e, t, n, r) { var i, o; Object.keys(t).forEach((function (e) { "Infinity" === (i = t[e]) ? o = 1 : "-Infinity" === i ? o = 0 : (o = parseFloat(t[e], 10), "string" === typeof i && /^(\d+\.\d+)%|(\d+)%$/.test(i) && (o *= .01, "pixels" === r && ("x1" !== e && "x2" !== e && "r2" !== e || (o *= n.viewBoxWidth || n.width), "y1" !== e && "y2" !== e || (o *= n.viewBoxHeight || n.height)))), t[e] = o })) } i.Gradient = i.util.createClass({ offsetX: 0, offsetY: 0, gradientTransform: null, gradientUnits: "pixels", type: "linear", initialize: function (e) { e || (e = {}), e.coords || (e.coords = {}); var t, n = this; Object.keys(e).forEach((function (t) { n[t] = e[t] })), this.id ? this.id += "_" + i.Object.__uid++ : this.id = i.Object.__uid++, t = { x1: e.coords.x1 || 0, y1: e.coords.y1 || 0, x2: e.coords.x2 || 0, y2: e.coords.y2 || 0 }, "radial" === this.type && (t.r1 = e.coords.r1 || 0, t.r2 = e.coords.r2 || 0), this.coords = t, this.colorStops = e.colorStops.slice() }, addColorStop: function (e) { for (var t in e) { var n = new i.Color(e[t]); this.colorStops.push({ offset: parseFloat(t), color: n.toRgb(), opacity: n.getAlpha() }) } return this }, toObject: function (e) { var t = { type: this.type, coords: this.coords, colorStops: this.colorStops, offsetX: this.offsetX, offsetY: this.offsetY, gradientUnits: this.gradientUnits, gradientTransform: this.gradientTransform ? this.gradientTransform.concat() : this.gradientTransform }; return i.util.populateWithProperties(this, t, e), t }, toSVG: function (e, n) { var r, o, a, s, l = t(this.coords, !0), c = (n = n || {}, t(this.colorStops, !0)), u = l.r1 > l.r2, h = this.gradientTransform ? this.gradientTransform.concat() : i.iMatrix.concat(), f = -this.offsetX, d = -this.offsetY, p = !!n.additionalTransform, g = "pixels" === this.gradientUnits ? "userSpaceOnUse" : "objectBoundingBox"; if (c.sort((function (e, t) { return e.offset - t.offset })), "objectBoundingBox" === g ? (f /= e.width, d /= e.height) : (f += e.width / 2, d += e.height / 2), "path" === e.type && (f -= e.pathOffset.x, d -= e.pathOffset.y), h[4] -= f, h[5] -= d, s = 'id="SVGID_' + this.id + '" gradientUnits="' + g + '"', s += ' gradientTransform="' + (p ? n.additionalTransform + " " : "") + i.util.matrixToSVG(h) + '" ', "linear" === this.type ? a = ["<linearGradient ", s, ' x1="', l.x1, '" y1="', l.y1, '" x2="', l.x2, '" y2="', l.y2, '">\n'] : "radial" === this.type && (a = ["<radialGradient ", s, ' cx="', u ? l.x1 : l.x2, '" cy="', u ? l.y1 : l.y2, '" r="', u ? l.r1 : l.r2, '" fx="', u ? l.x2 : l.x1, '" fy="', u ? l.y2 : l.y1, '">\n']), "radial" === this.type) { if (u) for ((c = c.concat()).reverse(), r = 0, o = c.length; r < o; r++)c[r].offset = 1 - c[r].offset; var v = Math.min(l.r1, l.r2); if (v > 0) { var m = v / Math.max(l.r1, l.r2); for (r = 0, o = c.length; r < o; r++)c[r].offset += m * (1 - c[r].offset) } } for (r = 0, o = c.length; r < o; r++) { var b = c[r]; a.push("<stop ", 'offset="', 100 * b.offset + "%", '" style="stop-color:', b.color, "undefined" !== typeof b.opacity ? ";stop-opacity: " + b.opacity : ";", '"/>\n') } return a.push("linear" === this.type ? "</linearGradient>\n" : "</radialGradient>\n"), a.join("") }, toLive: function (e, t) { var n, r, o, a = i.util.object.clone(this.coords), s = a.x1, l = a.y1, c = a.x2, u = a.y2, h = this.colorStops; if (this.type) { for (t instanceof i.Text && "percentage" === this.gradientUnits && (s *= t.width, l *= t.height, c *= t.width, u *= t.height), "linear" === this.type ? n = e.createLinearGradient(s, l, c, u) : "radial" === this.type && (n = e.createRadialGradient(s, l, a.r1, c, u, a.r2)), r = 0, o = h.length; r < o; r++) { var f = h[r].color, d = h[r].opacity, p = h[r].offset; "undefined" !== typeof d && (f = new i.Color(f).setAlpha(d).toRgba()), n.addColorStop(p, f) } return n } } }), i.util.object.extend(i.Gradient, { fromElement: function (t, r, o, a) { var s = parseFloat(o) / (/%$/.test(o) ? 100 : 1); s = s < 0 ? 0 : s > 1 ? 1 : s, isNaN(s) && (s = 1); var l, c, u, h, f = t.getElementsByTagName("stop"), d = "userSpaceOnUse" === t.getAttribute("gradientUnits") ? "pixels" : "percentage", p = t.getAttribute("gradientTransform") || "", g = [], v = 0, m = 0; for ("linearGradient" === t.nodeName || "LINEARGRADIENT" === t.nodeName ? (l = "linear", c = function (e) { return { x1: e.getAttribute("x1") || 0, y1: e.getAttribute("y1") || 0, x2: e.getAttribute("x2") || "100%", y2: e.getAttribute("y2") || 0 } }(t)) : (l = "radial", c = function (e) { return { x1: e.getAttribute("fx") || e.getAttribute("cx") || "50%", y1: e.getAttribute("fy") || e.getAttribute("cy") || "50%", r1: 0, x2: e.getAttribute("cx") || "50%", y2: e.getAttribute("cy") || "50%", r2: e.getAttribute("r") || "50%" } }(t)), u = f.length; u--;)g.push(e(f[u], s)); return h = i.parseTransformAttribute(p), n(r, c, a, d), "pixels" === d && (v = -r.left, m = -r.top), new i.Gradient({ id: t.getAttribute("id"), type: l, coords: c, colorStops: g, gradientUnits: d, gradientTransform: h, offsetX: v, offsetY: m }) }, forObject: function (e, t) { return t || (t = {}), n(e, t.coords, t.gradientUnits, { viewBoxWidth: 100, viewBoxHeight: 100 }), new i.Gradient(t) } }) }(), function () { "use strict"; var e = i.util.toFixed; i.Pattern = i.util.createClass({ repeat: "repeat", offsetX: 0, offsetY: 0, crossOrigin: "", patternTransform: null, initialize: function (e, t) { if (e || (e = {}), this.id = i.Object.__uid++, this.setOptions(e), !e.source || e.source && "string" !== typeof e.source) t && t(this); else if ("undefined" !== typeof i.util.getFunctionBody(e.source)) this.source = new Function(i.util.getFunctionBody(e.source)), t && t(this); else { var n = this; this.source = i.util.createImage(), i.util.loadImage(e.source, (function (e) { n.source = e, t && t(n) }), null, this.crossOrigin) } }, toObject: function (t) { var n, r, o = i.Object.NUM_FRACTION_DIGITS; return "function" === typeof this.source ? n = String(this.source) : "string" === typeof this.source.src ? n = this.source.src : "object" === typeof this.source && this.source.toDataURL && (n = this.source.toDataURL()), r = { type: "pattern", source: n, repeat: this.repeat, crossOrigin: this.crossOrigin, offsetX: e(this.offsetX, o), offsetY: e(this.offsetY, o), patternTransform: this.patternTransform ? this.patternTransform.concat() : null }, i.util.populateWithProperties(this, r, t), r }, toSVG: function (e) { var t = "function" === typeof this.source ? this.source() : this.source, n = t.width / e.width, r = t.height / e.height, i = this.offsetX / e.width, o = this.offsetY / e.height, a = ""; return "repeat-x" !== this.repeat && "no-repeat" !== this.repeat || (r = 1, o && (r += Math.abs(o))), "repeat-y" !== this.repeat && "no-repeat" !== this.repeat || (n = 1, i && (n += Math.abs(i))), t.src ? a = t.src : t.toDataURL && (a = t.toDataURL()), '<pattern id="SVGID_' + this.id + '" x="' + i + '" y="' + o + '" width="' + n + '" height="' + r + '">\n<image x="0" y="0" width="' + t.width + '" height="' + t.height + '" xlink:href="' + a + '"></image>\n</pattern>\n' }, setOptions: function (e) { for (var t in e) this[t] = e[t] }, toLive: function (e) { var t = "function" === typeof this.source ? this.source() : this.source; if (!t) return ""; if ("undefined" !== typeof t.src) { if (!t.complete) return ""; if (0 === t.naturalWidth || 0 === t.naturalHeight) return "" } return e.createPattern(t, this.repeat) } }) }(), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}), n = t.util.toFixed; t.Shadow ? t.warn("fabric.Shadow is already defined.") : (t.Shadow = t.util.createClass({ color: "rgb(0,0,0)", blur: 0, offsetX: 0, offsetY: 0, affectStroke: !1, includeDefaultValues: !0, nonScaling: !1, initialize: function (e) { for (var n in "string" === typeof e && (e = this._parseShadow(e)), e) this[n] = e[n]; this.id = t.Object.__uid++ }, _parseShadow: function (e) { var n = e.trim(), r = t.Shadow.reOffsetsAndBlur.exec(n) || []; return { color: (n.replace(t.Shadow.reOffsetsAndBlur, "") || "rgb(0,0,0)").trim(), offsetX: parseInt(r[1], 10) || 0, offsetY: parseInt(r[2], 10) || 0, blur: parseInt(r[3], 10) || 0 } }, toString: function () { return [this.offsetX, this.offsetY, this.blur, this.color].join("px ") }, toSVG: function (e) { var r = 40, i = 40, o = t.Object.NUM_FRACTION_DIGITS, a = t.util.rotateVector({ x: this.offsetX, y: this.offsetY }, t.util.degreesToRadians(-e.angle)), s = new t.Color(this.color); return e.width && e.height && (r = 100 * n((Math.abs(a.x) + this.blur) / e.width, o) + 20, i = 100 * n((Math.abs(a.y) + this.blur) / e.height, o) + 20), e.flipX && (a.x *= -1), e.flipY && (a.y *= -1), '<filter id="SVGID_' + this.id + '" y="-' + i + '%" height="' + (100 + 2 * i) + '%" x="-' + r + '%" width="' + (100 + 2 * r) + '%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="' + n(this.blur ? this.blur / 2 : 0, o) + '"></feGaussianBlur>\n\t<feOffset dx="' + n(a.x, o) + '" dy="' + n(a.y, o) + '" result="oBlur" ></feOffset>\n\t<feFlood flood-color="' + s.toRgb() + '" flood-opacity="' + s.getAlpha() + '"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n' }, toObject: function () { if (this.includeDefaultValues) return { color: this.color, blur: this.blur, offsetX: this.offsetX, offsetY: this.offsetY, affectStroke: this.affectStroke, nonScaling: this.nonScaling }; var e = {}, n = t.Shadow.prototype; return ["color", "blur", "offsetX", "offsetY", "affectStroke", "nonScaling"].forEach((function (t) { this[t] !== n[t] && (e[t] = this[t]) }), this), e } }), t.Shadow.reOffsetsAndBlur = /(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/) }(t), function () { "use strict"; if (i.StaticCanvas) i.warn("fabric.StaticCanvas is already defined."); else { var e = i.util.object.extend, t = i.util.getElementOffset, n = i.util.removeFromArray, r = i.util.toFixed, o = i.util.transformPoint, a = i.util.invertTransform, s = i.util.getNodeCanvas, l = i.util.createCanvasElement, c = new Error("Could not initialize `canvas` element"); i.StaticCanvas = i.util.createClass(i.CommonMethods, { initialize: function (e, t) { t || (t = {}), this.renderAndResetBound = this.renderAndReset.bind(this), this.requestRenderAllBound = this.requestRenderAll.bind(this), this._initStatic(e, t) }, backgroundColor: "", backgroundImage: null, overlayColor: "", overlayImage: null, includeDefaultValues: !0, stateful: !1, renderOnAddRemove: !0, clipTo: null, controlsAboveOverlay: !1, allowTouchScrolling: !1, imageSmoothingEnabled: !0, viewportTransform: i.iMatrix.concat(), backgroundVpt: !0, overlayVpt: !0, onBeforeScaleRotate: function () { }, enableRetinaScaling: !0, vptCoords: {}, skipOffscreen: !0, clipPath: void 0, _initStatic: function (e, t) { var n = this.requestRenderAllBound; this._objects = [], this._createLowerCanvas(e), this._initOptions(t), this._setImageSmoothing(), this.interactive || this._initRetinaScaling(), t.overlayImage && this.setOverlayImage(t.overlayImage, n), t.backgroundImage && this.setBackgroundImage(t.backgroundImage, n), t.backgroundColor && this.setBackgroundColor(t.backgroundColor, n), t.overlayColor && this.setOverlayColor(t.overlayColor, n), this.calcOffset() }, _isRetinaScaling: function () { return 1 !== i.devicePixelRatio && this.enableRetinaScaling }, getRetinaScaling: function () { return this._isRetinaScaling() ? i.devicePixelRatio : 1 }, _initRetinaScaling: function () { if (this._isRetinaScaling()) { var e = i.devicePixelRatio; this.__initRetinaScaling(e, this.lowerCanvasEl, this.contextContainer), this.upperCanvasEl && this.__initRetinaScaling(e, this.upperCanvasEl, this.contextTop) } }, __initRetinaScaling: function (e, t, n) { t.setAttribute("width", this.width * e), t.setAttribute("height", this.height * e), n.scale(e, e) }, calcOffset: function () { return this._offset = t(this.lowerCanvasEl), this }, setOverlayImage: function (e, t, n) { return this.__setBgOverlayImage("overlayImage", e, t, n) }, setBackgroundImage: function (e, t, n) { return this.__setBgOverlayImage("backgroundImage", e, t, n) }, setOverlayColor: function (e, t) { return this.__setBgOverlayColor("overlayColor", e, t) }, setBackgroundColor: function (e, t) { return this.__setBgOverlayColor("backgroundColor", e, t) }, _setImageSmoothing: function () { var e = this.getContext(); e.imageSmoothingEnabled = e.imageSmoothingEnabled || e.webkitImageSmoothingEnabled || e.mozImageSmoothingEnabled || e.msImageSmoothingEnabled || e.oImageSmoothingEnabled, e.imageSmoothingEnabled = this.imageSmoothingEnabled }, __setBgOverlayImage: function (e, t, n, r) { return "string" === typeof t ? i.util.loadImage(t, (function (t) { if (t) { var o = new i.Image(t, r); this[e] = o, o.canvas = this } n && n(t) }), this, r && r.crossOrigin) : (r && t.setOptions(r), this[e] = t, t && (t.canvas = this), n && n(t)), this }, __setBgOverlayColor: function (e, t, n) { return this[e] = t, this._initGradient(t, e), this._initPattern(t, e, n), this }, _createCanvasElement: function () { var e = l(); if (!e) throw c; if (e.style || (e.style = {}), "undefined" === typeof e.getContext) throw c; return e }, _initOptions: function (e) { var t = this.lowerCanvasEl; this._setOptions(e), this.width = this.width || parseInt(t.width, 10) || 0, this.height = this.height || parseInt(t.height, 10) || 0, this.lowerCanvasEl.style && (t.width = this.width, t.height = this.height, t.style.width = this.width + "px", t.style.height = this.height + "px", this.viewportTransform = this.viewportTransform.slice()) }, _createLowerCanvas: function (e) { e && e.getContext ? this.lowerCanvasEl = e : this.lowerCanvasEl = i.util.getById(e) || this._createCanvasElement(), i.util.addClass(this.lowerCanvasEl, "lower-canvas"), this.interactive && this._applyCanvasStyle(this.lowerCanvasEl), this.contextContainer = this.lowerCanvasEl.getContext("2d") }, getWidth: function () { return this.width }, getHeight: function () { return this.height }, setWidth: function (e, t) { return this.setDimensions({ width: e }, t) }, setHeight: function (e, t) { return this.setDimensions({ height: e }, t) }, setDimensions: function (e, t) { var n; for (var r in t = t || {}, e) n = e[r], t.cssOnly || (this._setBackstoreDimension(r, e[r]), n += "px", this.hasLostContext = !0), t.backstoreOnly || this._setCssDimension(r, n); return this._isCurrentlyDrawing && this.freeDrawingBrush && this.freeDrawingBrush._setBrushStyles(), this._initRetinaScaling(), this._setImageSmoothing(), this.calcOffset(), t.cssOnly || this.requestRenderAll(), this }, _setBackstoreDimension: function (e, t) { return this.lowerCanvasEl[e] = t, this.upperCanvasEl && (this.upperCanvasEl[e] = t), this.cacheCanvasEl && (this.cacheCanvasEl[e] = t), this[e] = t, this }, _setCssDimension: function (e, t) { return this.lowerCanvasEl.style[e] = t, this.upperCanvasEl && (this.upperCanvasEl.style[e] = t), this.wrapperEl && (this.wrapperEl.style[e] = t), this }, getZoom: function () { return this.viewportTransform[0] }, setViewportTransform: function (e) { var t, n, r, i = this._activeObject; for (this.viewportTransform = e, n = 0, r = this._objects.length; n < r; n++)(t = this._objects[n]).group || t.setCoords(false, true); return i && "activeSelection" === i.type && i.setCoords(false, true), this.calcViewportBoundaries(), this.renderOnAddRemove && this.requestRenderAll(), this }, zoomToPoint: function (e, t) { var n = e, r = this.viewportTransform.slice(0); e = o(e, a(this.viewportTransform)), r[0] = t, r[3] = t; var i = o(e, r); return r[4] += n.x - i.x, r[5] += n.y - i.y, this.setViewportTransform(r) }, setZoom: function (e) { return this.zoomToPoint(new i.Point(0, 0), e), this }, absolutePan: function (e) { var t = this.viewportTransform.slice(0); return t[4] = -e.x, t[5] = -e.y, this.setViewportTransform(t) }, relativePan: function (e) { return this.absolutePan(new i.Point(-e.x - this.viewportTransform[4], -e.y - this.viewportTransform[5])) }, getElement: function () { return this.lowerCanvasEl }, _onObjectAdded: function (e) { this.stateful && e.setupState(), e._set("canvas", this), e.setCoords(), this.fire("object:added", { target: e }), e.fire("added") }, _onObjectRemoved: function (e) { this.fire("object:removed", { target: e }), e.fire("removed"), delete e.canvas }, clearContext: function (e) { return e.clearRect(0, 0, this.width, this.height), this }, getContext: function () { return this.contextContainer }, clear: function () { return this._objects.length = 0, this.backgroundImage = null, this.overlayImage = null, this.backgroundColor = "", this.overlayColor = "", this._hasITextHandlers && (this.off("mouse:up", this._mouseUpITextHandler), this._iTextInstances = null, this._hasITextHandlers = !1), this.clearContext(this.contextContainer), this.fire("canvas:cleared"), this.renderOnAddRemove && this.requestRenderAll(), this }, renderAll: function () { var e = this.contextContainer; return this.renderCanvas(e, this._objects), this }, renderAndReset: function () { this.isRendering = 0, this.renderAll() }, requestRenderAll: function () { return this.isRendering || (this.isRendering = i.util.requestAnimFrame(this.renderAndResetBound)), this }, calcViewportBoundaries: function () { var e = {}, t = this.width, n = this.height, r = a(this.viewportTransform); return e.tl = o({ x: 0, y: 0 }, r), e.br = o({ x: t, y: n }, r), e.tr = new i.Point(e.br.x, e.tl.y), e.bl = new i.Point(e.tl.x, e.br.y), this.vptCoords = e, e }, cancelRequestedRender: function () { this.isRendering && (i.util.cancelAnimFrame(this.isRendering), this.isRendering = 0) }, renderCanvas: function (e, t) { var n = this.viewportTransform, r = this.clipPath; this.cancelRequestedRender(), this.calcViewportBoundaries(), this.clearContext(e), this.fire("before:render", { ctx: e }), this.clipTo && i.util.clipContext(this, e), this._renderBackground(e), e.save(), e.transform(n[0], n[1], n[2], n[3], n[4], n[5]), this._renderObjects(e, t), e.restore(), !this.controlsAboveOverlay && this.interactive && this.drawControls(e), this.clipTo && e.restore(), r && (r.canvas = this, r.shouldCache(), r._transformDone = !0, r.renderCache({ forClipping: !0 }), this.drawClipPathOnCanvas(e)), this._renderOverlay(e), this.controlsAboveOverlay && this.interactive && this.drawControls(e), this.fire("after:render", { ctx: e }) }, drawClipPathOnCanvas: function (e) { var t = this.viewportTransform, n = this.clipPath; e.save(), e.transform(t[0], t[1], t[2], t[3], t[4], t[5]), e.globalCompositeOperation = "destination-in", n.transform(e), e.scale(1 / n.zoomX, 1 / n.zoomY), e.drawImage(n._cacheCanvas, -n.cacheTranslationX, -n.cacheTranslationY), e.restore() }, _renderObjects: function (e, t) { var n, r; for (n = 0, r = t.length; n < r; ++n)t[n] && t[n].render(e) }, _renderBackgroundOrOverlay: function (e, t) { var n = this[t + "Color"], r = this[t + "Image"], i = this.viewportTransform, o = this[t + "Vpt"]; if (n || r) { if (n) { e.save(), e.beginPath(), e.moveTo(0, 0), e.lineTo(this.width, 0), e.lineTo(this.width, this.height), e.lineTo(0, this.height), e.closePath(), e.fillStyle = n.toLive ? n.toLive(e, this) : n, o && e.transform(i[0], i[1], i[2], i[3], i[4], i[5]), e.transform(1, 0, 0, 1, n.offsetX || 0, n.offsetY || 0); var a = n.gradientTransform || n.patternTransform; a && e.transform(a[0], a[1], a[2], a[3], a[4], a[5]), e.fill(), e.restore() } r && (e.save(), o && e.transform(i[0], i[1], i[2], i[3], i[4], i[5]), r.render(e), e.restore()) } }, _renderBackground: function (e) { this._renderBackgroundOrOverlay(e, "background") }, _renderOverlay: function (e) { this._renderBackgroundOrOverlay(e, "overlay") }, getCenter: function () { return { top: this.height / 2, left: this.width / 2 } }, centerObjectH: function (e) { return this._centerObject(e, new i.Point(this.getCenter().left, e.getCenterPoint().y)) }, centerObjectV: function (e) { return this._centerObject(e, new i.Point(e.getCenterPoint().x, this.getCenter().top)) }, centerObject: function (e) { var t = this.getCenter(); return this._centerObject(e, new i.Point(t.left, t.top)) }, viewportCenterObject: function (e) { var t = this.getVpCenter(); return this._centerObject(e, t) }, viewportCenterObjectH: function (e) { var t = this.getVpCenter(); return this._centerObject(e, new i.Point(t.x, e.getCenterPoint().y)), this }, viewportCenterObjectV: function (e) { var t = this.getVpCenter(); return this._centerObject(e, new i.Point(e.getCenterPoint().x, t.y)) }, getVpCenter: function () { var e = this.getCenter(), t = a(this.viewportTransform); return o({ x: e.left, y: e.top }, t) }, _centerObject: function (e, t) { return e.setPositionByOrigin(t, "center", "center"), e.setCoords(), this.renderOnAddRemove && this.requestRenderAll(), this }, toDatalessJSON: function (e) { return this.toDatalessObject(e) }, toObject: function (e) { return this._toObjectMethod("toObject", e) }, toDatalessObject: function (e) { return this._toObjectMethod("toDatalessObject", e) }, _toObjectMethod: function (t, n) { var r = this.clipPath, o = { version: i.version, objects: this._toObjects(t, n) }; return r && (o.clipPath = this._toObject(this.clipPath, t, n)), e(o, this.__serializeBgOverlay(t, n)), i.util.populateWithProperties(this, o, n), o }, _toObjects: function (e, t) { return this._objects.filter((function (e) { return !e.excludeFromExport })).map((function (n) { return this._toObject(n, e, t) }), this) }, _toObject: function (e, t, n) { var r; this.includeDefaultValues || (r = e.includeDefaultValues, e.includeDefaultValues = !1); var i = e[t](n); return this.includeDefaultValues || (e.includeDefaultValues = r), i }, __serializeBgOverlay: function (e, t) { var n = {}, r = this.backgroundImage, i = this.overlayImage; return this.backgroundColor && (n.background = this.backgroundColor.toObject ? this.backgroundColor.toObject(t) : this.backgroundColor), this.overlayColor && (n.overlay = this.overlayColor.toObject ? this.overlayColor.toObject(t) : this.overlayColor), r && !r.excludeFromExport && (n.backgroundImage = this._toObject(r, e, t)), i && !i.excludeFromExport && (n.overlayImage = this._toObject(i, e, t)), n }, svgViewportTransformation: !0, toSVG: function (e, t) { e || (e = {}), e.reviver = t; var n = []; return this._setSVGPreamble(n, e), this._setSVGHeader(n, e), this.clipPath && n.push('<g clip-path="url(#' + this.clipPath.clipPathId + ')" >\n'), this._setSVGBgOverlayColor(n, "background"), this._setSVGBgOverlayImage(n, "backgroundImage", t), this._setSVGObjects(n, t), this.clipPath && n.push("</g>\n"), this._setSVGBgOverlayColor(n, "overlay"), this._setSVGBgOverlayImage(n, "overlayImage", t), n.push("</svg>"), n.join("") }, _setSVGPreamble: function (e, t) { t.suppressPreamble || e.push('<?xml version="1.0" encoding="', t.encoding || "UTF-8", '" standalone="no" ?>\n', '<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ', '"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n') }, _setSVGHeader: function (e, t) { var n, o = t.width || this.width, a = t.height || this.height, s = 'viewBox="0 0 ' + this.width + " " + this.height + '" ', l = i.Object.NUM_FRACTION_DIGITS; t.viewBox ? s = 'viewBox="' + t.viewBox.x + " " + t.viewBox.y + " " + t.viewBox.width + " " + t.viewBox.height + '" ' : this.svgViewportTransformation && (n = this.viewportTransform, s = 'viewBox="' + r(-n[4] / n[0], l) + " " + r(-n[5] / n[3], l) + " " + r(this.width / n[0], l) + " " + r(this.height / n[3], l) + '" '), e.push("<svg ", 'xmlns="http://www.w3.org/2000/svg" ', 'xmlns:xlink="http://www.w3.org/1999/xlink" ', 'version="1.1" ', 'width="', o, '" ', 'height="', a, '" ', s, 'xml:space="preserve">\n', "<desc>Created with Fabric.js ", i.version, "</desc>\n", "<defs>\n", this.createSVGFontFacesMarkup(), this.createSVGRefElementsMarkup(), this.createSVGClipPathMarkup(t), "</defs>\n") }, createSVGClipPathMarkup: function (e) { var t = this.clipPath; return t ? (t.clipPathId = "CLIPPATH_" + i.Object.__uid++, '<clipPath id="' + t.clipPathId + '" >\n' + this.clipPath.toClipPathSVG(e.reviver) + "</clipPath>\n") : "" }, createSVGRefElementsMarkup: function () { var e = this; return ["background", "overlay"].map((function (t) { var n = e[t + "Color"]; if (n && n.toLive) { var r = e[t + "Vpt"], o = e.viewportTransform, a = { width: e.width / (r ? o[0] : 1), height: e.height / (r ? o[3] : 1) }; return n.toSVG(a, { additionalTransform: r ? i.util.matrixToSVG(o) : "" }) } })).join("") }, createSVGFontFacesMarkup: function () { var e, t, n, r, o, a, s, l, c = "", u = {}, h = i.fontPaths, f = []; for (this._objects.forEach((function e(t) { f.push(t), t._objects && t._objects.forEach(e) })), s = 0, l = f.length; s < l; s++)if (t = (e = f[s]).fontFamily, -1 !== e.type.indexOf("text") && !u[t] && h[t] && (u[t] = !0, e.styles)) for (o in n = e.styles) for (a in r = n[o]) !u[t = r[a].fontFamily] && h[t] && (u[t] = !0); for (var d in u) c += ["\t\t@font-face {\n", "\t\t\tfont-family: '", d, "';\n", "\t\t\tsrc: url('", h[d], "');\n", "\t\t}\n"].join(""); return c && (c = ['\t<style type="text/css">', "<![CDATA[\n", c, "]]>", "</style>\n"].join("")), c }, _setSVGObjects: function (e, t) { var n, r, i, o = this._objects; for (r = 0, i = o.length; r < i; r++)(n = o[r]).excludeFromExport || this._setSVGObject(e, n, t) }, _setSVGObject: function (e, t, n) { e.push(t.toSVG(n)) }, _setSVGBgOverlayImage: function (e, t, n) { this[t] && !this[t].excludeFromExport && this[t].toSVG && e.push(this[t].toSVG(n)) }, _setSVGBgOverlayColor: function (e, t) { var n = this[t + "Color"], r = this.viewportTransform, o = this.width, a = this.height; if (n) if (n.toLive) { var s = n.repeat, l = i.util.invertTransform(r), c = this[t + "Vpt"] ? i.util.matrixToSVG(l) : ""; e.push('<rect transform="' + c + " translate(", o / 2, ",", a / 2, ')"', ' x="', n.offsetX - o / 2, '" y="', n.offsetY - a / 2, '" ', 'width="', "repeat-y" === s || "no-repeat" === s ? n.source.width : o, '" height="', "repeat-x" === s || "no-repeat" === s ? n.source.height : a, '" fill="url(#SVGID_' + n.id + ')"', "></rect>\n") } else e.push('<rect x="0" y="0" width="100%" height="100%" ', 'fill="', n, '"', "></rect>\n") }, sendToBack: function (e) { if (!e) return this; var t, r, i, o = this._activeObject; if (e === o && "activeSelection" === e.type) for (t = (i = o._objects).length; t--;)r = i[t], n(this._objects, r), this._objects.unshift(r); else n(this._objects, e), this._objects.unshift(e); return this.renderOnAddRemove && this.requestRenderAll(), this }, bringToFront: function (e) { if (!e) return this; var t, r, i, o = this._activeObject; if (e === o && "activeSelection" === e.type) for (i = o._objects, t = 0; t < i.length; t++)r = i[t], n(this._objects, r), this._objects.push(r); else n(this._objects, e), this._objects.push(e); return this.renderOnAddRemove && this.requestRenderAll(), this }, sendBackwards: function (e, t) { if (!e) return this; var r, i, o, a, s, l = this._activeObject, c = 0; if (e === l && "activeSelection" === e.type) for (s = l._objects, r = 0; r < s.length; r++)i = s[r], (o = this._objects.indexOf(i)) > 0 + c && (a = o - 1, n(this._objects, i), this._objects.splice(a, 0, i)), c++; else 0 !== (o = this._objects.indexOf(e)) && (a = this._findNewLowerIndex(e, o, t), n(this._objects, e), this._objects.splice(a, 0, e)); return this.renderOnAddRemove && this.requestRenderAll(), this }, _findNewLowerIndex: function (e, t, n) { var r, i; if (n) for (r = t, i = t - 1; i >= 0; --i) { if (e.intersectsWithObject(this._objects[i]) || e.isContainedWithinObject(this._objects[i]) || this._objects[i].isContainedWithinObject(e)) { r = i; break } } else r = t - 1; return r }, bringForward: function (e, t) { if (!e) return this; var r, i, o, a, s, l = this._activeObject, c = 0; if (e === l && "activeSelection" === e.type) for (r = (s = l._objects).length; r--;)i = s[r], (o = this._objects.indexOf(i)) < this._objects.length - 1 - c && (a = o + 1, n(this._objects, i), this._objects.splice(a, 0, i)), c++; else (o = this._objects.indexOf(e)) !== this._objects.length - 1 && (a = this._findNewUpperIndex(e, o, t), n(this._objects, e), this._objects.splice(a, 0, e)); return this.renderOnAddRemove && this.requestRenderAll(), this }, _findNewUpperIndex: function (e, t, n) { var r, i, o; if (n) for (r = t, i = t + 1, o = this._objects.length; i < o; ++i) { if (e.intersectsWithObject(this._objects[i]) || e.isContainedWithinObject(this._objects[i]) || this._objects[i].isContainedWithinObject(e)) { r = i; break } } else r = t + 1; return r }, moveTo: function (e, t) { return n(this._objects, e), this._objects.splice(t, 0, e), this.renderOnAddRemove && this.requestRenderAll() }, dispose: function () { return this.isRendering && (i.util.cancelAnimFrame(this.isRendering), this.isRendering = 0), this.forEachObject((function (e) { e.dispose && e.dispose() })), this._objects = [], this.backgroundImage && this.backgroundImage.dispose && this.backgroundImage.dispose(), this.backgroundImage = null, this.overlayImage && this.overlayImage.dispose && this.overlayImage.dispose(), this.overlayImage = null, this._iTextInstances = null, this.contextContainer = null, i.util.cleanUpJsdomNode(this.lowerCanvasEl), this.lowerCanvasEl = void 0, this }, toString: function () { return "#<fabric.Canvas (" + this.complexity() + "): { objects: " + this._objects.length + " }>" } }), e(i.StaticCanvas.prototype, i.Observable), e(i.StaticCanvas.prototype, i.Collection), e(i.StaticCanvas.prototype, i.DataURLExporter), e(i.StaticCanvas, { EMPTY_JSON: '{"objects": [], "background": "white"}', supports: function (e) { var t = l(); if (!t || !t.getContext) return null; var n = t.getContext("2d"); return n && "setLineDash" === e ? "undefined" !== typeof n.setLineDash : null } }), i.StaticCanvas.prototype.toJSON = i.StaticCanvas.prototype.toObject, i.isLikelyNode && (i.StaticCanvas.prototype.createPNGStream = function () { var e = s(this.lowerCanvasEl); return e && e.createPNGStream() }, i.StaticCanvas.prototype.createJPEGStream = function (e) { var t = s(this.lowerCanvasEl); return t && t.createJPEGStream(e) }) } }(), i.BaseBrush = i.util.createClass({ color: "rgb(0, 0, 0)", width: 1, shadow: null, strokeLineCap: "round", strokeLineJoin: "round", strokeMiterLimit: 10, strokeDashArray: null, setShadow: function (e) { return this.shadow = new i.Shadow(e), this }, _setBrushStyles: function () { var e = this.canvas.contextTop; e.strokeStyle = this.color, e.lineWidth = this.width, e.lineCap = this.strokeLineCap, e.miterLimit = this.strokeMiterLimit, e.lineJoin = this.strokeLineJoin, i.StaticCanvas.supports("setLineDash") && e.setLineDash(this.strokeDashArray || []) }, _saveAndTransform: function (e) { var t = this.canvas.viewportTransform; e.save(), e.transform(t[0], t[1], t[2], t[3], t[4], t[5]) }, _setShadow: function () { if (this.shadow) { var e = this.canvas, t = this.shadow, n = e.contextTop, r = e.getZoom(); e && e._isRetinaScaling() && (r *= i.devicePixelRatio), n.shadowColor = t.color, n.shadowBlur = t.blur * r, n.shadowOffsetX = t.offsetX * r, n.shadowOffsetY = t.offsetY * r } }, needsFullRender: function () { return new i.Color(this.color).getAlpha() < 1 || !!this.shadow }, _resetShadow: function () { var e = this.canvas.contextTop; e.shadowColor = "", e.shadowBlur = e.shadowOffsetX = e.shadowOffsetY = 0 } }), i.PencilBrush = i.util.createClass(i.BaseBrush, { decimate: .4, initialize: function (e) { this.canvas = e, this._points = [] }, _drawSegment: function (e, t, n) { var r = t.midPointFrom(n); return e.quadraticCurveTo(t.x, t.y, r.x, r.y), r }, onMouseDown: function (e, t) { this.canvas._isMainEvent(t.e) && (this._prepareForDrawing(e), this._captureDrawingPath(e), this._render()) }, onMouseMove: function (e, t) { if (this.canvas._isMainEvent(t.e) && this._captureDrawingPath(e) && this._points.length > 1) if (this.needsFullRender()) this.canvas.clearContext(this.canvas.contextTop), this._render(); else { var n = this._points, r = n.length, i = this.canvas.contextTop; this._saveAndTransform(i), this.oldEnd && (i.beginPath(), i.moveTo(this.oldEnd.x, this.oldEnd.y)), this.oldEnd = this._drawSegment(i, n[r - 2], n[r - 1], !0), i.stroke(), i.restore() } }, onMouseUp: function (e) { return !this.canvas._isMainEvent(e.e) || (this.oldEnd = void 0, this._finalizeAndAddPath(), !1) }, _prepareForDrawing: function (e) { var t = new i.Point(e.x, e.y); this._reset(), this._addPoint(t), this.canvas.contextTop.moveTo(t.x, t.y) }, _addPoint: function (e) { return !(this._points.length > 1 && e.eq(this._points[this._points.length - 1])) && (this._points.push(e), !0) }, _reset: function () { this._points = [], this._setBrushStyles(), this._setShadow() }, _captureDrawingPath: function (e) { var t = new i.Point(e.x, e.y); return this._addPoint(t) }, _render: function () { var e, t, n = this.canvas.contextTop, r = this._points[0], o = this._points[1]; if (this._saveAndTransform(n), n.beginPath(), 2 === this._points.length && r.x === o.x && r.y === o.y) { var a = this.width / 1e3; r = new i.Point(r.x, r.y), o = new i.Point(o.x, o.y), r.x -= a, o.x += a } for (n.moveTo(r.x, r.y), e = 1, t = this._points.length; e < t; e++)this._drawSegment(n, r, o), r = this._points[e], o = this._points[e + 1]; n.lineTo(r.x, r.y), n.stroke(), n.restore() }, convertPointsToSVGPath: function (e) { var t, n = [], r = this.width / 1e3, o = new i.Point(e[0].x, e[0].y), a = new i.Point(e[1].x, e[1].y), s = e.length, l = 1, c = 0, u = s > 2; for (u && (l = e[2].x < a.x ? -1 : e[2].x === a.x ? 0 : 1, c = e[2].y < a.y ? -1 : e[2].y === a.y ? 0 : 1), n.push("M ", o.x - l * r, " ", o.y - c * r, " "), t = 1; t < s; t++) { if (!o.eq(a)) { var h = o.midPointFrom(a); n.push("Q ", o.x, " ", o.y, " ", h.x, " ", h.y, " ") } o = e[t], t + 1 < e.length && (a = e[t + 1]) } return u && (l = o.x > e[t - 2].x ? 1 : o.x === e[t - 2].x ? 0 : -1, c = o.y > e[t - 2].y ? 1 : o.y === e[t - 2].y ? 0 : -1), n.push("L ", o.x + l * r, " ", o.y + c * r), n }, createPath: function (e) { var t = new i.Path(e, { fill: null, stroke: this.color, strokeWidth: this.width, strokeLineCap: this.strokeLineCap, strokeMiterLimit: this.strokeMiterLimit, strokeLineJoin: this.strokeLineJoin, strokeDashArray: this.strokeDashArray }); return this.shadow && (this.shadow.affectStroke = !0, t.setShadow(this.shadow)), t }, decimatePoints: function (e, t) { if (e.length <= 2) return e; var n, r = this.canvas.getZoom(), o = Math.pow(t / r, 2), a = e.length - 1, s = e[0], l = [s]; for (n = 1; n < a; n++)Math.pow(s.x - e[n].x, 2) + Math.pow(s.y - e[n].y, 2) >= o && (s = e[n], l.push(s)); return 1 === l.length && l.push(new i.Point(l[0].x, l[0].y)), l }, _finalizeAndAddPath: function () { this.canvas.contextTop.closePath(), this.decimate && (this._points = this.decimatePoints(this._points, this.decimate)); var e = this.convertPointsToSVGPath(this._points).join(""); if ("M 0 0 Q 0 0 0 0 L 0 0" !== e) { var t = this.createPath(e); this.canvas.clearContext(this.canvas.contextTop), this.canvas.add(t), this.canvas.requestRenderAll(), t.setCoords(), this._resetShadow(), this.canvas.fire("path:created", { path: t }) } else this.canvas.requestRenderAll() } }), i.CircleBrush = i.util.createClass(i.BaseBrush, { width: 10, initialize: function (e) { this.canvas = e, this.points = [] }, drawDot: function (e) { var t = this.addPoint(e), n = this.canvas.contextTop; this._saveAndTransform(n), this.dot(n, t), n.restore() }, dot: function (e, t) { e.fillStyle = t.fill, e.beginPath(), e.arc(t.x, t.y, t.radius, 0, 2 * Math.PI, !1), e.closePath(), e.fill() }, onMouseDown: function (e) { this.points.length = 0, this.canvas.clearContext(this.canvas.contextTop), this._setShadow(), this.drawDot(e) }, _render: function () { var e, t, n = this.canvas.contextTop, r = this.points; for (this._saveAndTransform(n), e = 0, t = r.length; e < t; e++)this.dot(n, r[e]); n.restore() }, onMouseMove: function (e) { this.needsFullRender() ? (this.canvas.clearContext(this.canvas.contextTop), this.addPoint(e), this._render()) : this.drawDot(e) }, onMouseUp: function () { var e, t, n = this.canvas.renderOnAddRemove; this.canvas.renderOnAddRemove = !1; var r = []; for (e = 0, t = this.points.length; e < t; e++) { var o = this.points[e], a = new i.Circle({ radius: o.radius, left: o.x, top: o.y, originX: "center", originY: "center", fill: o.fill }); this.shadow && a.setShadow(this.shadow), r.push(a) } var s = new i.Group(r); s.canvas = this.canvas, this.canvas.add(s), this.canvas.fire("path:created", { path: s }), this.canvas.clearContext(this.canvas.contextTop), this._resetShadow(), this.canvas.renderOnAddRemove = n, this.canvas.requestRenderAll() }, addPoint: function (e) { var t = new i.Point(e.x, e.y), n = i.util.getRandomInt(Math.max(0, this.width - 20), this.width + 20) / 2, r = new i.Color(this.color).setAlpha(i.util.getRandomInt(0, 100) / 100).toRgba(); return t.radius = n, t.fill = r, this.points.push(t), t } }), i.SprayBrush = i.util.createClass(i.BaseBrush, { width: 10, density: 20, dotWidth: 1, dotWidthVariance: 1, randomOpacity: !1, optimizeOverlapping: !0, initialize: function (e) { this.canvas = e, this.sprayChunks = [] }, onMouseDown: function (e) { this.sprayChunks.length = 0, this.canvas.clearContext(this.canvas.contextTop), this._setShadow(), this.addSprayChunk(e), this.render(this.sprayChunkPoints) }, onMouseMove: function (e) { this.addSprayChunk(e), this.render(this.sprayChunkPoints) }, onMouseUp: function () { var e = this.canvas.renderOnAddRemove; this.canvas.renderOnAddRemove = !1; for (var t = [], n = 0, r = this.sprayChunks.length; n < r; n++)for (var o = this.sprayChunks[n], a = 0, s = o.length; a < s; a++) { var l = new i.Rect({ width: o[a].width, height: o[a].width, left: o[a].x + 1, top: o[a].y + 1, originX: "center", originY: "center", fill: this.color }); t.push(l) } this.optimizeOverlapping && (t = this._getOptimizedRects(t)); var c = new i.Group(t); this.shadow && c.setShadow(this.shadow), this.canvas.add(c), this.canvas.fire("path:created", { path: c }), this.canvas.clearContext(this.canvas.contextTop), this._resetShadow(), this.canvas.renderOnAddRemove = e, this.canvas.requestRenderAll() }, _getOptimizedRects: function (e) { var t, n, r, i = {}; for (n = 0, r = e.length; n < r; n++)i[t = e[n].left + "" + e[n].top] || (i[t] = e[n]); var o = []; for (t in i) o.push(i[t]); return o }, render: function (e) { var t, n, r = this.canvas.contextTop; for (r.fillStyle = this.color, this._saveAndTransform(r), t = 0, n = e.length; t < n; t++) { var i = e[t]; "undefined" !== typeof i.opacity && (r.globalAlpha = i.opacity), r.fillRect(i.x, i.y, i.width, i.width) } r.restore() }, _render: function () { var e, t, n = this.canvas.contextTop; for (n.fillStyle = this.color, this._saveAndTransform(n), e = 0, t = this.sprayChunks.length; e < t; e++)this.render(this.sprayChunks[e]); n.restore() }, addSprayChunk: function (e) { this.sprayChunkPoints = []; var t, n, r, o, a = this.width / 2; for (o = 0; o < this.density; o++) { t = i.util.getRandomInt(e.x - a, e.x + a), n = i.util.getRandomInt(e.y - a, e.y + a), r = this.dotWidthVariance ? i.util.getRandomInt(Math.max(1, this.dotWidth - this.dotWidthVariance), this.dotWidth + this.dotWidthVariance) : this.dotWidth; var s = new i.Point(t, n); s.width = r, this.randomOpacity && (s.opacity = i.util.getRandomInt(0, 100) / 100), this.sprayChunkPoints.push(s) } this.sprayChunks.push(this.sprayChunkPoints) } }), i.PatternBrush = i.util.createClass(i.PencilBrush, { getPatternSrc: function () { var e = i.util.createCanvasElement(), t = e.getContext("2d"); return e.width = e.height = 25, t.fillStyle = this.color, t.beginPath(), t.arc(10, 10, 10, 0, 2 * Math.PI, !1), t.closePath(), t.fill(), e }, getPatternSrcFunction: function () { return String(this.getPatternSrc).replace("this.color", '"' + this.color + '"') }, getPattern: function () { return this.canvas.contextTop.createPattern(this.source || this.getPatternSrc(), "repeat") }, _setBrushStyles: function () { this.callSuper("_setBrushStyles"), this.canvas.contextTop.strokeStyle = this.getPattern() }, createPath: function (e) { var t = this.callSuper("createPath", e), n = t._getLeftTopCoords().scalarAdd(t.strokeWidth / 2); return t.stroke = new i.Pattern({ source: this.source || this.getPatternSrcFunction(), offsetX: -n.x, offsetY: -n.y }), t } }), function () { var e = i.util.getPointer, t = i.util.degreesToRadians, n = i.util.radiansToDegrees, r = Math.atan2, o = Math.abs, a = i.StaticCanvas.supports("setLineDash"), s = .5; for (var l in i.Canvas = i.util.createClass(i.StaticCanvas, { initialize: function (e, t) { t || (t = {}), this.renderAndResetBound = this.renderAndReset.bind(this), this.requestRenderAllBound = this.requestRenderAll.bind(this), this._initStatic(e, t), this._initInteractive(), this._createCacheCanvas() }, uniScaleTransform: !1, uniScaleKey: "shiftKey", centeredScaling: !1, centeredRotation: !1, centeredKey: "altKey", altActionKey: "shiftKey", interactive: !0, selection: !0, selectionKey: "shiftKey", altSelectionKey: null, selectionColor: "rgba(100, 100, 255, 0.3)", selectionDashArray: [], selectionBorderColor: "rgba(255, 255, 255, 0.3)", selectionLineWidth: 1, selectionFullyContained: !1, hoverCursor: "move", moveCursor: "move", defaultCursor: "default", freeDrawingCursor: "crosshair", rotationCursor: "crosshair", notAllowedCursor: "not-allowed", containerClass: "canvas-container", perPixelTargetFind: !1, targetFindTolerance: 0, skipTargetFind: !1, isDrawingMode: !1, preserveObjectStacking: !1, snapAngle: 0, snapThreshold: null, stopContextMenu: !1, fireRightClick: !1, fireMiddleClick: !1, targets: [], _hoveredTarget: null, _hoveredTargets: [], _initInteractive: function () { this._currentTransform = null, this._groupSelector = null, this._initWrapperElement(), this._createUpperCanvas(), this._initEventListeners(), this._initRetinaScaling(), this.freeDrawingBrush = i.PencilBrush && new i.PencilBrush(this), this.calcOffset() }, _chooseObjectsToRender: function () { var e, t, n, r = this.getActiveObjects(); if (r.length > 0 && !this.preserveObjectStacking) { t = [], n = []; for (var i = 0, o = this._objects.length; i < o; i++)e = this._objects[i], -1 === r.indexOf(e) ? t.push(e) : n.push(e); r.length > 1 && (this._activeObject._objects = n), t.push.apply(t, n) } else t = this._objects; return t }, renderAll: function () { !this.contextTopDirty || this._groupSelector || this.isDrawingMode || (this.clearContext(this.contextTop), this.contextTopDirty = !1), this.hasLostContext && this.renderTopLayer(this.contextTop); var e = this.contextContainer; return this.renderCanvas(e, this._chooseObjectsToRender()), this }, renderTopLayer: function (e) { e.save(), this.isDrawingMode && this._isCurrentlyDrawing && (this.freeDrawingBrush && this.freeDrawingBrush._render(), this.contextTopDirty = !0), this.selection && this._groupSelector && (this._drawSelection(e), this.contextTopDirty = !0), e.restore() }, renderTop: function () { var e = this.contextTop; return this.clearContext(e), this.renderTopLayer(e), this.fire("after:render"), this }, _resetCurrentTransform: function () { var e = this._currentTransform; e.target.set({ scaleX: e.original.scaleX, scaleY: e.original.scaleY, skewX: e.original.skewX, skewY: e.original.skewY, left: e.original.left, top: e.original.top }), this._shouldCenterTransform(e.target) ? ("center" !== e.originX && ("right" === e.originX ? e.mouseXSign = -1 : e.mouseXSign = 1), "center" !== e.originY && ("bottom" === e.originY ? e.mouseYSign = -1 : e.mouseYSign = 1), e.originX = "center", e.originY = "center") : (e.originX = e.original.originX, e.originY = e.original.originY) }, containsPoint: function (e, t, n) { var r, i = n || this.getPointer(e, !0); return r = t.group && t.group === this._activeObject && "activeSelection" === t.group.type ? this._normalizePointer(t.group, i) : { x: i.x, y: i.y }, t.containsPoint(r) || t._findTargetCorner(i) }, _normalizePointer: function (e, t) { var n = e.calcTransformMatrix(), r = i.util.invertTransform(n), o = this.restorePointerVpt(t); return i.util.transformPoint(o, r) }, isTargetTransparent: function (e, t, n) { if (e.shouldCache() && e._cacheCanvas && e !== this._activeObject) { var r = this._normalizePointer(e, { x: t, y: n }), o = Math.max(e.cacheTranslationX + r.x * e.zoomX, 0), a = Math.max(e.cacheTranslationY + r.y * e.zoomY, 0); return i.util.isTransparent(e._cacheContext, Math.round(o), Math.round(a), this.targetFindTolerance) } var s = this.contextCache, l = e.selectionBackgroundColor, c = this.viewportTransform; return e.selectionBackgroundColor = "", this.clearContext(s), s.save(), s.transform(c[0], c[1], c[2], c[3], c[4], c[5]), e.render(s), s.restore(), e === this._activeObject && e._renderControls(s, { hasBorders: !1, transparentCorners: !1 }, { hasBorders: !1 }), e.selectionBackgroundColor = l, i.util.isTransparent(s, t, n, this.targetFindTolerance) }, _isSelectionKeyPressed: function (e) { return "[object Array]" === Object.prototype.toString.call(this.selectionKey) ? !!this.selectionKey.find((function (t) { return !0 === e[t] })) : e[this.selectionKey] }, _shouldClearSelection: function (e, t) { var n = this.getActiveObjects(), r = this._activeObject; return !t || t && r && n.length > 1 && -1 === n.indexOf(t) && r !== t && !this._isSelectionKeyPressed(e) || t && !t.evented || t && !t.selectable && r && r !== t }, _shouldCenterTransform: function (e) { if (e) { var t, n = this._currentTransform; return "scale" === n.action || "scaleX" === n.action || "scaleY" === n.action ? t = this.centeredScaling || e.centeredScaling : "rotate" === n.action && (t = this.centeredRotation || e.centeredRotation), t ? !n.altKey : n.altKey } }, _getOriginFromCorner: function (e, t) { var n = { x: e.originX, y: e.originY }; return "ml" === t || "tl" === t || "bl" === t ? n.x = "right" : "mr" !== t && "tr" !== t && "br" !== t || (n.x = "left"), "tl" === t || "mt" === t || "tr" === t ? n.y = "bottom" : "bl" !== t && "mb" !== t && "br" !== t || (n.y = "top"), n }, _getActionFromCorner: function (e, t, n) { if (!t || !e) return "drag"; switch (t) { case "mtr": return "rotate"; case "ml": case "mr": return n[this.altActionKey] ? "skewY" : "scaleX"; case "mt": case "mb": return n[this.altActionKey] ? "skewX" : "scaleY"; default: return "scale" } }, _setupCurrentTransform: function (e, n, r) { if (n) { var o = this.getPointer(e), a = n._findTargetCorner(this.getPointer(e, !0)), s = this._getActionFromCorner(r, a, e, n), l = this._getOriginFromCorner(n, a); this._currentTransform = { target: n, action: s, corner: a, scaleX: n.scaleX, scaleY: n.scaleY, skewX: n.skewX, skewY: n.skewY, offsetX: o.x - n.left, offsetY: o.y - n.top, originX: l.x, originY: l.y, ex: o.x, ey: o.y, lastX: o.x, lastY: o.y, theta: t(n.angle), width: n.width * n.scaleX, mouseXSign: 1, mouseYSign: 1, shiftKey: e.shiftKey, altKey: e[this.centeredKey], original: i.util.saveObjectTransform(n) }, this._currentTransform.original.originX = l.x, this._currentTransform.original.originY = l.y, this._resetCurrentTransform(), this._beforeTransform(e) } }, _translateObject: function (e, t) { var n = this._currentTransform, r = n.target, i = e - n.offsetX, o = t - n.offsetY, a = !r.get("lockMovementX") && r.left !== i, s = !r.get("lockMovementY") && r.top !== o; return a && r.set("left", i), s && r.set("top", o), a || s }, _changeSkewTransformOrigin: function (e, t, n) { var r = "originX", i = { 0: "center" }, o = t.target.skewX, a = "left", s = "right", l = "mt" === t.corner || "ml" === t.corner ? 1 : -1, c = 1; e = e > 0 ? 1 : -1, "y" === n && (o = t.target.skewY, a = "top", s = "bottom", r = "originY"), i[-1] = a, i[1] = s, t.target.flipX && (c *= -1), t.target.flipY && (c *= -1), 0 === o ? (t.skewSign = -l * e * c, t[r] = i[-e]) : (o = o > 0 ? 1 : -1, t.skewSign = o, t[r] = i[o * l * c]) }, _skewObject: function (e, t, n) { var r, o = this._currentTransform, a = o.target, s = a.get("lockSkewingX"), l = a.get("lockSkewingY"); if (s && "x" === n || l && "y" === n) return !1; var c, u, h = a.getCenterPoint(), f = a.toLocalPoint(new i.Point(e, t), "center", "center")[n], d = a.toLocalPoint(new i.Point(o.lastX, o.lastY), "center", "center")[n], p = a._getTransformedDimensions(); return this._changeSkewTransformOrigin(f - d, o, n), c = a.toLocalPoint(new i.Point(e, t), o.originX, o.originY)[n], u = a.translateToOriginPoint(h, o.originX, o.originY), r = this._setObjectSkew(c, o, n, p), o.lastX = e, o.lastY = t, a.setPositionByOrigin(u, o.originX, o.originY), r }, _setObjectSkew: function (e, t, n, r) { var o, a, s, l, c, u, h, f, d, p, g = t.target, v = t.skewSign; return "x" === n ? (c = "y", u = "Y", h = "X", d = 0, p = g.skewY) : (c = "x", u = "X", h = "Y", d = g.skewX, p = 0), l = g._getTransformedDimensions(d, p), (f = 2 * Math.abs(e) - l[n]) <= 2 ? o = 0 : (o = v * Math.atan(f / g["scale" + h] / (l[c] / g["scale" + u])), o = i.util.radiansToDegrees(o)), a = g["skew" + h] !== o, g.set("skew" + h, o), 0 !== g["skew" + u] && (s = g._getTransformedDimensions(), o = r[c] / s[c] * g["scale" + u], g.set("scale" + u, o)), a }, _scaleObject: function (e, t, n) { var r = this._currentTransform, o = r.target, a = o.lockScalingX, s = o.lockScalingY, l = o.lockScalingFlip; if (a && s) return !1; var c, u = o.translateToOriginPoint(o.getCenterPoint(), r.originX, r.originY), h = o.toLocalPoint(new i.Point(e, t), r.originX, r.originY), f = o._getTransformedDimensions(); return this._setLocalMouse(h, r), c = this._setObjectScale(h, r, a, s, n, l, f), o.setPositionByOrigin(u, r.originX, r.originY), c }, _setObjectScale: function (e, t, n, r, o, a, s) { var l = t.target, c = !1, u = !1, h = !1, f = e.x * l.scaleX / s.x, d = e.y * l.scaleY / s.y, p = l.scaleX !== f, g = l.scaleY !== d; if (t.newScaleX = f, t.newScaleY = d, i.Textbox && "x" === o && l instanceof i.Textbox) { var v = l.width * (e.x / s.x); return v >= l.getMinWidth() && (h = v !== l.width, l.set("width", v), h) } return a && f <= 0 && f < l.scaleX && (c = !0, e.x = 0), a && d <= 0 && d < l.scaleY && (u = !0, e.y = 0), "equally" !== o || n || r ? o ? "x" !== o || l.get("lockUniScaling") ? "y" !== o || l.get("lockUniScaling") || u || r || l.set("scaleY", d) && (h = g) : c || n || l.set("scaleX", f) && (h = p) : (c || n || l.set("scaleX", f) && (h = h || p), u || r || l.set("scaleY", d) && (h = h || g)) : h = this._scaleObjectEqually(e, l, t, s), c || u || this._flipObject(t, o), h }, _scaleObjectEqually: function (e, t, n, r) { var i, o, a, s = e.y + e.x, l = r.y * n.original.scaleY / t.scaleY + r.x * n.original.scaleX / t.scaleX, c = e.x < 0 ? -1 : 1, u = e.y < 0 ? -1 : 1; return o = c * Math.abs(n.original.scaleX * s / l), a = u * Math.abs(n.original.scaleY * s / l), i = o !== t.scaleX || a !== t.scaleY, t.set("scaleX", o), t.set("scaleY", a), i }, _flipObject: function (e, t) { e.newScaleX < 0 && "y" !== t && ("left" === e.originX ? e.originX = "right" : "right" === e.originX && (e.originX = "left")), e.newScaleY < 0 && "x" !== t && ("top" === e.originY ? e.originY = "bottom" : "bottom" === e.originY && (e.originY = "top")) }, _setLocalMouse: function (e, t) { var n = t.target, r = this.getZoom(), i = n.padding / r; "right" === t.originX ? e.x *= -1 : "center" === t.originX && (e.x *= 2 * t.mouseXSign, e.x < 0 && (t.mouseXSign = -t.mouseXSign)), "bottom" === t.originY ? e.y *= -1 : "center" === t.originY && (e.y *= 2 * t.mouseYSign, e.y < 0 && (t.mouseYSign = -t.mouseYSign)), o(e.x) > i ? e.x < 0 ? e.x += i : e.x -= i : e.x = 0, o(e.y) > i ? e.y < 0 ? e.y += i : e.y -= i : e.y = 0 }, _rotateObject: function (e, t) { var i = this._currentTransform, o = i.target, a = o.translateToOriginPoint(o.getCenterPoint(), i.originX, i.originY); if (o.lockRotation) return !1; var s = r(i.ey - a.y, i.ex - a.x), l = r(t - a.y, e - a.x), c = n(l - s + i.theta), u = !0; if (o.snapAngle > 0) { var h = o.snapAngle, f = o.snapThreshold || h, d = Math.ceil(c / h) * h, p = Math.floor(c / h) * h; Math.abs(c - p) < f ? c = p : Math.abs(c - d) < f && (c = d) } return c < 0 && (c = 360 + c), c %= 360, o.angle === c ? u = !1 : (o.angle = c, o.setPositionByOrigin(a, i.originX, i.originY)), u }, setCursor: function (e) { this.upperCanvasEl.style.cursor = e }, _drawSelection: function (e) { var t = this._groupSelector, n = t.left, r = t.top, l = o(n), c = o(r); if (this.selectionColor && (e.fillStyle = this.selectionColor, e.fillRect(t.ex - (n > 0 ? 0 : -n), t.ey - (r > 0 ? 0 : -r), l, c)), this.selectionLineWidth && this.selectionBorderColor) if (e.lineWidth = this.selectionLineWidth, e.strokeStyle = this.selectionBorderColor, this.selectionDashArray.length > 1 && !a) { var u = t.ex + s - (n > 0 ? 0 : l), h = t.ey + s - (r > 0 ? 0 : c); e.beginPath(), i.util.drawDashedLine(e, u, h, u + l, h, this.selectionDashArray), i.util.drawDashedLine(e, u, h + c - 1, u + l, h + c - 1, this.selectionDashArray), i.util.drawDashedLine(e, u, h, u, h + c, this.selectionDashArray), i.util.drawDashedLine(e, u + l - 1, h, u + l - 1, h + c, this.selectionDashArray), e.closePath(), e.stroke() } else i.Object.prototype._setLineDash.call(this, e, this.selectionDashArray), e.strokeRect(t.ex + s - (n > 0 ? 0 : l), t.ey + s - (r > 0 ? 0 : c), l, c) }, findTarget: function (e, t) { if (!this.skipTargetFind) { var n, r, i = this.getPointer(e, !0), o = this._activeObject, a = this.getActiveObjects(); if (this.targets = [], a.length > 1 && !t && o === this._searchPossibleTargets([o], i)) return o; if (1 === a.length && o._findTargetCorner(i)) return o; if (1 === a.length && o === this._searchPossibleTargets([o], i)) { if (!this.preserveObjectStacking) return o; n = o, r = this.targets, this.targets = [] } var s = this._searchPossibleTargets(this._objects, i); return e[this.altSelectionKey] && s && n && s !== n && (s = n, this.targets = r), s } }, _checkTarget: function (e, t, n) { if (t && t.visible && t.evented && this.containsPoint(null, t, e)) { if (!this.perPixelTargetFind && !t.perPixelTargetFind || t.isEditing) return !0; if (!this.isTargetTransparent(t, n.x, n.y)) return !0 } }, _searchPossibleTargets: function (e, t) { for (var n, r, o = e.length; o--;) { var a = e[o], s = a.group && "activeSelection" !== a.group.type ? this._normalizePointer(a.group, t) : t; if (this._checkTarget(s, a, t)) { (n = e[o]).subTargetCheck && n instanceof i.Group && (r = this._searchPossibleTargets(n._objects, t)) && this.targets.push(r); break } } return n }, restorePointerVpt: function (e) { return i.util.transformPoint(e, i.util.invertTransform(this.viewportTransform)) }, getPointer: function (t, n) { if (this._absolutePointer && !n) return this._absolutePointer; if (this._pointer && n) return this._pointer; var r, i = e(t), o = this.upperCanvasEl, a = o.getBoundingClientRect(), s = a.width || 0, l = a.height || 0; s && l || ("top" in a && "bottom" in a && (l = Math.abs(a.top - a.bottom)), "right" in a && "left" in a && (s = Math.abs(a.right - a.left))), this.calcOffset(), i.x = i.x - this._offset.left, i.y = i.y - this._offset.top, n || (i = this.restorePointerVpt(i)); var c = this.getRetinaScaling(); return 1 !== c && (i.x /= c, i.y /= c), r = 0 === s || 0 === l ? { width: 1, height: 1 } : { width: o.width / s, height: o.height / l }, { x: i.x * r.width, y: i.y * r.height } }, _createUpperCanvas: function () { var e = this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/, ""), t = this.lowerCanvasEl, n = this.upperCanvasEl; n ? n.className = "" : (n = this._createCanvasElement(), this.upperCanvasEl = n), i.util.addClass(n, "upper-canvas " + e), this.wrapperEl.appendChild(n), this._copyCanvasStyle(t, n), this._applyCanvasStyle(n), this.contextTop = n.getContext("2d") }, _createCacheCanvas: function () { this.cacheCanvasEl = this._createCanvasElement(), this.cacheCanvasEl.setAttribute("width", this.width), this.cacheCanvasEl.setAttribute("height", this.height), this.contextCache = this.cacheCanvasEl.getContext("2d") }, _initWrapperElement: function () { this.wrapperEl = i.util.wrapElement(this.lowerCanvasEl, "div", { class: this.containerClass }), i.util.setStyle(this.wrapperEl, { width: this.width + "px", height: this.height + "px", position: "relative" }), i.util.makeElementUnselectable(this.wrapperEl) }, _applyCanvasStyle: function (e) { var t = this.width || e.width, n = this.height || e.height; i.util.setStyle(e, { position: "absolute", width: t + "px", height: n + "px", left: 0, top: 0, "touch-action": this.allowTouchScrolling ? "manipulation" : "none", "-ms-touch-action": this.allowTouchScrolling ? "manipulation" : "none" }), e.width = t, e.height = n, i.util.makeElementUnselectable(e) }, _copyCanvasStyle: function (e, t) { t.style.cssText = e.style.cssText }, getSelectionContext: function () { return this.contextTop }, getSelectionElement: function () { return this.upperCanvasEl }, getActiveObject: function () { return this._activeObject }, getActiveObjects: function () { var e = this._activeObject; return e ? "activeSelection" === e.type && e._objects ? e._objects.slice(0) : [e] : [] }, _onObjectRemoved: function (e) { e === this._activeObject && (this.fire("before:selection:cleared", { target: e }), this._discardActiveObject(), this.fire("selection:cleared", { target: e }), e.fire("deselected")), e === this._hoveredTarget && (this._hoveredTarget = null, this._hoveredTargets = []), this.callSuper("_onObjectRemoved", e) }, _fireSelectionEvents: function (e, t) { var n = !1, r = this.getActiveObjects(), i = [], o = [], a = { e: t }; e.forEach((function (e) { -1 === r.indexOf(e) && (n = !0, e.fire("deselected", a), o.push(e)) })), r.forEach((function (t) { -1 === e.indexOf(t) && (n = !0, t.fire("selected", a), i.push(t)) })), e.length > 0 && r.length > 0 ? (a.selected = i, a.deselected = o, a.updated = i[0] || o[0], a.target = this._activeObject, n && this.fire("selection:updated", a)) : r.length > 0 ? (1 === r.length && (a.target = i[0], this.fire("object:selected", a)), a.selected = i, a.target = this._activeObject, this.fire("selection:created", a)) : e.length > 0 && (a.deselected = o, this.fire("selection:cleared", a)) }, setActiveObject: function (e, t) { var n = this.getActiveObjects(); return this._setActiveObject(e, t), this._fireSelectionEvents(n, t), this }, _setActiveObject: function (e, t) { return this._activeObject !== e && (!!this._discardActiveObject(t, e) && (!e.onSelect({ e: t }) && (this._activeObject = e, !0))) }, _discardActiveObject: function (e, t) { var n = this._activeObject; if (n) { if (n.onDeselect({ e: e, object: t })) return !1; this._activeObject = null } return !0 }, discardActiveObject: function (e) { var t = this.getActiveObjects(), n = this.getActiveObject(); return t.length && this.fire("before:selection:cleared", { target: n, e: e }), this._discardActiveObject(e), this._fireSelectionEvents(t, e), this }, dispose: function () { var e = this.wrapperEl; return this.removeListeners(), e.removeChild(this.upperCanvasEl), e.removeChild(this.lowerCanvasEl), this.contextCache = null, this.contextTop = null, ["upperCanvasEl", "cacheCanvasEl"].forEach(function (e) { i.util.cleanUpJsdomNode(this[e]), this[e] = void 0 }.bind(this)), e.parentNode && e.parentNode.replaceChild(this.lowerCanvasEl, this.wrapperEl), delete this.wrapperEl, i.StaticCanvas.prototype.dispose.call(this), this }, clear: function () { return this.discardActiveObject(), this.clearContext(this.contextTop), this.callSuper("clear") }, drawControls: function (e) { var t = this._activeObject; t && t._renderControls(e) }, _toObject: function (e, t, n) { var r = this._realizeGroupTransformOnObject(e), i = this.callSuper("_toObject", e, t, n); return this._unwindGroupTransformOnObject(e, r), i }, _realizeGroupTransformOnObject: function (e) { if (e.group && "activeSelection" === e.group.type && this._activeObject === e.group) { var t = {}; return ["angle", "flipX", "flipY", "left", "scaleX", "scaleY", "skewX", "skewY", "top"].forEach((function (n) { t[n] = e[n] })), this._activeObject.realizeTransform(e), t } return null }, _unwindGroupTransformOnObject: function (e, t) { t && e.set(t) }, _setSVGObject: function (e, t, n) { var r = this._realizeGroupTransformOnObject(t); this.callSuper("_setSVGObject", e, t, n), this._unwindGroupTransformOnObject(t, r) }, setViewportTransform: function (e) { this.renderOnAddRemove && this._activeObject && this._activeObject.isEditing && this._activeObject.clearContextTop(), i.StaticCanvas.prototype.setViewportTransform.call(this, e) } }), i.StaticCanvas) "prototype" !== l && (i.Canvas[l] = i.StaticCanvas[l]) }(), function () { var e = { mt: 0, tr: 1, mr: 2, br: 3, mb: 4, bl: 5, ml: 6, tl: 7 }, t = i.util.addListener, n = i.util.removeListener, r = { passive: !1 }; function o(e, t) { return e.button && e.button === t - 1 } i.util.object.extend(i.Canvas.prototype, { cursorMap: ["n-resize", "ne-resize", "e-resize", "se-resize", "s-resize", "sw-resize", "w-resize", "nw-resize"], mainTouchId: null, _initEventListeners: function () { this.removeListeners(), this._bindEvents(), this.addOrRemove(t, "add") }, _getEventPrefix: function () { return this.enablePointerEvents ? "pointer" : "mouse" }, addOrRemove: function (e, t) { var n = this.upperCanvasEl, o = this._getEventPrefix(); e(i.window, "resize", this._onResize), e(n, o + "down", this._onMouseDown), e(n, o + "move", this._onMouseMove, r), e(n, o + "out", this._onMouseOut), e(n, o + "enter", this._onMouseEnter), e(n, "wheel", this._onMouseWheel), e(n, "contextmenu", this._onContextMenu), e(n, "dblclick", this._onDoubleClick), e(n, "dragover", this._onDragOver), e(n, "dragenter", this._onDragEnter), e(n, "dragleave", this._onDragLeave), e(n, "drop", this._onDrop), this.enablePointerEvents || e(n, "touchstart", this._onTouchStart, r), "undefined" !== typeof eventjs && t in eventjs && (eventjs[t](n, "gesture", this._onGesture), eventjs[t](n, "drag", this._onDrag), eventjs[t](n, "orientation", this._onOrientationChange), eventjs[t](n, "shake", this._onShake), eventjs[t](n, "longpress", this._onLongPress)) }, removeListeners: function () { this.addOrRemove(n, "remove"); var e = this._getEventPrefix(); n(i.document, e + "up", this._onMouseUp), n(i.document, "touchend", this._onTouchEnd, r), n(i.document, e + "move", this._onMouseMove, r), n(i.document, "touchmove", this._onMouseMove, r) }, _bindEvents: function () { this.eventsBound || (this._onMouseDown = this._onMouseDown.bind(this), this._onTouchStart = this._onTouchStart.bind(this), this._onMouseMove = this._onMouseMove.bind(this), this._onMouseUp = this._onMouseUp.bind(this), this._onTouchEnd = this._onTouchEnd.bind(this), this._onResize = this._onResize.bind(this), this._onGesture = this._onGesture.bind(this), this._onDrag = this._onDrag.bind(this), this._onShake = this._onShake.bind(this), this._onLongPress = this._onLongPress.bind(this), this._onOrientationChange = this._onOrientationChange.bind(this), this._onMouseWheel = this._onMouseWheel.bind(this), this._onMouseOut = this._onMouseOut.bind(this), this._onMouseEnter = this._onMouseEnter.bind(this), this._onContextMenu = this._onContextMenu.bind(this), this._onDoubleClick = this._onDoubleClick.bind(this), this._onDragOver = this._onDragOver.bind(this), this._onDragEnter = this._simpleEventHandler.bind(this, "dragenter"), this._onDragLeave = this._simpleEventHandler.bind(this, "dragleave"), this._onDrop = this._simpleEventHandler.bind(this, "drop"), this.eventsBound = !0) }, _onGesture: function (e, t) { this.__onTransformGesture && this.__onTransformGesture(e, t) }, _onDrag: function (e, t) { this.__onDrag && this.__onDrag(e, t) }, _onMouseWheel: function (e) { this.__onMouseWheel(e) }, _onMouseOut: function (e) { var t = this._hoveredTarget; this.fire("mouse:out", { target: t, e: e }), this._hoveredTarget = null, t && t.fire("mouseout", { e: e }); var n = this; this._hoveredTargets.forEach((function (r) { n.fire("mouse:out", { target: t, e: e }), r && t.fire("mouseout", { e: e }) })), this._hoveredTargets = [], this._iTextInstances && this._iTextInstances.forEach((function (e) { e.isEditing && e.hiddenTextarea.focus() })) }, _onMouseEnter: function (e) { this.currentTransform || this.findTarget(e) || (this.fire("mouse:over", { target: null, e: e }), this._hoveredTarget = null, this._hoveredTargets = []) }, _onOrientationChange: function (e, t) { this.__onOrientationChange && this.__onOrientationChange(e, t) }, _onShake: function (e, t) { this.__onShake && this.__onShake(e, t) }, _onLongPress: function (e, t) { this.__onLongPress && this.__onLongPress(e, t) }, _onDragOver: function (e) { e.preventDefault(); var t = this._simpleEventHandler("dragover", e); this._fireEnterLeaveEvents(t, e) }, _onContextMenu: function (e) { return this.stopContextMenu && (e.stopPropagation(), e.preventDefault()), !1 }, _onDoubleClick: function (e) { this._cacheTransformEventData(e), this._handleEvent(e, "dblclick"), this._resetTransformEventData(e) }, getPointerId: function (e) { var t = e.changedTouches; return t ? t[0] && t[0].identifier : this.enablePointerEvents ? e.pointerId : -1 }, _isMainEvent: function (e) { return !0 === e.isPrimary || !1 !== e.isPrimary && ("touchend" === e.type && 0 === e.touches.length || (!e.changedTouches || e.changedTouches[0].identifier === this.mainTouchId)) }, _onTouchStart: function (e) { e.preventDefault(), null === this.mainTouchId && (this.mainTouchId = this.getPointerId(e)), this.__onMouseDown(e), this._resetTransformEventData(); var o = this.upperCanvasEl, a = this._getEventPrefix(); t(i.document, "touchend", this._onTouchEnd, r), t(i.document, "touchmove", this._onMouseMove, r), n(o, a + "down", this._onMouseDown) }, _onMouseDown: function (e) { this.__onMouseDown(e), this._resetTransformEventData(); var o = this.upperCanvasEl, a = this._getEventPrefix(); n(o, a + "move", this._onMouseMove, r), t(i.document, a + "up", this._onMouseUp), t(i.document, a + "move", this._onMouseMove, r) }, _onTouchEnd: function (e) { if (!(e.touches.length > 0)) { this.__onMouseUp(e), this._resetTransformEventData(), this.mainTouchId = null; var o = this._getEventPrefix(); n(i.document, "touchend", this._onTouchEnd, r), n(i.document, "touchmove", this._onMouseMove, r); var a = this; this._willAddMouseDown && clearTimeout(this._willAddMouseDown), this._willAddMouseDown = setTimeout((function () { t(a.upperCanvasEl, o + "down", a._onMouseDown), a._willAddMouseDown = 0 }), 400) } }, _onMouseUp: function (e) { this.__onMouseUp(e), this._resetTransformEventData(); var o = this.upperCanvasEl, a = this._getEventPrefix(); this._isMainEvent(e) && (n(i.document, a + "up", this._onMouseUp), n(i.document, a + "move", this._onMouseMove, r), t(o, a + "move", this._onMouseMove, r)) }, _onMouseMove: function (e) { !this.allowTouchScrolling && e.preventDefault && e.preventDefault(), this.__onMouseMove(e) }, _onResize: function () { this.calcOffset() }, _shouldRender: function (e) { var t = this._activeObject; return !!(!!t !== !!e || t && e && t !== e) || (t && t.isEditing, !1) }, __onMouseUp: function (e) { var t, n = this._currentTransform, r = this._groupSelector, i = !1, a = !r || 0 === r.left && 0 === r.top; if (this._cacheTransformEventData(e), t = this._target, this._handleEvent(e, "up:before"), !o(e, 3)) return o(e, 2) ? (this.fireMiddleClick && this._handleEvent(e, "up", 2, a), void this._resetTransformEventData()) : void (this.isDrawingMode && this._isCurrentlyDrawing ? this._onMouseUpInDrawingMode(e) : this._isMainEvent(e) && (n && (this._finalizeCurrentTransform(e), i = n.actionPerformed), a || (this._maybeGroupObjects(e), i || (i = this._shouldRender(t))), t && (t.isMoving = !1), this._setCursorFromEvent(e, t), this._handleEvent(e, "up", 1, a), this._groupSelector = null, this._currentTransform = null, t && (t.__corner = 0), i ? this.requestRenderAll() : a || this.renderTop())); this.fireRightClick && this._handleEvent(e, "up", 3, a) }, _simpleEventHandler: function (e, t) { var n = this.findTarget(t), r = this.targets, i = { e: t, target: n, subTargets: r }; if (this.fire(e, i), n && n.fire(e, i), !r) return n; for (var o = 0; o < r.length; o++)r[o].fire(e, i); return n }, _handleEvent: function (e, t, n, r) { var i = this._target, o = this.targets || [], a = { e: e, target: i, subTargets: o, button: n || 1, isClick: r || !1, pointer: this._pointer, absolutePointer: this._absolutePointer, transform: this._currentTransform }; this.fire("mouse:" + t, a), i && i.fire("mouse" + t, a); for (var s = 0; s < o.length; s++)o[s].fire("mouse" + t, a) }, _finalizeCurrentTransform: function (e) { var t, n = this._currentTransform, r = n.target, i = { e: e, target: r, transform: n }; r._scaling && (r._scaling = !1), r.setCoords(), (n.actionPerformed || this.stateful && r.hasStateChanged()) && (n.actionPerformed && (t = this._addEventOptions(i, n), this._fire(t, i)), this._fire("modified", i)) }, _addEventOptions: function (e, t) { var n, r; switch (t.action) { case "scaleX": n = "scaled", r = "x"; break; case "scaleY": n = "scaled", r = "y"; break; case "skewX": n = "skewed", r = "x"; break; case "skewY": n = "skewed", r = "y"; break; case "scale": n = "scaled", r = "equally"; break; case "rotate": n = "rotated"; break; case "drag": n = "moved" }return e.by = r, n }, _onMouseDownInDrawingMode: function (e) { this._isCurrentlyDrawing = !0, this.getActiveObject() && this.discardActiveObject(e).requestRenderAll(), this.clipTo && i.util.clipContext(this, this.contextTop); var t = this.getPointer(e); this.freeDrawingBrush.onMouseDown(t, { e: e, pointer: t }), this._handleEvent(e, "down") }, _onMouseMoveInDrawingMode: function (e) { if (this._isCurrentlyDrawing) { var t = this.getPointer(e); this.freeDrawingBrush.onMouseMove(t, { e: e, pointer: t }) } this.setCursor(this.freeDrawingCursor), this._handleEvent(e, "move") }, _onMouseUpInDrawingMode: function (e) { this.clipTo && this.contextTop.restore(); var t = this.getPointer(e); this._isCurrentlyDrawing = this.freeDrawingBrush.onMouseUp({ e: e, pointer: t }), this._handleEvent(e, "up") }, __onMouseDown: function (e) { this._cacheTransformEventData(e), this._handleEvent(e, "down:before"); var t = this._target; if (o(e, 3)) this.fireRightClick && this._handleEvent(e, "down", 3); else if (o(e, 2)) this.fireMiddleClick && this._handleEvent(e, "down", 2); else if (this.isDrawingMode) this._onMouseDownInDrawingMode(e); else if (this._isMainEvent(e) && !this._currentTransform) { var n = this._pointer; this._previousPointer = n; var r = this._shouldRender(t), i = this._shouldGroup(e, t); if (this._shouldClearSelection(e, t) ? this.discardActiveObject(e) : i && (this._handleGrouping(e, t), t = this._activeObject), !this.selection || t && (t.selectable || t.isEditing || t === this._activeObject) || (this._groupSelector = { ex: n.x, ey: n.y, top: 0, left: 0 }), t) { var a = t === this._activeObject; t.selectable && this.setActiveObject(t, e), t !== this._activeObject || !t.__corner && i || this._setupCurrentTransform(e, t, a) } this._handleEvent(e, "down"), (r || i) && this.requestRenderAll() } }, _resetTransformEventData: function () { this._target = null, this._pointer = null, this._absolutePointer = null }, _cacheTransformEventData: function (e) { this._resetTransformEventData(), this._pointer = this.getPointer(e, !0), this._absolutePointer = this.restorePointerVpt(this._pointer), this._target = this._currentTransform ? this._currentTransform.target : this.findTarget(e) || null }, _beforeTransform: function (e) { var t = this._currentTransform; this.stateful && t.target.saveState(), this.fire("before:transform", { e: e, transform: t }), t.corner && this.onBeforeScaleRotate(t.target) }, __onMouseMove: function (e) { var t, n; if (this._handleEvent(e, "move:before"), this._cacheTransformEventData(e), this.isDrawingMode) this._onMouseMoveInDrawingMode(e); else if (this._isMainEvent(e)) { var r = this._groupSelector; r ? (n = this._pointer, r.left = n.x - r.ex, r.top = n.y - r.ey, this.renderTop()) : this._currentTransform ? this._transformObject(e) : (t = this.findTarget(e) || null, this._setCursorFromEvent(e, t), this._fireOverOutEvents(t, e)), this._handleEvent(e, "move"), this._resetTransformEventData() } }, _fireOverOutEvents: function (e, t) { var n = this._hoveredTarget, r = this._hoveredTargets, i = this.targets, o = Math.max(r.length, i.length); this.fireSyntheticInOutEvents(e, t, { oldTarget: n, evtOut: "mouseout", canvasEvtOut: "mouse:out", evtIn: "mouseover", canvasEvtIn: "mouse:over" }); for (var a = 0; a < o; a++)this.fireSyntheticInOutEvents(i[a], t, { oldTarget: r[a], evtOut: "mouseout", evtIn: "mouseover" }); this._hoveredTarget = e, this._hoveredTargets = this.targets.concat() }, _fireEnterLeaveEvents: function (e, t) { var n = this._draggedoverTarget, r = this._hoveredTargets, i = this.targets, o = Math.max(r.length, i.length); this.fireSyntheticInOutEvents(e, t, { oldTarget: n, evtOut: "dragleave", evtIn: "dragenter" }); for (var a = 0; a < o; a++)this.fireSyntheticInOutEvents(i[a], t, { oldTarget: r[a], evtOut: "dragleave", evtIn: "dragenter" }); this._draggedoverTarget = e }, fireSyntheticInOutEvents: function (e, t, n) { var r, i, o, a = n.oldTarget, s = a !== e, l = n.canvasEvtIn, c = n.canvasEvtOut; s && (r = { e: t, target: e, previousTarget: a }, i = { e: t, target: a, nextTarget: e }), o = e && s, a && s && (c && this.fire(c, i), a.fire(n.evtOut, i)), o && (l && this.fire(l, r), e.fire(n.evtIn, r)) }, __onMouseWheel: function (e) { this._cacheTransformEventData(e), this._handleEvent(e, "wheel"), this._resetTransformEventData() }, _transformObject: function (e) { var t = this.getPointer(e), n = this._currentTransform; n.reset = !1, n.target.isMoving = !0, n.shiftKey = e.shiftKey, n.altKey = e[this.centeredKey], this._beforeScaleTransform(e, n), this._performTransformAction(e, n, t), n.actionPerformed && this.requestRenderAll() }, _performTransformAction: function (e, t, n) { var r = n.x, i = n.y, o = t.action, a = !1, s = { target: t.target, e: e, transform: t, pointer: n }; "rotate" === o ? (a = this._rotateObject(r, i)) && this._fire("rotating", s) : "scale" === o ? (a = this._onScale(e, t, r, i)) && this._fire("scaling", s) : "scaleX" === o ? (a = this._scaleObject(r, i, "x")) && this._fire("scaling", s) : "scaleY" === o ? (a = this._scaleObject(r, i, "y")) && this._fire("scaling", s) : "skewX" === o ? (a = this._skewObject(r, i, "x")) && this._fire("skewing", s) : "skewY" === o ? (a = this._skewObject(r, i, "y")) && this._fire("skewing", s) : (a = this._translateObject(r, i)) && (this._fire("moving", s), this.setCursor(s.target.moveCursor || this.moveCursor)), t.actionPerformed = t.actionPerformed || a }, _fire: function (e, t) { this.fire("object:" + e, t), t.target.fire(e, t) }, _beforeScaleTransform: function (e, t) { if ("scale" === t.action || "scaleX" === t.action || "scaleY" === t.action) { var n = this._shouldCenterTransform(t.target); (n && ("center" !== t.originX || "center" !== t.originY) || !n && "center" === t.originX && "center" === t.originY) && (this._resetCurrentTransform(), t.reset = !0) } }, _onScale: function (e, t, n, r) { return this._isUniscalePossible(e, t.target) ? (t.currentAction = "scale", this._scaleObject(n, r)) : (t.reset || "scale" !== t.currentAction || this._resetCurrentTransform(), t.currentAction = "scaleEqually", this._scaleObject(n, r, "equally")) }, _isUniscalePossible: function (e, t) { return (e[this.uniScaleKey] || this.uniScaleTransform) && !t.get("lockUniScaling") }, _setCursorFromEvent: function (e, t) { if (!t) return this.setCursor(this.defaultCursor), !1; var n = t.hoverCursor || this.hoverCursor, r = this._activeObject && "activeSelection" === this._activeObject.type ? this._activeObject : null, i = (!r || !r.contains(t)) && t._findTargetCorner(this.getPointer(e, !0)); i ? this.setCursor(this.getCornerCursor(i, t, e)) : (t.subTargetCheck && this.targets.concat().reverse().map((function (e) { n = e.hoverCursor || n })), this.setCursor(n)) }, getCornerCursor: function (t, n, r) { return this.actionIsDisabled(t, n, r) ? this.notAllowedCursor : t in e ? this._getRotatedCornerCursor(t, n, r) : "mtr" === t && n.hasRotatingPoint ? this.rotationCursor : this.defaultCursor }, actionIsDisabled: function (e, t, n) { return "mt" === e || "mb" === e ? n[this.altActionKey] ? t.lockSkewingX : t.lockScalingY : "ml" === e || "mr" === e ? n[this.altActionKey] ? t.lockSkewingY : t.lockScalingX : "mtr" === e ? t.lockRotation : this._isUniscalePossible(n, t) ? t.lockScalingX && t.lockScalingY : t.lockScalingX || t.lockScalingY }, _getRotatedCornerCursor: function (t, n, r) { var i = Math.round(n.angle % 360 / 45); return i < 0 && (i += 8), i += e[t], r[this.altActionKey] && e[t] % 2 === 0 && (i += 2), i %= 8, this.cursorMap[i] } }) }(), function () { var e = Math.min, t = Math.max; i.util.object.extend(i.Canvas.prototype, { _shouldGroup: function (e, t) { var n = this._activeObject; return n && this._isSelectionKeyPressed(e) && t && t.selectable && this.selection && (n !== t || "activeSelection" === n.type) && !t.onSelect({ e: e }) }, _handleGrouping: function (e, t) { var n = this._activeObject; n.__corner || (t !== n || (t = this.findTarget(e, !0)) && t.selectable) && (n && "activeSelection" === n.type ? this._updateActiveSelection(t, e) : this._createActiveSelection(t, e)) }, _updateActiveSelection: function (e, t) { var n = this._activeObject, r = n._objects.slice(0); n.contains(e) ? (n.removeWithUpdate(e), this._hoveredTarget = e, this._hoveredTargets = this.targets.concat(), 1 === n.size() && this._setActiveObject(n.item(0), t)) : (n.addWithUpdate(e), this._hoveredTarget = n, this._hoveredTargets = this.targets.concat()), this._fireSelectionEvents(r, t) }, _createActiveSelection: function (e, t) { var n = this.getActiveObjects(), r = this._createGroup(e); this._hoveredTarget = r, this._setActiveObject(r, t), this._fireSelectionEvents(n, t) }, _createGroup: function (e) { var t = this._objects, n = t.indexOf(this._activeObject) < t.indexOf(e) ? [this._activeObject, e] : [e, this._activeObject]; return this._activeObject.isEditing && this._activeObject.exitEditing(), new i.ActiveSelection(n, { canvas: this }) }, _groupSelectedObjects: function (e) { var t, n = this._collectObjects(e); 1 === n.length ? this.setActiveObject(n[0], e) : n.length > 1 && (t = new i.ActiveSelection(n.reverse(), { canvas: this }), this.setActiveObject(t, e)) }, _collectObjects: function (n) { for (var r, o = [], a = this._groupSelector.ex, s = this._groupSelector.ey, l = a + this._groupSelector.left, c = s + this._groupSelector.top, u = new i.Point(e(a, l), e(s, c)), h = new i.Point(t(a, l), t(s, c)), f = !this.selectionFullyContained, d = a === l && s === c, p = this._objects.length; p-- && !((r = this._objects[p]) && r.selectable && r.visible && (f && r.intersectsWithRect(u, h) || r.isContainedWithinRect(u, h) || f && r.containsPoint(u) || f && r.containsPoint(h)) && (o.push(r), d));); return o.length > 1 && (o = o.filter((function (e) { return !e.onSelect({ e: n }) }))), o }, _maybeGroupObjects: function (e) { this.selection && this._groupSelector && this._groupSelectedObjects(e), this.setCursor(this.defaultCursor), this._groupSelector = null } }) }(), i.util.object.extend(i.StaticCanvas.prototype, { toDataURL: function (e) { e || (e = {}); var t = e.format || "png", n = e.quality || 1, r = (e.multiplier || 1) * (e.enableRetinaScaling ? this.getRetinaScaling() : 1), o = this.toCanvasElement(r, e); return i.util.toDataURL(o, t, n) }, toCanvasElement: function (e, t) { e = e || 1; var n = ((t = t || {}).width || this.width) * e, r = (t.height || this.height) * e, o = this.getZoom(), a = this.width, s = this.height, l = o * e, c = this.viewportTransform, u = (c[4] - (t.left || 0)) * e, h = (c[5] - (t.top || 0)) * e, f = this.interactive, d = [l, 0, 0, l, u, h], p = this.enableRetinaScaling, g = i.util.createCanvasElement(), v = this.contextTop; return g.width = n, g.height = r, this.contextTop = null, this.enableRetinaScaling = !1, this.interactive = !1, this.viewportTransform = d, this.width = n, this.height = r, this.calcViewportBoundaries(), this.renderCanvas(g.getContext("2d"), this._objects), this.viewportTransform = c, this.width = a, this.height = s, this.calcViewportBoundaries(), this.interactive = f, this.enableRetinaScaling = p, this.contextTop = v, g } }), i.util.object.extend(i.StaticCanvas.prototype, { loadFromDatalessJSON: function (e, t, n) { return this.loadFromJSON(e, t, n) }, loadFromJSON: function (e, t, n) { if (e) { var r = "string" === typeof e ? JSON.parse(e) : i.util.object.clone(e), o = this, a = r.clipPath, s = this.renderOnAddRemove; return this.renderOnAddRemove = !1, delete r.clipPath, this._enlivenObjects(r.objects, (function (e) { o.clear(), o._setBgOverlay(r, (function () { a ? o._enlivenObjects([a], (function (n) { o.clipPath = n[0], o.__setupCanvas.call(o, r, e, s, t) })) : o.__setupCanvas.call(o, r, e, s, t) })) }), n), this } }, __setupCanvas: function (e, t, n, r) { var i = this; t.forEach((function (e, t) { i.insertAt(e, t) })), this.renderOnAddRemove = n, delete e.objects, delete e.backgroundImage, delete e.overlayImage, delete e.background, delete e.overlay, this._setOptions(e), this.renderAll(), r && r() }, _setBgOverlay: function (e, t) { var n = { backgroundColor: !1, overlayColor: !1, backgroundImage: !1, overlayImage: !1 }; if (e.backgroundImage || e.overlayImage || e.background || e.overlay) { var r = function () { n.backgroundImage && n.overlayImage && n.backgroundColor && n.overlayColor && t && t() }; this.__setBgOverlay("backgroundImage", e.backgroundImage, n, r), this.__setBgOverlay("overlayImage", e.overlayImage, n, r), this.__setBgOverlay("backgroundColor", e.background, n, r), this.__setBgOverlay("overlayColor", e.overlay, n, r) } else t && t() }, __setBgOverlay: function (e, t, n, r) { var o = this; if (!t) return n[e] = !0, void (r && r()); "backgroundImage" === e || "overlayImage" === e ? i.util.enlivenObjects([t], (function (t) { o[e] = t[0], n[e] = !0, r && r() })) : this["set" + i.util.string.capitalize(e, !0)](t, (function () { n[e] = !0, r && r() })) }, _enlivenObjects: function (e, t, n) { e && 0 !== e.length ? i.util.enlivenObjects(e, (function (e) { t && t(e) }), null, n) : t && t([]) }, _toDataURL: function (e, t) { this.clone((function (n) { t(n.toDataURL(e)) })) }, _toDataURLWithMultiplier: function (e, t, n) { this.clone((function (r) { n(r.toDataURLWithMultiplier(e, t)) })) }, clone: function (e, t) { var n = JSON.stringify(this.toJSON(t)); this.cloneWithoutData((function (t) { t.loadFromJSON(n, (function () { e && e(t) })) })) }, cloneWithoutData: function (e) { var t = i.util.createCanvasElement(); t.width = this.width, t.height = this.height; var n = new i.Canvas(t); n.clipTo = this.clipTo, this.backgroundImage ? (n.setBackgroundImage(this.backgroundImage.src, (function () { n.renderAll(), e && e(n) })), n.backgroundImageOpacity = this.backgroundImageOpacity, n.backgroundImageStretch = this.backgroundImageStretch) : e && e(n) } }), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}), n = t.util.object.extend, r = t.util.object.clone, i = t.util.toFixed, o = t.util.string.capitalize, a = t.util.degreesToRadians, s = t.StaticCanvas.supports("setLineDash"), l = !t.isLikelyNode; t.Object || (t.Object = t.util.createClass(t.CommonMethods, { type: "object", originX: "left", originY: "top", top: 0, left: 0, width: 0, height: 0, scaleX: 1, scaleY: 1, flipX: !1, flipY: !1, opacity: 1, angle: 0, skewX: 0, skewY: 0, cornerSize: 13, transparentCorners: !0, hoverCursor: null, moveCursor: null, padding: 0, borderColor: "rgba(102,153,255,0.75)", borderDashArray: null, cornerColor: "rgba(102,153,255,0.5)", cornerStrokeColor: null, cornerStyle: "rect", cornerDashArray: null, centeredScaling: !1, centeredRotation: !0, fill: "rgb(0,0,0)", fillRule: "nonzero", globalCompositeOperation: "source-over", backgroundColor: "", selectionBackgroundColor: "", stroke: null, strokeWidth: 1, strokeDashArray: null, strokeDashOffset: 0, strokeLineCap: "butt", strokeLineJoin: "miter", strokeMiterLimit: 4, shadow: null, borderOpacityWhenMoving: .4, borderScaleFactor: 1, transformMatrix: null, minScaleLimit: 0, selectable: !0, evented: !0, visible: !0, hasControls: !0, hasBorders: !0, hasRotatingPoint: !0, rotatingPointOffset: 40, perPixelTargetFind: !1, includeDefaultValues: !0, clipTo: null, lockMovementX: !1, lockMovementY: !1, lockRotation: !1, lockScalingX: !1, lockScalingY: !1, lockUniScaling: !1, lockSkewingX: !1, lockSkewingY: !1, lockScalingFlip: !1, excludeFromExport: !1, objectCaching: l, statefullCache: !1, noScaleCache: !0, strokeUniform: !1, dirty: !0, __corner: 0, paintFirst: "fill", stateProperties: "top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow clipTo visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "), cacheProperties: "fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "), clipPath: void 0, inverted: !1, absolutePositioned: !1, initialize: function (e) { e && this.setOptions(e) }, _createCacheCanvas: function () { this._cacheProperties = {}, this._cacheCanvas = t.util.createCanvasElement(), this._cacheContext = this._cacheCanvas.getContext("2d"), this._updateCacheCanvas(), this.dirty = !0 }, _limitCacheSize: function (e) { var n = t.perfLimitSizeTotal, r = e.width, i = e.height, o = t.maxCacheSideLimit, a = t.minCacheSideLimit; if (r <= o && i <= o && r * i <= n) return r < a && (e.width = a), i < a && (e.height = a), e; var s = r / i, l = t.util.limitDimsByArea(s, n), c = t.util.capValue, u = c(a, l.x, o), h = c(a, l.y, o); return r > u && (e.zoomX /= r / u, e.width = u, e.capped = !0), i > h && (e.zoomY /= i / h, e.height = h, e.capped = !0), e }, _getCacheCanvasDimensions: function () { var e = this.getTotalObjectScaling(), t = this._getTransformedDimensions(0, 0), n = t.x * e.scaleX / this.scaleX, r = t.y * e.scaleY / this.scaleY; return { width: n + 2, height: r + 2, zoomX: e.scaleX, zoomY: e.scaleY, x: n, y: r } }, _updateCacheCanvas: function () { var e = this.canvas; if (this.noScaleCache && e && e._currentTransform) { var n = e._currentTransform.target, r = e._currentTransform.action; if (this === n && r.slice && "scale" === r.slice(0, 5)) return !1 } var i, o, a = this._cacheCanvas, s = this._limitCacheSize(this._getCacheCanvasDimensions()), l = t.minCacheSideLimit, c = s.width, u = s.height, h = s.zoomX, f = s.zoomY, d = c !== this.cacheWidth || u !== this.cacheHeight, p = this.zoomX !== h || this.zoomY !== f, g = d || p, v = 0, m = 0, b = !1; if (d) { var y = this._cacheCanvas.width, x = this._cacheCanvas.height, w = c > y || u > x; b = w || (c < .9 * y || u < .9 * x) && y > l && x > l, w && !s.capped && (c > l || u > l) && (v = .1 * c, m = .1 * u) } return !!g && (b ? (a.width = Math.ceil(c + v), a.height = Math.ceil(u + m)) : (this._cacheContext.setTransform(1, 0, 0, 1, 0, 0), this._cacheContext.clearRect(0, 0, a.width, a.height)), i = s.x / 2, o = s.y / 2, this.cacheTranslationX = Math.round(a.width / 2 - i) + i, this.cacheTranslationY = Math.round(a.height / 2 - o) + o, this.cacheWidth = c, this.cacheHeight = u, this._cacheContext.translate(this.cacheTranslationX, this.cacheTranslationY), this._cacheContext.scale(h, f), this.zoomX = h, this.zoomY = f, !0) }, setOptions: function (e) { this._setOptions(e), this._initGradient(e.fill, "fill"), this._initGradient(e.stroke, "stroke"), this._initClipping(e), this._initPattern(e.fill, "fill"), this._initPattern(e.stroke, "stroke") }, transform: function (e) { var t; t = this.group && !this.group._transformDone ? this.calcTransformMatrix() : this.calcOwnMatrix(), e.transform(t[0], t[1], t[2], t[3], t[4], t[5]) }, toObject: function (e) { var n = t.Object.NUM_FRACTION_DIGITS, r = { type: this.type, version: t.version, originX: this.originX, originY: this.originY, left: i(this.left, n), top: i(this.top, n), width: i(this.width, n), height: i(this.height, n), fill: this.fill && this.fill.toObject ? this.fill.toObject() : this.fill, stroke: this.stroke && this.stroke.toObject ? this.stroke.toObject() : this.stroke, strokeWidth: i(this.strokeWidth, n), strokeDashArray: this.strokeDashArray ? this.strokeDashArray.concat() : this.strokeDashArray, strokeLineCap: this.strokeLineCap, strokeDashOffset: this.strokeDashOffset, strokeLineJoin: this.strokeLineJoin, strokeMiterLimit: i(this.strokeMiterLimit, n), scaleX: i(this.scaleX, n), scaleY: i(this.scaleY, n), angle: i(this.angle, n), flipX: this.flipX, flipY: this.flipY, opacity: i(this.opacity, n), shadow: this.shadow && this.shadow.toObject ? this.shadow.toObject() : this.shadow, visible: this.visible, clipTo: this.clipTo && String(this.clipTo), backgroundColor: this.backgroundColor, fillRule: this.fillRule, paintFirst: this.paintFirst, globalCompositeOperation: this.globalCompositeOperation, transformMatrix: this.transformMatrix ? this.transformMatrix.concat() : null, skewX: i(this.skewX, n), skewY: i(this.skewY, n) }; return this.clipPath && (r.clipPath = this.clipPath.toObject(e), r.clipPath.inverted = this.clipPath.inverted, r.clipPath.absolutePositioned = this.clipPath.absolutePositioned), t.util.populateWithProperties(this, r, e), this.includeDefaultValues || (r = this._removeDefaultValues(r)), r }, toDatalessObject: function (e) { return this.toObject(e) }, _removeDefaultValues: function (e) { var n = t.util.getKlass(e.type).prototype; return n.stateProperties.forEach((function (t) { "left" !== t && "top" !== t && (e[t] === n[t] && delete e[t], "[object Array]" === Object.prototype.toString.call(e[t]) && "[object Array]" === Object.prototype.toString.call(n[t]) && 0 === e[t].length && 0 === n[t].length && delete e[t]) })), e }, toString: function () { return "#<fabric." + o(this.type) + ">" }, getObjectScaling: function () { var e = t.util.qrDecompose(this.calcTransformMatrix()); return { scaleX: Math.abs(e.scaleX), scaleY: Math.abs(e.scaleY) } }, getTotalObjectScaling: function () { var e = this.getObjectScaling(), t = e.scaleX, n = e.scaleY; if (this.canvas) { var r = this.canvas.getZoom(), i = this.canvas.getRetinaScaling(); t *= r * i, n *= r * i } return { scaleX: t, scaleY: n } }, getObjectOpacity: function () { var e = this.opacity; return this.group && (e *= this.group.getObjectOpacity()), e }, _set: function (e, n) { var r = "scaleX" === e || "scaleY" === e, i = this[e] !== n, o = !1; return r && (n = this._constrainScale(n)), "scaleX" === e && n < 0 ? (this.flipX = !this.flipX, n *= -1) : "scaleY" === e && n < 0 ? (this.flipY = !this.flipY, n *= -1) : "shadow" !== e || !n || n instanceof t.Shadow ? "dirty" === e && this.group && this.group.set("dirty", n) : n = new t.Shadow(n), this[e] = n, i && (o = this.group && this.group.isOnACache(), this.cacheProperties.indexOf(e) > -1 ? (this.dirty = !0, o && this.group.set("dirty", !0)) : o && this.stateProperties.indexOf(e) > -1 && this.group.set("dirty", !0)), this }, setOnGroup: function () { }, getViewportTransform: function () { return this.canvas && this.canvas.viewportTransform ? this.canvas.viewportTransform : t.iMatrix.concat() }, isNotVisible: function () { return 0 === this.opacity || 0 === this.width && 0 === this.height && 0 === this.strokeWidth || !this.visible }, render: function (e) { this.isNotVisible() || this.canvas && this.canvas.skipOffscreen && !this.group && !this.isOnScreen() || (e.save(), this._setupCompositeOperation(e), this.drawSelectionBackground(e), this.transform(e), this._setOpacity(e), this._setShadow(e, this), this.transformMatrix && e.transform.apply(e, this.transformMatrix), this.clipTo && t.util.clipContext(this, e), this.shouldCache() ? (this.renderCache(), this.drawCacheOnCanvas(e)) : (this._removeCacheCanvas(), this.dirty = !1, this.drawObject(e), this.objectCaching && this.statefullCache && this.saveState({ propertySet: "cacheProperties" })), this.clipTo && e.restore(), e.restore()) }, renderCache: function (e) { e = e || {}, this._cacheCanvas || this._createCacheCanvas(), this.isCacheDirty() && (this.statefullCache && this.saveState({ propertySet: "cacheProperties" }), this.drawObject(this._cacheContext, e.forClipping), this.dirty = !1) }, _removeCacheCanvas: function () { this._cacheCanvas = null, this.cacheWidth = 0, this.cacheHeight = 0 }, hasStroke: function () { return this.stroke && "transparent" !== this.stroke && 0 !== this.strokeWidth }, hasFill: function () { return this.fill && "transparent" !== this.fill }, needsItsOwnCache: function () { return !("stroke" !== this.paintFirst || !this.hasFill() || !this.hasStroke() || "object" !== typeof this.shadow) || !!this.clipPath }, shouldCache: function () { return this.ownCaching = this.needsItsOwnCache() || this.objectCaching && (!this.group || !this.group.isOnACache()), this.ownCaching }, willDrawShadow: function () { return !!this.shadow && (0 !== this.shadow.offsetX || 0 !== this.shadow.offsetY) }, drawClipPathOnCache: function (e) { var n = this.clipPath; if (e.save(), n.inverted ? e.globalCompositeOperation = "destination-out" : e.globalCompositeOperation = "destination-in", n.absolutePositioned) { var r = t.util.invertTransform(this.calcTransformMatrix()); e.transform(r[0], r[1], r[2], r[3], r[4], r[5]) } n.transform(e), e.scale(1 / n.zoomX, 1 / n.zoomY), e.drawImage(n._cacheCanvas, -n.cacheTranslationX, -n.cacheTranslationY), e.restore() }, drawObject: function (e, t) { var n = this.fill, r = this.stroke; t ? (this.fill = "black", this.stroke = "", this._setClippingProperties(e)) : (this._renderBackground(e), this._setStrokeStyles(e, this), this._setFillStyles(e, this)), this._render(e), this._drawClipPath(e), this.fill = n, this.stroke = r }, _drawClipPath: function (e) { var t = this.clipPath; t && (t.canvas = this.canvas, t.shouldCache(), t._transformDone = !0, t.renderCache({ forClipping: !0 }), this.drawClipPathOnCache(e)) }, drawCacheOnCanvas: function (e) { e.scale(1 / this.zoomX, 1 / this.zoomY), e.drawImage(this._cacheCanvas, -this.cacheTranslationX, -this.cacheTranslationY) }, isCacheDirty: function (e) { if (this.isNotVisible()) return !1; if (this._cacheCanvas && !e && this._updateCacheCanvas()) return !0; if (this.dirty || this.clipPath && this.clipPath.absolutePositioned || this.statefullCache && this.hasStateChanged("cacheProperties")) { if (this._cacheCanvas && !e) { var t = this.cacheWidth / this.zoomX, n = this.cacheHeight / this.zoomY; this._cacheContext.clearRect(-t / 2, -n / 2, t, n) } return !0 } return !1 }, _renderBackground: function (e) { if (this.backgroundColor) { var t = this._getNonTransformedDimensions(); e.fillStyle = this.backgroundColor, e.fillRect(-t.x / 2, -t.y / 2, t.x, t.y), this._removeShadow(e) } }, _setOpacity: function (e) { this.group && !this.group._transformDone ? e.globalAlpha = this.getObjectOpacity() : e.globalAlpha *= this.opacity }, _setStrokeStyles: function (e, t) { t.stroke && (e.lineWidth = t.strokeWidth, e.lineCap = t.strokeLineCap, e.lineDashOffset = t.strokeDashOffset, e.lineJoin = t.strokeLineJoin, e.miterLimit = t.strokeMiterLimit, e.strokeStyle = t.stroke.toLive ? t.stroke.toLive(e, this) : t.stroke) }, _setFillStyles: function (e, t) { t.fill && (e.fillStyle = t.fill.toLive ? t.fill.toLive(e, this) : t.fill) }, _setClippingProperties: function (e) { e.globalAlpha = 1, e.strokeStyle = "transparent", e.fillStyle = "#000000" }, _setLineDash: function (e, t, n) { t && 0 !== t.length && (1 & t.length && t.push.apply(t, t), s ? e.setLineDash(t) : n && n(e)) }, _renderControls: function (e, n) { var r, i, o, s = this.getViewportTransform(), l = this.calcTransformMatrix(); i = "undefined" !== typeof (n = n || {}).hasBorders ? n.hasBorders : this.hasBorders, o = "undefined" !== typeof n.hasControls ? n.hasControls : this.hasControls, l = t.util.multiplyTransformMatrices(s, l), r = t.util.qrDecompose(l), e.save(), e.translate(r.translateX, r.translateY), e.lineWidth = 1 * this.borderScaleFactor, this.group || (e.globalAlpha = this.isMoving ? this.borderOpacityWhenMoving : 1), n.forActiveSelection ? (e.rotate(a(r.angle)), i && this.drawBordersInGroup(e, r, n)) : (e.rotate(a(this.angle)), i && this.drawBorders(e, n)), o && this.drawControls(e, n), e.restore() }, _setShadow: function (e) { if (this.shadow) { var n, r = this.shadow, i = this.canvas, o = i && i.viewportTransform[0] || 1, a = i && i.viewportTransform[3] || 1; n = r.nonScaling ? { scaleX: 1, scaleY: 1 } : this.getObjectScaling(), i && i._isRetinaScaling() && (o *= t.devicePixelRatio, a *= t.devicePixelRatio), e.shadowColor = r.color, e.shadowBlur = r.blur * t.browserShadowBlurConstant * (o + a) * (n.scaleX + n.scaleY) / 4, e.shadowOffsetX = r.offsetX * o * n.scaleX, e.shadowOffsetY = r.offsetY * a * n.scaleY } }, _removeShadow: function (e) { this.shadow && (e.shadowColor = "", e.shadowBlur = e.shadowOffsetX = e.shadowOffsetY = 0) }, _applyPatternGradientTransform: function (e, t) { if (!t || !t.toLive) return { offsetX: 0, offsetY: 0 }; var n = t.gradientTransform || t.patternTransform, r = -this.width / 2 + t.offsetX || 0, i = -this.height / 2 + t.offsetY || 0; return "percentage" === t.gradientUnits ? e.transform(this.width, 0, 0, this.height, r, i) : e.transform(1, 0, 0, 1, r, i), n && e.transform(n[0], n[1], n[2], n[3], n[4], n[5]), { offsetX: r, offsetY: i } }, _renderPaintInOrder: function (e) { "stroke" === this.paintFirst ? (this._renderStroke(e), this._renderFill(e)) : (this._renderFill(e), this._renderStroke(e)) }, _render: function () { }, _renderFill: function (e) { this.fill && (e.save(), this._applyPatternGradientTransform(e, this.fill), "evenodd" === this.fillRule ? e.fill("evenodd") : e.fill(), e.restore()) }, _renderStroke: function (e) { if (this.stroke && 0 !== this.strokeWidth) { if (this.shadow && !this.shadow.affectStroke && this._removeShadow(e), e.save(), this.strokeUniform && this.group) { var t = this.getObjectScaling(); e.scale(1 / t.scaleX, 1 / t.scaleY) } else this.strokeUniform && e.scale(1 / this.scaleX, 1 / this.scaleY); this._setLineDash(e, this.strokeDashArray, this._renderDashedStroke), this.stroke.toLive && "percentage" === this.stroke.gradientUnits ? this._applyPatternForTransformedGradient(e, this.stroke) : this._applyPatternGradientTransform(e, this.stroke), e.stroke(), e.restore() } }, _applyPatternForTransformedGradient: function (e, n) { var r, i = this._limitCacheSize(this._getCacheCanvasDimensions()), o = t.util.createCanvasElement(), a = this.canvas.getRetinaScaling(), s = i.x / this.scaleX / a, l = i.y / this.scaleY / a; o.width = s, o.height = l, (r = o.getContext("2d")).beginPath(), r.moveTo(0, 0), r.lineTo(s, 0), r.lineTo(s, l), r.lineTo(0, l), r.closePath(), r.translate(s / 2, l / 2), r.scale(i.zoomX / this.scaleX / a, i.zoomY / this.scaleY / a), this._applyPatternGradientTransform(r, n), r.fillStyle = n.toLive(e), r.fill(), e.translate(-this.width / 2 - this.strokeWidth / 2, -this.height / 2 - this.strokeWidth / 2), e.scale(a * this.scaleX / i.zoomX, a * this.scaleY / i.zoomY), e.strokeStyle = r.createPattern(o, "no-repeat") }, _findCenterFromElement: function () { return { x: this.left + this.width / 2, y: this.top + this.height / 2 } }, _assignTransformMatrixProps: function () { if (this.transformMatrix) { var e = t.util.qrDecompose(this.transformMatrix); this.flipX = !1, this.flipY = !1, this.set("scaleX", e.scaleX), this.set("scaleY", e.scaleY), this.angle = e.angle, this.skewX = e.skewX, this.skewY = 0 } }, _removeTransformMatrix: function (e) { var n = this._findCenterFromElement(); this.transformMatrix && (this._assignTransformMatrixProps(), n = t.util.transformPoint(n, this.transformMatrix)), this.transformMatrix = null, e && (this.scaleX *= e.scaleX, this.scaleY *= e.scaleY, this.cropX = e.cropX, this.cropY = e.cropY, n.x += e.offsetLeft, n.y += e.offsetTop, this.width = e.width, this.height = e.height), this.setPositionByOrigin(n, "center", "center") }, clone: function (e, n) { var r = this.toObject(n); this.constructor.fromObject ? this.constructor.fromObject(r, e) : t.Object._fromObject("Object", r, e) }, cloneAsImage: function (e, n) { var r = this.toCanvasElement(n); return e && e(new t.Image(r)), this }, toCanvasElement: function (e) { e || (e = {}); var n = t.util, r = n.saveObjectTransform(this), i = this.group, o = this.shadow, a = Math.abs, s = (e.multiplier || 1) * (e.enableRetinaScaling ? t.devicePixelRatio : 1); delete this.group, e.withoutTransform && n.resetObjectTransform(this), e.withoutShadow && (this.shadow = null); var l, c, u, h, f = t.util.createCanvasElement(), d = this.getBoundingRect(!0, !0), p = this.shadow, g = { x: 0, y: 0 }; p && (c = p.blur, l = p.nonScaling ? { scaleX: 1, scaleY: 1 } : this.getObjectScaling(), g.x = 2 * Math.round(a(p.offsetX) + c) * a(l.scaleX), g.y = 2 * Math.round(a(p.offsetY) + c) * a(l.scaleY)), u = d.width + g.x, h = d.height + g.y, f.width = Math.ceil(u), f.height = Math.ceil(h); var v = new t.StaticCanvas(f, { enableRetinaScaling: !1, renderOnAddRemove: !1, skipOffscreen: !1 }); "jpeg" === e.format && (v.backgroundColor = "#fff"), this.setPositionByOrigin(new t.Point(v.width / 2, v.height / 2), "center", "center"); var m = this.canvas; v.add(this); var b = v.toCanvasElement(s || 1, e); return this.shadow = o, this.set("canvas", m), i && (this.group = i), this.set(r).setCoords(), v._objects = [], v.dispose(), v = null, b }, toDataURL: function (e) { return e || (e = {}), t.util.toDataURL(this.toCanvasElement(e), e.format || "png", e.quality || 1) }, isType: function (e) { return this.type === e }, complexity: function () { return 1 }, toJSON: function (e) { return this.toObject(e) }, setGradient: function (e, n) { n || (n = {}); var r = { colorStops: [] }; return r.type = n.type || (n.r1 || n.r2 ? "radial" : "linear"), r.coords = { x1: n.x1, y1: n.y1, x2: n.x2, y2: n.y2 }, r.gradientUnits = n.gradientUnits || "pixels", (n.r1 || n.r2) && (r.coords.r1 = n.r1, r.coords.r2 = n.r2), r.gradientTransform = n.gradientTransform, t.Gradient.prototype.addColorStop.call(r, n.colorStops), this.set(e, t.Gradient.forObject(this, r)) }, setPatternFill: function (e, n) { return this.set("fill", new t.Pattern(e, n)) }, setShadow: function (e) { return this.set("shadow", e ? new t.Shadow(e) : null) }, setColor: function (e) { return this.set("fill", e), this }, rotate: function (e) { var t = ("center" !== this.originX || "center" !== this.originY) && this.centeredRotation; return t && this._setOriginToCenter(), this.set("angle", e), t && this._resetOrigin(), this }, centerH: function () { return this.canvas && this.canvas.centerObjectH(this), this }, viewportCenterH: function () { return this.canvas && this.canvas.viewportCenterObjectH(this), this }, centerV: function () { return this.canvas && this.canvas.centerObjectV(this), this }, viewportCenterV: function () { return this.canvas && this.canvas.viewportCenterObjectV(this), this }, center: function () { return this.canvas && this.canvas.centerObject(this), this }, viewportCenter: function () { return this.canvas && this.canvas.viewportCenterObject(this), this }, getLocalPointer: function (e, n) { n = n || this.canvas.getPointer(e); var r = new t.Point(n.x, n.y), i = this._getLeftTopCoords(); return this.angle && (r = t.util.rotatePoint(r, i, a(-this.angle))), { x: r.x - i.x, y: r.y - i.y } }, _setupCompositeOperation: function (e) { this.globalCompositeOperation && (e.globalCompositeOperation = this.globalCompositeOperation) } }), t.util.createAccessors && t.util.createAccessors(t.Object), n(t.Object.prototype, t.Observable), t.Object.NUM_FRACTION_DIGITS = 2, t.Object._fromObject = function (e, n, i, o) { var a = t[e]; n = r(n, !0), t.util.enlivenPatterns([n.fill, n.stroke], (function (e) { "undefined" !== typeof e[0] && (n.fill = e[0]), "undefined" !== typeof e[1] && (n.stroke = e[1]), t.util.enlivenObjects([n.clipPath], (function (e) { n.clipPath = e[0]; var t = o ? new a(n[o], n) : new a(n); i && i(t) })) })) }, t.Object.__uid = 0) }(t), function () { var e = i.util.degreesToRadians, t = { left: -.5, center: 0, right: .5 }, n = { top: -.5, center: 0, bottom: .5 }; i.util.object.extend(i.Object.prototype, { translateToGivenOrigin: function (e, r, o, a, s) { var l, c, u, h = e.x, f = e.y; return "string" === typeof r ? r = t[r] : r -= .5, "string" === typeof a ? a = t[a] : a -= .5, "string" === typeof o ? o = n[o] : o -= .5, "string" === typeof s ? s = n[s] : s -= .5, c = s - o, ((l = a - r) || c) && (u = this._getTransformedDimensions(), h = e.x + l * u.x, f = e.y + c * u.y), new i.Point(h, f) }, translateToCenterPoint: function (t, n, r) { var o = this.translateToGivenOrigin(t, n, r, "center", "center"); return this.angle ? i.util.rotatePoint(o, t, e(this.angle)) : o }, translateToOriginPoint: function (t, n, r) { var o = this.translateToGivenOrigin(t, "center", "center", n, r); return this.angle ? i.util.rotatePoint(o, t, e(this.angle)) : o }, getCenterPoint: function () { var e = new i.Point(this.left, this.top); return this.translateToCenterPoint(e, this.originX, this.originY) }, getPointByOrigin: function (e, t) { var n = this.getCenterPoint(); return this.translateToOriginPoint(n, e, t) }, toLocalPoint: function (t, n, r) { var o, a, s = this.getCenterPoint(); return o = "undefined" !== typeof n && "undefined" !== typeof r ? this.translateToGivenOrigin(s, "center", "center", n, r) : new i.Point(this.left, this.top), a = new i.Point(t.x, t.y), this.angle && (a = i.util.rotatePoint(a, s, -e(this.angle))), a.subtractEquals(o) }, setPositionByOrigin: function (e, t, n) { var r = this.translateToCenterPoint(e, t, n), i = this.translateToOriginPoint(r, this.originX, this.originY); this.set("left", i.x), this.set("top", i.y) }, adjustPosition: function (n) { var r, o, a = e(this.angle), s = this.getScaledWidth(), l = i.util.cos(a) * s, c = i.util.sin(a) * s; r = "string" === typeof this.originX ? t[this.originX] : this.originX - .5, o = "string" === typeof n ? t[n] : n - .5, this.left += l * (o - r), this.top += c * (o - r), this.setCoords(), this.originX = n }, _setOriginToCenter: function () { this._originalOriginX = this.originX, this._originalOriginY = this.originY; var e = this.getCenterPoint(); this.originX = "center", this.originY = "center", this.left = e.x, this.top = e.y }, _resetOrigin: function () { var e = this.translateToOriginPoint(this.getCenterPoint(), this._originalOriginX, this._originalOriginY); this.originX = this._originalOriginX, this.originY = this._originalOriginY, this.left = e.x, this.top = e.y, this._originalOriginX = null, this._originalOriginY = null }, _getLeftTopCoords: function () { return this.translateToOriginPoint(this.getCenterPoint(), "left", "top") } }) }(), function () { var e = i.util.degreesToRadians, t = i.util.multiplyTransformMatrices, n = i.util.transformPoint; i.util.object.extend(i.Object.prototype, { oCoords: null, aCoords: null, ownMatrixCache: null, matrixCache: null, getCoords: function (e, t) { this.oCoords || this.setCoords(); var n = e ? this.aCoords : this.oCoords; return function (e) { return [new i.Point(e.tl.x, e.tl.y), new i.Point(e.tr.x, e.tr.y), new i.Point(e.br.x, e.br.y), new i.Point(e.bl.x, e.bl.y)] }(t ? this.calcCoords(e) : n) }, intersectsWithRect: function (e, t, n, r) { var o = this.getCoords(n, r); return "Intersection" === i.Intersection.intersectPolygonRectangle(o, e, t).status }, intersectsWithObject: function (e, t, n) { return "Intersection" === i.Intersection.intersectPolygonPolygon(this.getCoords(t, n), e.getCoords(t, n)).status || e.isContainedWithinObject(this, t, n) || this.isContainedWithinObject(e, t, n) }, isContainedWithinObject: function (e, t, n) { for (var r = this.getCoords(t, n), i = 0, o = e._getImageLines(n ? e.calcCoords(t) : t ? e.aCoords : e.oCoords); i < 4; i++)if (!e.containsPoint(r[i], o)) return !1; return !0 }, isContainedWithinRect: function (e, t, n, r) { var i = this.getBoundingRect(n, r); return i.left >= e.x && i.left + i.width <= t.x && i.top >= e.y && i.top + i.height <= t.y }, containsPoint: function (e, t, n, r) { t = t || this._getImageLines(r ? this.calcCoords(n) : n ? this.aCoords : this.oCoords); var i = this._findCrossPoints(e, t); return 0 !== i && i % 2 === 1 }, isOnScreen: function (e) { if (!this.canvas) return !1; for (var t, n = this.canvas.vptCoords.tl, r = this.canvas.vptCoords.br, i = this.getCoords(!0, e), o = 0; o < 4; o++)if ((t = i[o]).x <= r.x && t.x >= n.x && t.y <= r.y && t.y >= n.y) return !0; return !!this.intersectsWithRect(n, r, !0, e) || this._containsCenterOfCanvas(n, r, e) }, _containsCenterOfCanvas: function (e, t, n) { var r = { x: (e.x + t.x) / 2, y: (e.y + t.y) / 2 }; return !!this.containsPoint(r, null, !0, n) }, isPartiallyOnScreen: function (e) { if (!this.canvas) return !1; var t = this.canvas.vptCoords.tl, n = this.canvas.vptCoords.br; return !!this.intersectsWithRect(t, n, !0, e) || this._containsCenterOfCanvas(t, n, e) }, _getImageLines: function (e) { return { topline: { o: e.tl, d: e.tr }, rightline: { o: e.tr, d: e.br }, bottomline: { o: e.br, d: e.bl }, leftline: { o: e.bl, d: e.tl } } }, _findCrossPoints: function (e, t) { var n, r, i, o = 0; for (var a in t) if (!((i = t[a]).o.y < e.y && i.d.y < e.y) && !(i.o.y >= e.y && i.d.y >= e.y) && (i.o.x === i.d.x && i.o.x >= e.x ? r = i.o.x : (0, n = (i.d.y - i.o.y) / (i.d.x - i.o.x), r = -(e.y - 0 * e.x - (i.o.y - n * i.o.x)) / (0 - n)), r >= e.x && (o += 1), 2 === o)) break; return o }, getBoundingRect: function (e, t) { var n = this.getCoords(e, t); return i.util.makeBoundingBoxFromPoints(n) }, getScaledWidth: function () { return this._getTransformedDimensions().x }, getScaledHeight: function () { return this._getTransformedDimensions().y }, _constrainScale: function (e) { return Math.abs(e) < this.minScaleLimit ? e < 0 ? -this.minScaleLimit : this.minScaleLimit : 0 === e ? 1e-4 : e }, scale: function (e) { return this._set("scaleX", e), this._set("scaleY", e), this.setCoords() }, scaleToWidth: function (e, t) { var n = this.getBoundingRect(t).width / this.getScaledWidth(); return this.scale(e / this.width / n) }, scaleToHeight: function (e, t) { var n = this.getBoundingRect(t).height / this.getScaledHeight(); return this.scale(e / this.height / n) }, calcCoords: function (r) { var o = this._calcRotateMatrix(), a = this._calcTranslateMatrix(), s = t(a, o), l = this.getViewportTransform(), c = r ? s : t(l, s), u = this._getTransformedDimensions(), h = u.x / 2, f = u.y / 2, d = n({ x: -h, y: -f }, c), p = n({ x: h, y: -f }, c), g = n({ x: -h, y: f }, c), v = n({ x: h, y: f }, c); if (!r) { var m = this.padding, b = e(this.angle), y = i.util.cos(b), x = i.util.sin(b), w = y * m, _ = x * m, S = w + _, C = w - _; m && (d.x -= C, d.y -= S, p.x += S, p.y -= C, g.x -= S, g.y += C, v.x += C, v.y += S); var O = new i.Point((d.x + g.x) / 2, (d.y + g.y) / 2), k = new i.Point((p.x + d.x) / 2, (p.y + d.y) / 2), j = new i.Point((v.x + p.x) / 2, (v.y + p.y) / 2), E = new i.Point((v.x + g.x) / 2, (v.y + g.y) / 2), T = new i.Point(k.x + x * this.rotatingPointOffset, k.y - y * this.rotatingPointOffset) } var P = { tl: d, tr: p, br: v, bl: g }; return r || (P.ml = O, P.mt = k, P.mr = j, P.mb = E, P.mtr = T), P }, setCoords: function (e, t) { return this.oCoords = this.calcCoords(e), t || (this.aCoords = this.calcCoords(!0)), e || this._setCornerCoords && this._setCornerCoords(), this }, _calcRotateMatrix: function () { return i.util.calcRotateMatrix(this) }, _calcTranslateMatrix: function () { var e = this.getCenterPoint(); return [1, 0, 0, 1, e.x, e.y] }, transformMatrixKey: function (e) { var t = "_", n = ""; return !e && this.group && (n = this.group.transformMatrixKey(e) + t), n + this.top + t + this.left + t + this.scaleX + t + this.scaleY + t + this.skewX + t + this.skewY + t + this.angle + t + this.originX + t + this.originY + t + this.width + t + this.height + t + this.strokeWidth + this.flipX + this.flipY }, calcTransformMatrix: function (e) { if (e) return this.calcOwnMatrix(); var n = this.transformMatrixKey(), r = this.matrixCache || (this.matrixCache = {}); if (r.key === n) return r.value; var i = this.calcOwnMatrix(); return this.group && (i = t(this.group.calcTransformMatrix(), i)), r.key = n, r.value = i, i }, calcOwnMatrix: function () { var e = this.transformMatrixKey(!0), t = this.ownMatrixCache || (this.ownMatrixCache = {}); if (t.key === e) return t.value; var n = this._calcTranslateMatrix(); return this.translateX = n[4], this.translateY = n[5], t.key = e, t.value = i.util.composeMatrix(this), t.value }, _calcDimensionsTransformMatrix: function (e, t, n) { return i.util.calcDimensionsMatrix({ skewX: e, skewY: t, scaleX: this.scaleX * (n && this.flipX ? -1 : 1), scaleY: this.scaleY * (n && this.flipY ? -1 : 1) }) }, _getNonTransformedDimensions: function () { var e = this.strokeWidth; return { x: this.width + e, y: this.height + e } }, _getTransformedDimensions: function (e, t) { "undefined" === typeof e && (e = this.skewX), "undefined" === typeof t && (t = this.skewY); var n, r, o = this._getNonTransformedDimensions(), a = 0 === e && 0 === t; if (this.strokeUniform ? (n = this.width, r = this.height) : (n = o.x, r = o.y), a) return this._finalizeDimensions(n * this.scaleX, r * this.scaleY); var s = [{ x: -(n /= 2), y: -(r /= 2) }, { x: n, y: -r }, { x: -n, y: r }, { x: n, y: r }], l = i.util.calcDimensionsMatrix({ scaleX: this.scaleX, scaleY: this.scaleY, skewX: e, skewY: t }), c = i.util.makeBoundingBoxFromPoints(s, l); return this._finalizeDimensions(c.width, c.height) }, _finalizeDimensions: function (e, t) { return this.strokeUniform ? { x: e + this.strokeWidth, y: t + this.strokeWidth } : { x: e, y: t } }, _calculateCurrentDimensions: function () { var e = this.getViewportTransform(), t = this._getTransformedDimensions(); return i.util.transformPoint(t, e, !0).scalarAdd(2 * this.padding) } }) }(), i.util.object.extend(i.Object.prototype, { sendToBack: function () { return this.group ? i.StaticCanvas.prototype.sendToBack.call(this.group, this) : this.canvas && this.canvas.sendToBack(this), this }, bringToFront: function () { return this.group ? i.StaticCanvas.prototype.bringToFront.call(this.group, this) : this.canvas && this.canvas.bringToFront(this), this }, sendBackwards: function (e) { return this.group ? i.StaticCanvas.prototype.sendBackwards.call(this.group, this, e) : this.canvas && this.canvas.sendBackwards(this, e), this }, bringForward: function (e) { return this.group ? i.StaticCanvas.prototype.bringForward.call(this.group, this, e) : this.canvas && this.canvas.bringForward(this, e), this }, moveTo: function (e) { return this.group && "activeSelection" !== this.group.type ? i.StaticCanvas.prototype.moveTo.call(this.group, this, e) : this.canvas && this.canvas.moveTo(this, e), this } }), function () { function e(e, t) { if (t) { if (t.toLive) return e + ": url(#SVGID_" + t.id + "); "; var n = new i.Color(t), r = e + ": " + n.toRgb() + "; ", o = n.getAlpha(); return 1 !== o && (r += e + "-opacity: " + o.toString() + "; "), r } return e + ": none; " } var t = i.util.toFixed; i.util.object.extend(i.Object.prototype, { getSvgStyles: function (t) { var n = this.fillRule ? this.fillRule : "nonzero", r = this.strokeWidth ? this.strokeWidth : "0", i = this.strokeDashArray ? this.strokeDashArray.join(" ") : "none", o = this.strokeDashOffset ? this.strokeDashOffset : "0", a = this.strokeLineCap ? this.strokeLineCap : "butt", s = this.strokeLineJoin ? this.strokeLineJoin : "miter", l = this.strokeMiterLimit ? this.strokeMiterLimit : "4", c = "undefined" !== typeof this.opacity ? this.opacity : "1", u = this.visible ? "" : " visibility: hidden;", h = t ? "" : this.getSvgFilter(), f = e("fill", this.fill); return [e("stroke", this.stroke), "stroke-width: ", r, "; ", "stroke-dasharray: ", i, "; ", "stroke-linecap: ", a, "; ", "stroke-dashoffset: ", o, "; ", "stroke-linejoin: ", s, "; ", "stroke-miterlimit: ", l, "; ", f, "fill-rule: ", n, "; ", "opacity: ", c, ";", h, u].join("") }, getSvgSpanStyles: function (t, n) { var r = "; ", i = t.fontFamily ? "font-family: " + (-1 === t.fontFamily.indexOf("'") && -1 === t.fontFamily.indexOf('"') ? "'" + t.fontFamily + "'" : t.fontFamily) + r : "", o = t.strokeWidth ? "stroke-width: " + t.strokeWidth + r : "", a = (i = i, t.fontSize ? "font-size: " + t.fontSize + "px" + r : ""), s = t.fontStyle ? "font-style: " + t.fontStyle + r : "", l = t.fontWeight ? "font-weight: " + t.fontWeight + r : "", c = t.fill ? e("fill", t.fill) : "", u = t.stroke ? e("stroke", t.stroke) : "", h = this.getSvgTextDecoration(t); return h && (h = "text-decoration: " + h + r), [u, o, i, a, s, l, h, c, t.deltaY ? "baseline-shift: " + -t.deltaY + "; " : "", n ? "white-space: pre; " : ""].join("") }, getSvgTextDecoration: function (e) { return ["overline", "underline", "line-through"].filter((function (t) { return e[t.replace("-", "")] })).join(" ") }, getSvgFilter: function () { return this.shadow ? "filter: url(#SVGID_" + this.shadow.id + ");" : "" }, getSvgCommons: function () { return [this.id ? 'id="' + this.id + '" ' : "", this.clipPath ? 'clip-path="url(#' + this.clipPath.clipPathId + ')" ' : ""].join("") }, getSvgTransform: function (e, t) { var n = e ? this.calcTransformMatrix() : this.calcOwnMatrix(); return 'transform="' + i.util.matrixToSVG(n) + (t || "") + this.getSvgTransformMatrix() + '" ' }, getSvgTransformMatrix: function () { return this.transformMatrix ? " " + i.util.matrixToSVG(this.transformMatrix) : "" }, _setSVGBg: function (e) { if (this.backgroundColor) { var n = i.Object.NUM_FRACTION_DIGITS; e.push("\t\t<rect ", this._getFillAttributes(this.backgroundColor), ' x="', t(-this.width / 2, n), '" y="', t(-this.height / 2, n), '" width="', t(this.width, n), '" height="', t(this.height, n), '"></rect>\n') } }, toSVG: function (e) { return this._createBaseSVGMarkup(this._toSVG(e), { reviver: e }) }, toClipPathSVG: function (e) { return "\t" + this._createBaseClipPathSVGMarkup(this._toSVG(e), { reviver: e }) }, _createBaseClipPathSVGMarkup: function (e, t) { var n = (t = t || {}).reviver, r = t.additionalTransform || "", i = [this.getSvgTransform(!0, r), this.getSvgCommons()].join(""), o = e.indexOf("COMMON_PARTS"); return e[o] = i, n ? n(e.join("")) : e.join("") }, _createBaseSVGMarkup: function (e, t) { var n, r, o = (t = t || {}).noStyle, a = t.reviver, s = o ? "" : 'style="' + this.getSvgStyles() + '" ', l = t.withShadow ? 'style="' + this.getSvgFilter() + '" ' : "", c = this.clipPath, u = this.strokeUniform ? 'vector-effect="non-scaling-stroke" ' : "", h = c && c.absolutePositioned, f = this.stroke, d = this.fill, p = this.shadow, g = [], v = e.indexOf("COMMON_PARTS"), m = t.additionalTransform; return c && (c.clipPathId = "CLIPPATH_" + i.Object.__uid++, r = '<clipPath id="' + c.clipPathId + '" >\n' + c.toClipPathSVG(a) + "</clipPath>\n"), h && g.push("<g ", l, this.getSvgCommons(), " >\n"), g.push("<g ", this.getSvgTransform(!1), h ? "" : l + this.getSvgCommons(), " >\n"), n = [s, u, o ? "" : this.addPaintOrder(), " ", m ? 'transform="' + m + '" ' : ""].join(""), e[v] = n, d && d.toLive && g.push(d.toSVG(this)), f && f.toLive && g.push(f.toSVG(this)), p && g.push(p.toSVG(this)), c && g.push(r), g.push(e.join("")), g.push("</g>\n"), h && g.push("</g>\n"), a ? a(g.join("")) : g.join("") }, addPaintOrder: function () { return "fill" !== this.paintFirst ? ' paint-order="' + this.paintFirst + '" ' : "" } }) }(), function () { var e = i.util.object.extend, t = "stateProperties"; function n(t, n, r) { var i = {}; r.forEach((function (e) { i[e] = t[e] })), e(t[n], i, !0) } function r(e, t, n) { if (e === t) return !0; if (Array.isArray(e)) { if (!Array.isArray(t) || e.length !== t.length) return !1; for (var i = 0, o = e.length; i < o; i++)if (!r(e[i], t[i])) return !1; return !0 } if (e && "object" === typeof e) { var a, s = Object.keys(e); if (!t || "object" !== typeof t || !n && s.length !== Object.keys(t).length) return !1; for (i = 0, o = s.length; i < o; i++)if ("canvas" !== (a = s[i]) && !r(e[a], t[a])) return !1; return !0 } } i.util.object.extend(i.Object.prototype, { hasStateChanged: function (e) { var n = "_" + (e = e || t); return Object.keys(this[n]).length < this[e].length || !r(this[n], this, !0) }, saveState: function (e) { var r = e && e.propertySet || t, i = "_" + r; return this[i] ? (n(this, i, this[r]), e && e.stateProperties && n(this, i, e.stateProperties), this) : this.setupState(e) }, setupState: function (e) { var n = (e = e || {}).propertySet || t; return e.propertySet = n, this["_" + n] = {}, this.saveState(e), this } }) }(), function () { var e = i.util.degreesToRadians; i.util.object.extend(i.Object.prototype, { _controlsVisibility: null, _findTargetCorner: function (e) { if (!this.hasControls || this.group || !this.canvas || this.canvas._activeObject !== this) return !1; var t, n, r = e.x, i = e.y; for (var o in this.__corner = 0, this.oCoords) if (this.isControlVisible(o) && ("mtr" !== o || this.hasRotatingPoint) && (!this.get("lockUniScaling") || "mt" !== o && "mr" !== o && "mb" !== o && "ml" !== o) && (n = this._getImageLines(this.oCoords[o].corner), 0 !== (t = this._findCrossPoints({ x: r, y: i }, n)) && t % 2 === 1)) return this.__corner = o, o; return !1 }, _setCornerCoords: function () { var t, n, r = this.oCoords, o = e(45 - this.angle), a = .707106 * this.cornerSize, s = a * i.util.cos(o), l = a * i.util.sin(o); for (var c in r) t = r[c].x, n = r[c].y, r[c].corner = { tl: { x: t - l, y: n - s }, tr: { x: t + s, y: n - l }, bl: { x: t - s, y: n + l }, br: { x: t + l, y: n + s } } }, drawSelectionBackground: function (t) { if (!this.selectionBackgroundColor || this.canvas && !this.canvas.interactive || this.canvas && this.canvas._activeObject !== this) return this; t.save(); var n = this.getCenterPoint(), r = this._calculateCurrentDimensions(), i = this.canvas.viewportTransform; return t.translate(n.x, n.y), t.scale(1 / i[0], 1 / i[3]), t.rotate(e(this.angle)), t.fillStyle = this.selectionBackgroundColor, t.fillRect(-r.x / 2, -r.y / 2, r.x, r.y), t.restore(), this }, drawBorders: function (e, t) { t = t || {}; var n = this._calculateCurrentDimensions(), r = this.borderScaleFactor, i = n.x + r, o = n.y + r, a = "undefined" !== typeof t.hasRotatingPoint ? t.hasRotatingPoint : this.hasRotatingPoint, s = "undefined" !== typeof t.hasControls ? t.hasControls : this.hasControls, l = "undefined" !== typeof t.rotatingPointOffset ? t.rotatingPointOffset : this.rotatingPointOffset; if (e.save(), e.strokeStyle = t.borderColor || this.borderColor, this._setLineDash(e, t.borderDashArray || this.borderDashArray, null), e.strokeRect(-i / 2, -o / 2, i, o), a && this.isControlVisible("mtr") && s) { var c = -o / 2; e.beginPath(), e.moveTo(0, c), e.lineTo(0, c - l), e.stroke() } return e.restore(), this }, drawBordersInGroup: function (e, t, n) { n = n || {}; var r = { x: this.width, y: this.height }, o = i.util.composeMatrix({ scaleX: t.scaleX, scaleY: t.scaleY, skewX: t.skewX }), a = i.util.transformPoint(r, o), s = this.strokeWidth, l = this.borderScaleFactor, c = a.x + s * (this.strokeUniform ? this.canvas.getZoom() : t.scaleX) + l, u = a.y + s * (this.strokeUniform ? this.canvas.getZoom() : t.scaleY) + l; return e.save(), this._setLineDash(e, n.borderDashArray || this.borderDashArray, null), e.strokeStyle = n.borderColor || this.borderColor, e.strokeRect(-c / 2, -u / 2, c, u), e.restore(), this }, drawControls: function (e, t) { t = t || {}; var n = this._calculateCurrentDimensions(), r = n.x, i = n.y, o = t.cornerSize || this.cornerSize, a = -(r + o) / 2, s = -(i + o) / 2, l = "undefined" !== typeof t.transparentCorners ? t.transparentCorners : this.transparentCorners, c = "undefined" !== typeof t.hasRotatingPoint ? t.hasRotatingPoint : this.hasRotatingPoint, u = l ? "stroke" : "fill"; return e.save(), e.strokeStyle = e.fillStyle = t.cornerColor || this.cornerColor, this.transparentCorners || (e.strokeStyle = t.cornerStrokeColor || this.cornerStrokeColor), this._setLineDash(e, t.cornerDashArray || this.cornerDashArray, null), this._drawControl("tl", e, u, a, s, t), this._drawControl("tr", e, u, a + r, s, t), this._drawControl("bl", e, u, a, s + i, t), this._drawControl("br", e, u, a + r, s + i, t), this.get("lockUniScaling") || (this._drawControl("mt", e, u, a + r / 2, s, t), this._drawControl("mb", e, u, a + r / 2, s + i, t), this._drawControl("mr", e, u, a + r, s + i / 2, t), this._drawControl("ml", e, u, a, s + i / 2, t)), c && this._drawControl("mtr", e, u, a + r / 2, s - this.rotatingPointOffset, t), e.restore(), this }, _drawControl: function (e, t, n, r, i, o) { if (o = o || {}, this.isControlVisible(e)) { var a = this.cornerSize, s = !this.transparentCorners && this.cornerStrokeColor; if ("circle" === (o.cornerStyle || this.cornerStyle)) t.beginPath(), t.arc(r + a / 2, i + a / 2, a / 2, 0, 2 * Math.PI, !1), t[n](), s && t.stroke(); else this.transparentCorners || t.clearRect(r, i, a, a), t[n + "Rect"](r, i, a, a), s && t.strokeRect(r, i, a, a) } }, isControlVisible: function (e) { return this._getControlsVisibility()[e] }, setControlVisible: function (e, t) { return this._getControlsVisibility()[e] = t, this }, setControlsVisibility: function (e) { for (var t in e || (e = {}), e) this.setControlVisible(t, e[t]); return this }, _getControlsVisibility: function () { return this._controlsVisibility || (this._controlsVisibility = { tl: !0, tr: !0, br: !0, bl: !0, ml: !0, mt: !0, mr: !0, mb: !0, mtr: !0 }), this._controlsVisibility }, onDeselect: function () { }, onSelect: function () { } }) }(), i.util.object.extend(i.StaticCanvas.prototype, { FX_DURATION: 500, fxCenterObjectH: function (e, t) { var n = function () { }, r = (t = t || {}).onComplete || n, o = t.onChange || n, a = this; return i.util.animate({ startValue: e.left, endValue: this.getCenter().left, duration: this.FX_DURATION, onChange: function (t) { e.set("left", t), a.requestRenderAll(), o() }, onComplete: function () { e.setCoords(), r() } }), this }, fxCenterObjectV: function (e, t) { var n = function () { }, r = (t = t || {}).onComplete || n, o = t.onChange || n, a = this; return i.util.animate({ startValue: e.top, endValue: this.getCenter().top, duration: this.FX_DURATION, onChange: function (t) { e.set("top", t), a.requestRenderAll(), o() }, onComplete: function () { e.setCoords(), r() } }), this }, fxRemove: function (e, t) { var n = function () { }, r = (t = t || {}).onComplete || n, o = t.onChange || n, a = this; return i.util.animate({ startValue: e.opacity, endValue: 0, duration: this.FX_DURATION, onChange: function (t) { e.set("opacity", t), a.requestRenderAll(), o() }, onComplete: function () { a.remove(e), r() } }), this } }), i.util.object.extend(i.Object.prototype, { animate: function () { if (arguments[0] && "object" === typeof arguments[0]) { var e, t, n = []; for (e in arguments[0]) n.push(e); for (var r = 0, i = n.length; r < i; r++)e = n[r], t = r !== i - 1, this._animate(e, arguments[0][e], arguments[1], t) } else this._animate.apply(this, arguments); return this }, _animate: function (e, t, n, r) { var o, a = this; t = t.toString(), n = n ? i.util.object.clone(n) : {}, ~e.indexOf(".") && (o = e.split(".")); var s = o ? this.get(o[0])[o[1]] : this.get(e); "from" in n || (n.from = s), t = ~t.indexOf("=") ? s + parseFloat(t.replace("=", "")) : parseFloat(t), i.util.animate({ startValue: n.from, endValue: t, byValue: n.by, easing: n.easing, duration: n.duration, abort: n.abort && function () { return n.abort.call(a) }, onChange: function (t, i, s) { o ? a[o[0]][o[1]] = t : a.set(e, t), r || n.onChange && n.onChange(t, i, s) }, onComplete: function (e, t, i) { r || (a.setCoords(), n.onComplete && n.onComplete(e, t, i)) } }) } }), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}), n = t.util.object.extend, r = t.util.object.clone, i = { x1: 1, x2: 1, y1: 1, y2: 1 }, o = t.StaticCanvas.supports("setLineDash"); function a(e, t) { var n = e.origin, r = e.axis1, i = e.axis2, o = e.dimension, a = t.nearest, s = t.center, l = t.farthest; return function () { switch (this.get(n)) { case a: return Math.min(this.get(r), this.get(i)); case s: return Math.min(this.get(r), this.get(i)) + .5 * this.get(o); case l: return Math.max(this.get(r), this.get(i)) } } } t.Line ? t.warn("fabric.Line is already defined") : (t.Line = t.util.createClass(t.Object, { type: "line", x1: 0, y1: 0, x2: 0, y2: 0, cacheProperties: t.Object.prototype.cacheProperties.concat("x1", "x2", "y1", "y2"), initialize: function (e, t) { e || (e = [0, 0, 0, 0]), this.callSuper("initialize", t), this.set("x1", e[0]), this.set("y1", e[1]), this.set("x2", e[2]), this.set("y2", e[3]), this._setWidthHeight(t) }, _setWidthHeight: function (e) { e || (e = {}), this.width = Math.abs(this.x2 - this.x1), this.height = Math.abs(this.y2 - this.y1), this.left = "left" in e ? e.left : this._getLeftToOriginX(), this.top = "top" in e ? e.top : this._getTopToOriginY() }, _set: function (e, t) { return this.callSuper("_set", e, t), "undefined" !== typeof i[e] && this._setWidthHeight(), this }, _getLeftToOriginX: a({ origin: "originX", axis1: "x1", axis2: "x2", dimension: "width" }, { nearest: "left", center: "center", farthest: "right" }), _getTopToOriginY: a({ origin: "originY", axis1: "y1", axis2: "y2", dimension: "height" }, { nearest: "top", center: "center", farthest: "bottom" }), _render: function (e) { if (e.beginPath(), !this.strokeDashArray || this.strokeDashArray && o) { var t = this.calcLinePoints(); e.moveTo(t.x1, t.y1), e.lineTo(t.x2, t.y2) } e.lineWidth = this.strokeWidth; var n = e.strokeStyle; e.strokeStyle = this.stroke || e.fillStyle, this.stroke && this._renderStroke(e), e.strokeStyle = n }, _renderDashedStroke: function (e) { var n = this.calcLinePoints(); e.beginPath(), t.util.drawDashedLine(e, n.x1, n.y1, n.x2, n.y2, this.strokeDashArray), e.closePath() }, _findCenterFromElement: function () { return { x: (this.x1 + this.x2) / 2, y: (this.y1 + this.y2) / 2 } }, toObject: function (e) { return n(this.callSuper("toObject", e), this.calcLinePoints()) }, _getNonTransformedDimensions: function () { var e = this.callSuper("_getNonTransformedDimensions"); return "butt" === this.strokeLineCap && (0 === this.width && (e.y -= this.strokeWidth), 0 === this.height && (e.x -= this.strokeWidth)), e }, calcLinePoints: function () { var e = this.x1 <= this.x2 ? -1 : 1, t = this.y1 <= this.y2 ? -1 : 1, n = e * this.width * .5, r = t * this.height * .5; return { x1: n, x2: e * this.width * -.5, y1: r, y2: t * this.height * -.5 } }, _toSVG: function () { var e = this.calcLinePoints(); return ["<line ", "COMMON_PARTS", 'x1="', e.x1, '" y1="', e.y1, '" x2="', e.x2, '" y2="', e.y2, '" />\n'] } }), t.Line.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")), t.Line.fromElement = function (e, r, i) { i = i || {}; var o = t.parseAttributes(e, t.Line.ATTRIBUTE_NAMES), a = [o.x1 || 0, o.y1 || 0, o.x2 || 0, o.y2 || 0]; r(new t.Line(a, n(o, i))) }, t.Line.fromObject = function (e, n) { var i = r(e, !0); i.points = [e.x1, e.y1, e.x2, e.y2], t.Object._fromObject("Line", i, (function (e) { delete e.points, n && n(e) }), "points") }) }(t), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}), n = Math.PI; t.Circle ? t.warn("fabric.Circle is already defined.") : (t.Circle = t.util.createClass(t.Object, { type: "circle", radius: 0, startAngle: 0, endAngle: 2 * n, cacheProperties: t.Object.prototype.cacheProperties.concat("radius", "startAngle", "endAngle"), _set: function (e, t) { return this.callSuper("_set", e, t), "radius" === e && this.setRadius(t), this }, toObject: function (e) { return this.callSuper("toObject", ["radius", "startAngle", "endAngle"].concat(e)) }, _toSVG: function () { var e, r = (this.endAngle - this.startAngle) % (2 * n); if (0 === r) e = ["<circle ", "COMMON_PARTS", 'cx="0" cy="0" ', 'r="', this.radius, '" />\n']; else { var i = t.util.cos(this.startAngle) * this.radius, o = t.util.sin(this.startAngle) * this.radius, a = t.util.cos(this.endAngle) * this.radius, s = t.util.sin(this.endAngle) * this.radius, l = r > n ? "1" : "0"; e = ['<path d="M ' + i + " " + o, " A " + this.radius + " " + this.radius, " 0 ", +l + " 1", " " + a + " " + s, '" ', "COMMON_PARTS", " />\n"] } return e }, _render: function (e) { e.beginPath(), e.arc(0, 0, this.radius, this.startAngle, this.endAngle, !1), this._renderPaintInOrder(e) }, getRadiusX: function () { return this.get("radius") * this.get("scaleX") }, getRadiusY: function () { return this.get("radius") * this.get("scaleY") }, setRadius: function (e) { return this.radius = e, this.set("width", 2 * e).set("height", 2 * e) } }), t.Circle.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")), t.Circle.fromElement = function (e, n) { var r, i = t.parseAttributes(e, t.Circle.ATTRIBUTE_NAMES); if (!("radius" in (r = i) && r.radius >= 0)) throw new Error("value of `r` attribute is required and can not be negative"); i.left = (i.left || 0) - i.radius, i.top = (i.top || 0) - i.radius, n(new t.Circle(i)) }, t.Circle.fromObject = function (e, n) { return t.Object._fromObject("Circle", e, n) }) }(t), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}); t.Triangle ? t.warn("fabric.Triangle is already defined") : (t.Triangle = t.util.createClass(t.Object, { type: "triangle", width: 100, height: 100, _render: function (e) { var t = this.width / 2, n = this.height / 2; e.beginPath(), e.moveTo(-t, n), e.lineTo(0, -n), e.lineTo(t, n), e.closePath(), this._renderPaintInOrder(e) }, _renderDashedStroke: function (e) { var n = this.width / 2, r = this.height / 2; e.beginPath(), t.util.drawDashedLine(e, -n, r, 0, -r, this.strokeDashArray), t.util.drawDashedLine(e, 0, -r, n, r, this.strokeDashArray), t.util.drawDashedLine(e, n, r, -n, r, this.strokeDashArray), e.closePath() }, _toSVG: function () { var e = this.width / 2, t = this.height / 2; return ["<polygon ", "COMMON_PARTS", 'points="', [-e + " " + t, "0 " + -t, e + " " + t].join(","), '" />'] } }), t.Triangle.fromObject = function (e, n) { return t.Object._fromObject("Triangle", e, n) }) }(t), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}), n = 2 * Math.PI; t.Ellipse ? t.warn("fabric.Ellipse is already defined.") : (t.Ellipse = t.util.createClass(t.Object, { type: "ellipse", rx: 0, ry: 0, cacheProperties: t.Object.prototype.cacheProperties.concat("rx", "ry"), initialize: function (e) { this.callSuper("initialize", e), this.set("rx", e && e.rx || 0), this.set("ry", e && e.ry || 0) }, _set: function (e, t) { switch (this.callSuper("_set", e, t), e) { case "rx": this.rx = t, this.set("width", 2 * t); break; case "ry": this.ry = t, this.set("height", 2 * t) }return this }, getRx: function () { return this.get("rx") * this.get("scaleX") }, getRy: function () { return this.get("ry") * this.get("scaleY") }, toObject: function (e) { return this.callSuper("toObject", ["rx", "ry"].concat(e)) }, _toSVG: function () { return ["<ellipse ", "COMMON_PARTS", 'cx="0" cy="0" ', 'rx="', this.rx, '" ry="', this.ry, '" />\n'] }, _render: function (e) { e.beginPath(), e.save(), e.transform(1, 0, 0, this.ry / this.rx, 0, 0), e.arc(0, 0, this.rx, 0, n, !1), e.restore(), this._renderPaintInOrder(e) } }), t.Ellipse.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")), t.Ellipse.fromElement = function (e, n) { var r = t.parseAttributes(e, t.Ellipse.ATTRIBUTE_NAMES); r.left = (r.left || 0) - r.rx, r.top = (r.top || 0) - r.ry, n(new t.Ellipse(r)) }, t.Ellipse.fromObject = function (e, n) { return t.Object._fromObject("Ellipse", e, n) }) }(t), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}), n = t.util.object.extend; t.Rect ? t.warn("fabric.Rect is already defined") : (t.Rect = t.util.createClass(t.Object, { stateProperties: t.Object.prototype.stateProperties.concat("rx", "ry"), type: "rect", rx: 0, ry: 0, cacheProperties: t.Object.prototype.cacheProperties.concat("rx", "ry"), initialize: function (e) { this.callSuper("initialize", e), this._initRxRy() }, _initRxRy: function () { this.rx && !this.ry ? this.ry = this.rx : this.ry && !this.rx && (this.rx = this.ry) }, _render: function (e) { var t = this.rx ? Math.min(this.rx, this.width / 2) : 0, n = this.ry ? Math.min(this.ry, this.height / 2) : 0, r = this.width, i = this.height, o = -this.width / 2, a = -this.height / 2, s = 0 !== t || 0 !== n, l = .4477152502; e.beginPath(), e.moveTo(o + t, a), e.lineTo(o + r - t, a), s && e.bezierCurveTo(o + r - l * t, a, o + r, a + l * n, o + r, a + n), e.lineTo(o + r, a + i - n), s && e.bezierCurveTo(o + r, a + i - l * n, o + r - l * t, a + i, o + r - t, a + i), e.lineTo(o + t, a + i), s && e.bezierCurveTo(o + l * t, a + i, o, a + i - l * n, o, a + i - n), e.lineTo(o, a + n), s && e.bezierCurveTo(o, a + l * n, o + l * t, a, o + t, a), e.closePath(), this._renderPaintInOrder(e) }, _renderDashedStroke: function (e) { var n = -this.width / 2, r = -this.height / 2, i = this.width, o = this.height; e.beginPath(), t.util.drawDashedLine(e, n, r, n + i, r, this.strokeDashArray), t.util.drawDashedLine(e, n + i, r, n + i, r + o, this.strokeDashArray), t.util.drawDashedLine(e, n + i, r + o, n, r + o, this.strokeDashArray), t.util.drawDashedLine(e, n, r + o, n, r, this.strokeDashArray), e.closePath() }, toObject: function (e) { return this.callSuper("toObject", ["rx", "ry"].concat(e)) }, _toSVG: function () { return ["<rect ", "COMMON_PARTS", 'x="', -this.width / 2, '" y="', -this.height / 2, '" rx="', this.rx, '" ry="', this.ry, '" width="', this.width, '" height="', this.height, '" />\n'] } }), t.Rect.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")), t.Rect.fromElement = function (e, r, i) { if (!e) return r(null); i = i || {}; var o = t.parseAttributes(e, t.Rect.ATTRIBUTE_NAMES); o.left = o.left || 0, o.top = o.top || 0, o.height = o.height || 0, o.width = o.width || 0; var a = new t.Rect(n(i ? t.util.object.clone(i) : {}, o)); a.visible = a.visible && a.width > 0 && a.height > 0, r(a) }, t.Rect.fromObject = function (e, n) { return t.Object._fromObject("Rect", e, n) }) }(t), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}), n = t.util.object.extend, r = t.util.array.min, i = t.util.array.max, o = t.util.toFixed; t.Polyline ? t.warn("fabric.Polyline is already defined") : (t.Polyline = t.util.createClass(t.Object, { type: "polyline", points: null, cacheProperties: t.Object.prototype.cacheProperties.concat("points"), initialize: function (e, t) { t = t || {}, this.points = e || [], this.callSuper("initialize", t), this._setPositionDimensions(t) }, _setPositionDimensions: function (e) { var t, n = this._calcDimensions(e); this.width = n.width, this.height = n.height, e.fromSVG || (t = this.translateToGivenOrigin({ x: n.left - this.strokeWidth / 2, y: n.top - this.strokeWidth / 2 }, "left", "top", this.originX, this.originY)), "undefined" === typeof e.left && (this.left = e.fromSVG ? n.left : t.x), "undefined" === typeof e.top && (this.top = e.fromSVG ? n.top : t.y), this.pathOffset = { x: n.left + this.width / 2, y: n.top + this.height / 2 } }, _calcDimensions: function () { var e = this.points, t = r(e, "x") || 0, n = r(e, "y") || 0; return { left: t, top: n, width: (i(e, "x") || 0) - t, height: (i(e, "y") || 0) - n } }, toObject: function (e) { return n(this.callSuper("toObject", e), { points: this.points.concat() }) }, _toSVG: function () { for (var e = [], n = this.pathOffset.x, r = this.pathOffset.y, i = t.Object.NUM_FRACTION_DIGITS, a = 0, s = this.points.length; a < s; a++)e.push(o(this.points[a].x - n, i), ",", o(this.points[a].y - r, i), " "); return ["<" + this.type + " ", "COMMON_PARTS", 'points="', e.join(""), '" />\n'] }, commonRender: function (e) { var t, n = this.points.length, r = this.pathOffset.x, i = this.pathOffset.y; if (!n || isNaN(this.points[n - 1].y)) return !1; e.beginPath(), e.moveTo(this.points[0].x - r, this.points[0].y - i); for (var o = 0; o < n; o++)t = this.points[o], e.lineTo(t.x - r, t.y - i); return !0 }, _render: function (e) { this.commonRender(e) && this._renderPaintInOrder(e) }, _renderDashedStroke: function (e) { var n, r; e.beginPath(); for (var i = 0, o = this.points.length; i < o; i++)n = this.points[i], r = this.points[i + 1] || n, t.util.drawDashedLine(e, n.x, n.y, r.x, r.y, this.strokeDashArray) }, complexity: function () { return this.get("points").length } }), t.Polyline.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat(), t.Polyline.fromElementGenerator = function (e) { return function (r, i, o) { if (!r) return i(null); o || (o = {}); var a = t.parsePointsAttribute(r.getAttribute("points")), s = t.parseAttributes(r, t[e].ATTRIBUTE_NAMES); s.fromSVG = !0, i(new t[e](a, n(s, o))) } }, t.Polyline.fromElement = t.Polyline.fromElementGenerator("Polyline"), t.Polyline.fromObject = function (e, n) { return t.Object._fromObject("Polyline", e, n, "points") }) }(t), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}); t.Polygon ? t.warn("fabric.Polygon is already defined") : (t.Polygon = t.util.createClass(t.Polyline, { type: "polygon", _render: function (e) { this.commonRender(e) && (e.closePath(), this._renderPaintInOrder(e)) }, _renderDashedStroke: function (e) { this.callSuper("_renderDashedStroke", e), e.closePath() } }), t.Polygon.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat(), t.Polygon.fromElement = t.Polyline.fromElementGenerator("Polygon"), t.Polygon.fromObject = function (e, n) { return t.Object._fromObject("Polygon", e, n, "points") }) }(t), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}), n = t.util.array.min, r = t.util.array.max, i = t.util.object.extend, o = Object.prototype.toString, a = t.util.drawArc, s = t.util.toFixed, l = { m: 2, l: 2, h: 1, v: 1, c: 6, s: 4, q: 4, t: 2, a: 7 }, c = { m: "l", M: "L" }; t.Path ? t.warn("fabric.Path is already defined") : (t.Path = t.util.createClass(t.Object, { type: "path", path: null, cacheProperties: t.Object.prototype.cacheProperties.concat("path", "fillRule"), stateProperties: t.Object.prototype.stateProperties.concat("path"), initialize: function (e, n) { n = n || {}, this.callSuper("initialize", n), e || (e = []); var r = "[object Array]" === o.call(e); this.path = r ? e : e.match && e.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi), this.path && (r || (this.path = this._parsePath()), t.Polyline.prototype._setPositionDimensions.call(this, n)) }, _renderPathCommands: function (e) { var t, n, r, i = null, o = 0, s = 0, l = 0, c = 0, u = 0, h = 0, f = -this.pathOffset.x, d = -this.pathOffset.y; e.beginPath(); for (var p = 0, g = this.path.length; p < g; ++p) { switch ((t = this.path[p])[0]) { case "l": l += t[1], c += t[2], e.lineTo(l + f, c + d); break; case "L": l = t[1], c = t[2], e.lineTo(l + f, c + d); break; case "h": l += t[1], e.lineTo(l + f, c + d); break; case "H": l = t[1], e.lineTo(l + f, c + d); break; case "v": c += t[1], e.lineTo(l + f, c + d); break; case "V": c = t[1], e.lineTo(l + f, c + d); break; case "m": o = l += t[1], s = c += t[2], e.moveTo(l + f, c + d); break; case "M": o = l = t[1], s = c = t[2], e.moveTo(l + f, c + d); break; case "c": n = l + t[5], r = c + t[6], u = l + t[3], h = c + t[4], e.bezierCurveTo(l + t[1] + f, c + t[2] + d, u + f, h + d, n + f, r + d), l = n, c = r; break; case "C": l = t[5], c = t[6], u = t[3], h = t[4], e.bezierCurveTo(t[1] + f, t[2] + d, u + f, h + d, l + f, c + d); break; case "s": n = l + t[3], r = c + t[4], null === i[0].match(/[CcSs]/) ? (u = l, h = c) : (u = 2 * l - u, h = 2 * c - h), e.bezierCurveTo(u + f, h + d, l + t[1] + f, c + t[2] + d, n + f, r + d), u = l + t[1], h = c + t[2], l = n, c = r; break; case "S": n = t[3], r = t[4], null === i[0].match(/[CcSs]/) ? (u = l, h = c) : (u = 2 * l - u, h = 2 * c - h), e.bezierCurveTo(u + f, h + d, t[1] + f, t[2] + d, n + f, r + d), l = n, c = r, u = t[1], h = t[2]; break; case "q": n = l + t[3], r = c + t[4], u = l + t[1], h = c + t[2], e.quadraticCurveTo(u + f, h + d, n + f, r + d), l = n, c = r; break; case "Q": n = t[3], r = t[4], e.quadraticCurveTo(t[1] + f, t[2] + d, n + f, r + d), l = n, c = r, u = t[1], h = t[2]; break; case "t": n = l + t[1], r = c + t[2], null === i[0].match(/[QqTt]/) ? (u = l, h = c) : (u = 2 * l - u, h = 2 * c - h), e.quadraticCurveTo(u + f, h + d, n + f, r + d), l = n, c = r; break; case "T": n = t[1], r = t[2], null === i[0].match(/[QqTt]/) ? (u = l, h = c) : (u = 2 * l - u, h = 2 * c - h), e.quadraticCurveTo(u + f, h + d, n + f, r + d), l = n, c = r; break; case "a": a(e, l + f, c + d, [t[1], t[2], t[3], t[4], t[5], t[6] + l + f, t[7] + c + d]), l += t[6], c += t[7]; break; case "A": a(e, l + f, c + d, [t[1], t[2], t[3], t[4], t[5], t[6] + f, t[7] + d]), l = t[6], c = t[7]; break; case "z": case "Z": l = o, c = s, e.closePath() }i = t } }, _render: function (e) { this._renderPathCommands(e), this._renderPaintInOrder(e) }, toString: function () { return "#<fabric.Path (" + this.complexity() + '): { "top": ' + this.top + ', "left": ' + this.left + " }>" }, toObject: function (e) { return i(this.callSuper("toObject", e), { path: this.path.map((function (e) { return e.slice() })) }) }, toDatalessObject: function (e) { var t = this.toObject(["sourcePath"].concat(e)); return t.sourcePath && delete t.path, t }, _toSVG: function () { return ["<path ", "COMMON_PARTS", 'd="', this.path.map((function (e) { return e.join(" ") })).join(" "), '" stroke-linecap="round" ', "/>\n"] }, _getOffsetTransform: function () { var e = t.Object.NUM_FRACTION_DIGITS; return " translate(" + s(-this.pathOffset.x, e) + ", " + s(-this.pathOffset.y, e) + ")" }, toClipPathSVG: function (e) { var t = this._getOffsetTransform(); return "\t" + this._createBaseClipPathSVGMarkup(this._toSVG(), { reviver: e, additionalTransform: t }) }, toSVG: function (e) { var t = this._getOffsetTransform(); return this._createBaseSVGMarkup(this._toSVG(), { reviver: e, additionalTransform: t }) }, complexity: function () { return this.path.length }, _parsePath: function () { for (var e, n, r, i, o, a = [], s = [], u = t.rePathCommand, h = 0, f = this.path.length; h < f; h++) { for (i = (e = this.path[h]).slice(1).trim(), s.length = 0; r = u.exec(i);)s.push(r[0]); o = [e.charAt(0)]; for (var d = 0, p = s.length; d < p; d++)n = parseFloat(s[d]), isNaN(n) || o.push(n); var g = o[0], v = l[g.toLowerCase()], m = c[g] || g; if (o.length - 1 > v) for (var b = 1, y = o.length; b < y; b += v)a.push([g].concat(o.slice(b, b + v))), g = m; else a.push(o) } return a }, _calcDimensions: function () { for (var e, i, o, a, s = [], l = [], c = null, u = 0, h = 0, f = 0, d = 0, p = 0, g = 0, v = 0, m = this.path.length; v < m; ++v) { switch ((e = this.path[v])[0]) { case "l": f += e[1], d += e[2], a = []; break; case "L": f = e[1], d = e[2], a = []; break; case "h": f += e[1], a = []; break; case "H": f = e[1], a = []; break; case "v": d += e[1], a = []; break; case "V": d = e[1], a = []; break; case "m": u = f += e[1], h = d += e[2], a = []; break; case "M": u = f = e[1], h = d = e[2], a = []; break; case "c": i = f + e[5], o = d + e[6], p = f + e[3], g = d + e[4], a = t.util.getBoundsOfCurve(f, d, f + e[1], d + e[2], p, g, i, o), f = i, d = o; break; case "C": p = e[3], g = e[4], a = t.util.getBoundsOfCurve(f, d, e[1], e[2], p, g, e[5], e[6]), f = e[5], d = e[6]; break; case "s": i = f + e[3], o = d + e[4], null === c[0].match(/[CcSs]/) ? (p = f, g = d) : (p = 2 * f - p, g = 2 * d - g), a = t.util.getBoundsOfCurve(f, d, p, g, f + e[1], d + e[2], i, o), p = f + e[1], g = d + e[2], f = i, d = o; break; case "S": i = e[3], o = e[4], null === c[0].match(/[CcSs]/) ? (p = f, g = d) : (p = 2 * f - p, g = 2 * d - g), a = t.util.getBoundsOfCurve(f, d, p, g, e[1], e[2], i, o), f = i, d = o, p = e[1], g = e[2]; break; case "q": i = f + e[3], o = d + e[4], p = f + e[1], g = d + e[2], a = t.util.getBoundsOfCurve(f, d, p, g, p, g, i, o), f = i, d = o; break; case "Q": p = e[1], g = e[2], a = t.util.getBoundsOfCurve(f, d, p, g, p, g, e[3], e[4]), f = e[3], d = e[4]; break; case "t": i = f + e[1], o = d + e[2], null === c[0].match(/[QqTt]/) ? (p = f, g = d) : (p = 2 * f - p, g = 2 * d - g), a = t.util.getBoundsOfCurve(f, d, p, g, p, g, i, o), f = i, d = o; break; case "T": i = e[1], o = e[2], null === c[0].match(/[QqTt]/) ? (p = f, g = d) : (p = 2 * f - p, g = 2 * d - g), a = t.util.getBoundsOfCurve(f, d, p, g, p, g, i, o), f = i, d = o; break; case "a": a = t.util.getBoundsOfArc(f, d, e[1], e[2], e[3], e[4], e[5], e[6] + f, e[7] + d), f += e[6], d += e[7]; break; case "A": a = t.util.getBoundsOfArc(f, d, e[1], e[2], e[3], e[4], e[5], e[6], e[7]), f = e[6], d = e[7]; break; case "z": case "Z": f = u, d = h }c = e, a.forEach((function (e) { s.push(e.x), l.push(e.y) })), s.push(f), l.push(d) } var b = n(s) || 0, y = n(l) || 0; return { left: b, top: y, width: (r(s) || 0) - b, height: (r(l) || 0) - y } } }), t.Path.fromObject = function (e, n) { if ("string" === typeof e.sourcePath) { var r = e.sourcePath; t.loadSVGFromURL(r, (function (t) { var r = t[0]; r.setOptions(e), n && n(r) })) } else t.Object._fromObject("Path", e, n, "path") }, t.Path.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat(["d"]), t.Path.fromElement = function (e, n, r) { var o = t.parseAttributes(e, t.Path.ATTRIBUTE_NAMES); o.fromSVG = !0, n(new t.Path(o.d, i(o, r))) }) }(t), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}), n = t.util.array.min, r = t.util.array.max; t.Group || (t.Group = t.util.createClass(t.Object, t.Collection, { type: "group", strokeWidth: 0, subTargetCheck: !1, cacheProperties: [], useSetOnGroup: !1, initialize: function (e, t, n) { t = t || {}, this._objects = [], n && this.callSuper("initialize", t), this._objects = e || []; for (var r = this._objects.length; r--;)this._objects[r].group = this; if (n) this._updateObjectsACoords(); else { var i = t && t.centerPoint; void 0 !== t.originX && (this.originX = t.originX), void 0 !== t.originY && (this.originY = t.originY), i || this._calcBounds(), this._updateObjectsCoords(i), delete t.centerPoint, this.callSuper("initialize", t) } this.setCoords() }, _updateObjectsACoords: function () { for (var e = this._objects.length; e--;)this._objects[e].setCoords(true, true) }, _updateObjectsCoords: function (e) { e = e || this.getCenterPoint(); for (var t = this._objects.length; t--;)this._updateObjectCoords(this._objects[t], e) }, _updateObjectCoords: function (e, t) { var n = e.left, r = e.top; e.set({ left: n - t.x, top: r - t.y }), e.group = this, e.setCoords(!0, !0) }, toString: function () { return "#<fabric.Group: (" + this.complexity() + ")>" }, addWithUpdate: function (e) { return this._restoreObjectsState(), t.util.resetObjectTransform(this), e && (this._objects.push(e), e.group = this, e._set("canvas", this.canvas)), this._calcBounds(), this._updateObjectsCoords(), this.setCoords(), this.dirty = !0, this }, removeWithUpdate: function (e) { return this._restoreObjectsState(), t.util.resetObjectTransform(this), this.remove(e), this._calcBounds(), this._updateObjectsCoords(), this.setCoords(), this.dirty = !0, this }, _onObjectAdded: function (e) { this.dirty = !0, e.group = this, e._set("canvas", this.canvas) }, _onObjectRemoved: function (e) { this.dirty = !0, delete e.group }, _set: function (e, n) { var r = this._objects.length; if (this.useSetOnGroup) for (; r--;)this._objects[r].setOnGroup(e, n); if ("canvas" === e) for (; r--;)this._objects[r]._set(e, n); t.Object.prototype._set.call(this, e, n) }, toObject: function (e) { var n = this.includeDefaultValues, r = this._objects.map((function (t) { var r = t.includeDefaultValues; t.includeDefaultValues = n; var i = t.toObject(e); return t.includeDefaultValues = r, i })), i = t.Object.prototype.toObject.call(this, e); return i.objects = r, i }, toDatalessObject: function (e) { var n, r = this.sourcePath; if (r) n = r; else { var i = this.includeDefaultValues; n = this._objects.map((function (t) { var n = t.includeDefaultValues; t.includeDefaultValues = i; var r = t.toDatalessObject(e); return t.includeDefaultValues = n, r })) } var o = t.Object.prototype.toDatalessObject.call(this, e); return o.objects = n, o }, render: function (e) { this._transformDone = !0, this.callSuper("render", e), this._transformDone = !1 }, shouldCache: function () { var e = t.Object.prototype.shouldCache.call(this); if (e) for (var n = 0, r = this._objects.length; n < r; n++)if (this._objects[n].willDrawShadow()) return this.ownCaching = !1, !1; return e }, willDrawShadow: function () { if (t.Object.prototype.willDrawShadow.call(this)) return !0; for (var e = 0, n = this._objects.length; e < n; e++)if (this._objects[e].willDrawShadow()) return !0; return !1 }, isOnACache: function () { return this.ownCaching || this.group && this.group.isOnACache() }, drawObject: function (e) { for (var t = 0, n = this._objects.length; t < n; t++)this._objects[t].render(e); this._drawClipPath(e) }, isCacheDirty: function (e) { if (this.callSuper("isCacheDirty", e)) return !0; if (!this.statefullCache) return !1; for (var t = 0, n = this._objects.length; t < n; t++)if (this._objects[t].isCacheDirty(!0)) { if (this._cacheCanvas) { var r = this.cacheWidth / this.zoomX, i = this.cacheHeight / this.zoomY; this._cacheContext.clearRect(-r / 2, -i / 2, r, i) } return !0 } return !1 }, _restoreObjectsState: function () { return this._objects.forEach(this._restoreObjectState, this), this }, realizeTransform: function (e) { var n = e.calcTransformMatrix(), r = t.util.qrDecompose(n), i = new t.Point(r.translateX, r.translateY); return e.flipX = !1, e.flipY = !1, e.set("scaleX", r.scaleX), e.set("scaleY", r.scaleY), e.skewX = r.skewX, e.skewY = r.skewY, e.angle = r.angle, e.setPositionByOrigin(i, "center", "center"), e }, _restoreObjectState: function (e) { return this.realizeTransform(e), e.setCoords(), delete e.group, this }, destroy: function () { return this._objects.forEach((function (e) { e.set("dirty", !0) })), this._restoreObjectsState() }, toActiveSelection: function () { if (this.canvas) { var e = this._objects, n = this.canvas; this._objects = []; var r = this.toObject(); delete r.objects; var i = new t.ActiveSelection([]); return i.set(r), i.type = "activeSelection", n.remove(this), e.forEach((function (e) { e.group = i, e.dirty = !0, n.add(e) })), i.canvas = n, i._objects = e, n._activeObject = i, i.setCoords(), i } }, ungroupOnCanvas: function () { return this._restoreObjectsState() }, setObjectsCoords: function () { return this.forEachObject((function (e) { e.setCoords(true, true) })), this }, _calcBounds: function (e) { for (var t, n, r, i = [], o = [], a = ["tr", "br", "bl", "tl"], s = 0, l = this._objects.length, c = a.length; s < l; ++s)for ((t = this._objects[s]).setCoords(true), r = 0; r < c; r++)n = a[r], i.push(t.oCoords[n].x), o.push(t.oCoords[n].y); this._getBounds(i, o, e) }, _getBounds: function (e, i, o) { var a = new t.Point(n(e), n(i)), s = new t.Point(r(e), r(i)), l = a.y || 0, c = a.x || 0, u = s.x - a.x || 0, h = s.y - a.y || 0; this.width = u, this.height = h, o || this.setPositionByOrigin({ x: c, y: l }, "left", "top") }, _toSVG: function (e) { for (var t = ["<g ", "COMMON_PARTS", " >\n"], n = 0, r = this._objects.length; n < r; n++)t.push("\t\t", this._objects[n].toSVG(e)); return t.push("</g>\n"), t }, getSvgStyles: function () { var e = "undefined" !== typeof this.opacity && 1 !== this.opacity ? "opacity: " + this.opacity + ";" : "", t = this.visible ? "" : " visibility: hidden;"; return [e, this.getSvgFilter(), t].join("") }, toClipPathSVG: function (e) { for (var t = [], n = 0, r = this._objects.length; n < r; n++)t.push("\t", this._objects[n].toClipPathSVG(e)); return this._createBaseClipPathSVGMarkup(t, { reviver: e }) } }), t.Group.fromObject = function (e, n) { var r = e.objects, i = t.util.object.clone(e, !0); delete i.objects, "string" !== typeof r ? t.util.enlivenObjects(r, (function (r) { t.util.enlivenObjects([e.clipPath], (function (i) { var o = t.util.object.clone(e, !0); o.clipPath = i[0], delete o.objects, n && n(new t.Group(r, o, !0)) })) })) : t.loadSVGFromURL(r, (function (o) { var a = t.util.groupSVGElements(o, e, r); a.set(i), n && n(a) })) }) }(t), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}); t.ActiveSelection || (t.ActiveSelection = t.util.createClass(t.Group, { type: "activeSelection", initialize: function (e, n) { n = n || {}, this._objects = e || []; for (var r = this._objects.length; r--;)this._objects[r].group = this; n.originX && (this.originX = n.originX), n.originY && (this.originY = n.originY), this._calcBounds(), this._updateObjectsCoords(), t.Object.prototype.initialize.call(this, n), this.setCoords() }, toGroup: function () { var e = this._objects.concat(); this._objects = []; var n = t.Object.prototype.toObject.call(this), r = new t.Group([]); if (delete n.type, r.set(n), e.forEach((function (e) { e.canvas.remove(e), e.group = r })), r._objects = e, !this.canvas) return r; var i = this.canvas; return i.add(r), i._activeObject = r, r.setCoords(), r }, onDeselect: function () { return this.destroy(), !1 }, toString: function () { return "#<fabric.ActiveSelection: (" + this.complexity() + ")>" }, shouldCache: function () { return !1 }, isOnACache: function () { return !1 }, _renderControls: function (e, t, n) { e.save(), e.globalAlpha = this.isMoving ? this.borderOpacityWhenMoving : 1, this.callSuper("_renderControls", e, t), "undefined" === typeof (n = n || {}).hasControls && (n.hasControls = !1), "undefined" === typeof n.hasRotatingPoint && (n.hasRotatingPoint = !1), n.forActiveSelection = !0; for (var r = 0, i = this._objects.length; r < i; r++)this._objects[r]._renderControls(e, n); e.restore() } }), t.ActiveSelection.fromObject = function (e, n) { t.util.enlivenObjects(e.objects, (function (r) { delete e.objects, n && n(new t.ActiveSelection(r, e, !0)) })) }) }(t), function (e) { "use strict"; var t = i.util.object.extend; e.fabric || (e.fabric = {}), e.fabric.Image ? i.warn("fabric.Image is already defined.") : (i.Image = i.util.createClass(i.Object, { type: "image", crossOrigin: "", strokeWidth: 0, srcFromAttribute: !1, _lastScaleX: 1, _lastScaleY: 1, _filterScalingX: 1, _filterScalingY: 1, minimumScaleTrigger: .5, stateProperties: i.Object.prototype.stateProperties.concat("cropX", "cropY"), cacheKey: "", cropX: 0, cropY: 0, initialize: function (e, t) { t || (t = {}), this.filters = [], this.cacheKey = "texture" + i.Object.__uid++, this.callSuper("initialize", t), this._initElement(e, t) }, getElement: function () { return this._element || {} }, setElement: function (e, t) { return this.removeTexture(this.cacheKey), this.removeTexture(this.cacheKey + "_filtered"), this._element = e, this._originalElement = e, this._initConfig(t), 0 !== this.filters.length && this.applyFilters(), this.resizeFilter && this.applyResizeFilters(), this }, removeTexture: function (e) { var t = i.filterBackend; t && t.evictCachesForKey && t.evictCachesForKey(e) }, dispose: function () { this.removeTexture(this.cacheKey), this.removeTexture(this.cacheKey + "_filtered"), this._cacheContext = void 0, ["_originalElement", "_element", "_filteredEl", "_cacheCanvas"].forEach(function (e) { i.util.cleanUpJsdomNode(this[e]), this[e] = void 0 }.bind(this)) }, setCrossOrigin: function (e) { return this.crossOrigin = e, this._element.crossOrigin = e, this }, getOriginalSize: function () { var e = this.getElement(); return { width: e.naturalWidth || e.width, height: e.naturalHeight || e.height } }, _stroke: function (e) { if (this.stroke && 0 !== this.strokeWidth) { var t = this.width / 2, n = this.height / 2; e.beginPath(), e.moveTo(-t, -n), e.lineTo(t, -n), e.lineTo(t, n), e.lineTo(-t, n), e.lineTo(-t, -n), e.closePath() } }, _renderDashedStroke: function (e) { var t = -this.width / 2, n = -this.height / 2, r = this.width, o = this.height; e.save(), this._setStrokeStyles(e, this), e.beginPath(), i.util.drawDashedLine(e, t, n, t + r, n, this.strokeDashArray), i.util.drawDashedLine(e, t + r, n, t + r, n + o, this.strokeDashArray), i.util.drawDashedLine(e, t + r, n + o, t, n + o, this.strokeDashArray), i.util.drawDashedLine(e, t, n + o, t, n, this.strokeDashArray), e.closePath(), e.restore() }, toObject: function (e) { var n = []; this.filters.forEach((function (e) { e && n.push(e.toObject()) })); var r = t(this.callSuper("toObject", ["crossOrigin", "cropX", "cropY"].concat(e)), { src: this.getSrc(), filters: n }); return this.resizeFilter && (r.resizeFilter = this.resizeFilter.toObject()), r }, hasCrop: function () { return this.cropX || this.cropY || this.width < this._element.width || this.height < this._element.height }, _toSVG: function () { var e, t = [], n = [], r = -this.width / 2, o = -this.height / 2, a = ""; if (this.hasCrop()) { var s = i.Object.__uid++; t.push('<clipPath id="imageCrop_' + s + '">\n', '\t<rect x="' + r + '" y="' + o + '" width="' + this.width + '" height="' + this.height + '" />\n', "</clipPath>\n"), a = ' clip-path="url(#imageCrop_' + s + ')" ' } if (n.push("\t<image ", "COMMON_PARTS", 'xlink:href="', this.getSvgSrc(!0), '" x="', r - this.cropX, '" y="', o - this.cropY, '" width="', this._element.width || this._element.naturalWidth, '" height="', this._element.height || this._element.height, '"', a, "></image>\n"), this.stroke || this.strokeDashArray) { var l = this.fill; this.fill = null, e = ["\t<rect ", 'x="', r, '" y="', o, '" width="', this.width, '" height="', this.height, '" style="', this.getSvgStyles(), '"/>\n'], this.fill = l } return t = "fill" !== this.paintFirst ? t.concat(e, n) : t.concat(n, e) }, getSrc: function (e) { var t = e ? this._element : this._originalElement; return t ? t.toDataURL ? t.toDataURL() : this.srcFromAttribute ? t.getAttribute("src") : t.src : this.src || "" }, setSrc: function (e, t, n) { return i.util.loadImage(e, (function (e) { this.setElement(e, n), this._setWidthHeight(), t && t(this) }), this, n && n.crossOrigin), this }, toString: function () { return '#<fabric.Image: { src: "' + this.getSrc() + '" }>' }, applyResizeFilters: function () { var e = this.resizeFilter, t = this.minimumScaleTrigger, n = this.getTotalObjectScaling(), r = n.scaleX, o = n.scaleY, a = this._filteredEl || this._originalElement; if (this.group && this.set("dirty", !0), !e || r > t && o > t) return this._element = a, this._filterScalingX = 1, this._filterScalingY = 1, this._lastScaleX = r, void (this._lastScaleY = o); i.filterBackend || (i.filterBackend = i.initFilterBackend()); var s = i.util.createCanvasElement(), l = this._filteredEl ? this.cacheKey + "_filtered" : this.cacheKey, c = a.width, u = a.height; s.width = c, s.height = u, this._element = s, this._lastScaleX = e.scaleX = r, this._lastScaleY = e.scaleY = o, i.filterBackend.applyFilters([e], a, c, u, this._element, l), this._filterScalingX = s.width / this._originalElement.width, this._filterScalingY = s.height / this._originalElement.height }, applyFilters: function (e) { if (e = (e = e || this.filters || []).filter((function (e) { return e && !e.isNeutralState() })), this.set("dirty", !0), this.removeTexture(this.cacheKey + "_filtered"), 0 === e.length) return this._element = this._originalElement, this._filteredEl = null, this._filterScalingX = 1, this._filterScalingY = 1, this; var t = this._originalElement, n = t.naturalWidth || t.width, r = t.naturalHeight || t.height; if (this._element === this._originalElement) { var o = i.util.createCanvasElement(); o.width = n, o.height = r, this._element = o, this._filteredEl = o } else this._element = this._filteredEl, this._filteredEl.getContext("2d").clearRect(0, 0, n, r), this._lastScaleX = 1, this._lastScaleY = 1; return i.filterBackend || (i.filterBackend = i.initFilterBackend()), i.filterBackend.applyFilters(e, this._originalElement, n, r, this._element, this.cacheKey), this._originalElement.width === this._element.width && this._originalElement.height === this._element.height || (this._filterScalingX = this._element.width / this._originalElement.width, this._filterScalingY = this._element.height / this._originalElement.height), this }, _render: function (e) { !0 !== this.isMoving && this.resizeFilter && this._needsResize() && this.applyResizeFilters(), this._stroke(e), this._renderPaintInOrder(e) }, shouldCache: function () { return this.needsItsOwnCache() }, _renderFill: function (e) { var t = this._element; if (t) { var n = this._filterScalingX, r = this._filterScalingY, i = this.width, o = this.height, a = Math.min, s = Math.max, l = s(this.cropX, 0), c = s(this.cropY, 0), u = t.naturalWidth || t.width, h = t.naturalHeight || t.height, f = l * n, d = c * r, p = a(i * n, u - f), g = a(o * r, h - d), v = -i / 2, m = -o / 2, b = a(i, u / n - l), y = a(o, h / n - c); t && e.drawImage(t, f, d, p, g, v, m, b, y) } }, _needsResize: function () { var e = this.getTotalObjectScaling(); return e.scaleX !== this._lastScaleX || e.scaleY !== this._lastScaleY }, _resetWidthHeight: function () { this.set(this.getOriginalSize()) }, _initElement: function (e, t) { this.setElement(i.util.getById(e), t), i.util.addClass(this.getElement(), i.Image.CSS_CANVAS) }, _initConfig: function (e) { e || (e = {}), this.setOptions(e), this._setWidthHeight(e), this._element && this.crossOrigin && (this._element.crossOrigin = this.crossOrigin) }, _initFilters: function (e, t) { e && e.length ? i.util.enlivenObjects(e, (function (e) { t && t(e) }), "fabric.Image.filters") : t && t() }, _setWidthHeight: function (e) { e || (e = {}); var t = this.getElement(); this.width = e.width || t.naturalWidth || t.width || 0, this.height = e.height || t.naturalHeight || t.height || 0 }, parsePreserveAspectRatioAttribute: function () { var e, t = i.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio || ""), n = this._element.width, r = this._element.height, o = 1, a = 1, s = 0, l = 0, c = 0, u = 0, h = this.width, f = this.height, d = { width: h, height: f }; return !t || "none" === t.alignX && "none" === t.alignY ? (o = h / n, a = f / r) : ("meet" === t.meetOrSlice && (e = (h - n * (o = a = i.util.findScaleToFit(this._element, d))) / 2, "Min" === t.alignX && (s = -e), "Max" === t.alignX && (s = e), e = (f - r * a) / 2, "Min" === t.alignY && (l = -e), "Max" === t.alignY && (l = e)), "slice" === t.meetOrSlice && (e = n - h / (o = a = i.util.findScaleToCover(this._element, d)), "Mid" === t.alignX && (c = e / 2), "Max" === t.alignX && (c = e), e = r - f / a, "Mid" === t.alignY && (u = e / 2), "Max" === t.alignY && (u = e), n = h / o, r = f / a)), { width: n, height: r, scaleX: o, scaleY: a, offsetLeft: s, offsetTop: l, cropX: c, cropY: u } } }), i.Image.CSS_CANVAS = "canvas-img", i.Image.prototype.getSvgSrc = i.Image.prototype.getSrc, i.Image.fromObject = function (e, t) { var n = i.util.object.clone(e); i.util.loadImage(n.src, (function (e, r) { r ? t && t(null, r) : i.Image.prototype._initFilters.call(n, n.filters, (function (r) { n.filters = r || [], i.Image.prototype._initFilters.call(n, [n.resizeFilter], (function (r) { n.resizeFilter = r[0], i.util.enlivenObjects([n.clipPath], (function (r) { n.clipPath = r[0]; var o = new i.Image(e, n); t(o) })) })) })) }), null, n.crossOrigin) }, i.Image.fromURL = function (e, t, n) { i.util.loadImage(e, (function (e) { t && t(new i.Image(e, n)) }), null, n && n.crossOrigin) }, i.Image.ATTRIBUTE_NAMES = i.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin".split(" ")), i.Image.fromElement = function (e, n, r) { var o = i.parseAttributes(e, i.Image.ATTRIBUTE_NAMES); i.Image.fromURL(o["xlink:href"], n, t(r ? i.util.object.clone(r) : {}, o)) }) }(t), i.util.object.extend(i.Object.prototype, { _getAngleValueForStraighten: function () { var e = this.angle % 360; return e > 0 ? 90 * Math.round((e - 1) / 90) : 90 * Math.round(e / 90) }, straighten: function () { return this.rotate(this._getAngleValueForStraighten()), this }, fxStraighten: function (e) { var t = function () { }, n = (e = e || {}).onComplete || t, r = e.onChange || t, o = this; return i.util.animate({ startValue: this.get("angle"), endValue: this._getAngleValueForStraighten(), duration: this.FX_DURATION, onChange: function (e) { o.rotate(e), r() }, onComplete: function () { o.setCoords(), n() } }), this } }), i.util.object.extend(i.StaticCanvas.prototype, { straightenObject: function (e) { return e.straighten(), this.requestRenderAll(), this }, fxStraightenObject: function (e) { return e.fxStraighten({ onChange: this.requestRenderAllBound }), this } }), function () { "use strict"; function e(e, t) { var n = "precision " + t + " float;\nvoid main(){}", r = e.createShader(e.FRAGMENT_SHADER); return e.shaderSource(r, n), e.compileShader(r), !!e.getShaderParameter(r, e.COMPILE_STATUS) } function t(e) { e && e.tileSize && (this.tileSize = e.tileSize), this.setupGLContext(this.tileSize, this.tileSize), this.captureGPUInfo() } i.isWebglSupported = function (t) { if (i.isLikelyNode) return !1; t = t || i.WebglFilterBackend.prototype.tileSize; var n = document.createElement("canvas"), r = n.getContext("webgl") || n.getContext("experimental-webgl"), o = !1; if (r) { i.maxTextureSize = r.getParameter(r.MAX_TEXTURE_SIZE), o = i.maxTextureSize >= t; for (var a = ["highp", "mediump", "lowp"], s = 0; s < 3; s++)if (e(r, a[s])) { i.webGlPrecision = a[s]; break } } return this.isSupported = o, o }, i.WebglFilterBackend = t, t.prototype = { tileSize: 2048, resources: {}, setupGLContext: function (e, t) { this.dispose(), this.createWebGLCanvas(e, t), this.aPosition = new Float32Array([0, 0, 0, 1, 1, 0, 1, 1]), this.chooseFastestCopyGLTo2DMethod(e, t) }, chooseFastestCopyGLTo2DMethod: function (e, t) { var n, r = "undefined" !== typeof window.performance; try { new ImageData(1, 1), n = !0 } catch (p) { n = !1 } var o = "undefined" !== typeof ArrayBuffer, l = "undefined" !== typeof Uint8ClampedArray; if (r && n && o && l) { var c = i.util.createCanvasElement(), u = new ArrayBuffer(e * t * 4); if (i.forceGLPutImageData) return this.imageBuffer = u, void (this.copyGLTo2D = s); var h, f, d = { imageBuffer: u, destinationWidth: e, destinationHeight: t, targetCanvas: c }; c.width = e, c.height = t, h = window.performance.now(), a.call(d, this.gl, d), f = window.performance.now() - h, h = window.performance.now(), s.call(d, this.gl, d), f > window.performance.now() - h ? (this.imageBuffer = u, this.copyGLTo2D = s) : this.copyGLTo2D = a } }, createWebGLCanvas: function (e, t) { var n = i.util.createCanvasElement(); n.width = e, n.height = t; var r = { alpha: !0, premultipliedAlpha: !1, depth: !1, stencil: !1, antialias: !1 }, o = n.getContext("webgl", r); o || (o = n.getContext("experimental-webgl", r)), o && (o.clearColor(0, 0, 0, 0), this.canvas = n, this.gl = o) }, applyFilters: function (e, t, n, r, i, o) { var a, s = this.gl; o && (a = this.getCachedTexture(o, t)); var l = { originalWidth: t.width || t.originalWidth, originalHeight: t.height || t.originalHeight, sourceWidth: n, sourceHeight: r, destinationWidth: n, destinationHeight: r, context: s, sourceTexture: this.createTexture(s, n, r, !a && t), targetTexture: this.createTexture(s, n, r), originalTexture: a || this.createTexture(s, n, r, !a && t), passes: e.length, webgl: !0, aPosition: this.aPosition, programCache: this.programCache, pass: 0, filterBackend: this, targetCanvas: i }, c = s.createFramebuffer(); return s.bindFramebuffer(s.FRAMEBUFFER, c), e.forEach((function (e) { e && e.applyTo(l) })), function (e) { var t = e.targetCanvas, n = t.width, r = t.height, i = e.destinationWidth, o = e.destinationHeight; n === i && r === o || (t.width = i, t.height = o) }(l), this.copyGLTo2D(s, l), s.bindTexture(s.TEXTURE_2D, null), s.deleteTexture(l.sourceTexture), s.deleteTexture(l.targetTexture), s.deleteFramebuffer(c), i.getContext("2d").setTransform(1, 0, 0, 1, 0, 0), l }, dispose: function () { this.canvas && (this.canvas = null, this.gl = null), this.clearWebGLCaches() }, clearWebGLCaches: function () { this.programCache = {}, this.textureCache = {} }, createTexture: function (e, t, n, r) { var i = e.createTexture(); return e.bindTexture(e.TEXTURE_2D, i), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, e.NEAREST), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, e.NEAREST), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, e.CLAMP_TO_EDGE), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, e.CLAMP_TO_EDGE), r ? e.texImage2D(e.TEXTURE_2D, 0, e.RGBA, e.RGBA, e.UNSIGNED_BYTE, r) : e.texImage2D(e.TEXTURE_2D, 0, e.RGBA, t, n, 0, e.RGBA, e.UNSIGNED_BYTE, null), i }, getCachedTexture: function (e, t) { if (this.textureCache[e]) return this.textureCache[e]; var n = this.createTexture(this.gl, t.width, t.height, t); return this.textureCache[e] = n, n }, evictCachesForKey: function (e) { this.textureCache[e] && (this.gl.deleteTexture(this.textureCache[e]), delete this.textureCache[e]) }, copyGLTo2D: a, captureGPUInfo: function () { if (this.gpuInfo) return this.gpuInfo; var e = this.gl, t = { renderer: "", vendor: "" }; if (!e) return t; var n = e.getExtension("WEBGL_debug_renderer_info"); if (n) { var r = e.getParameter(n.UNMASKED_RENDERER_WEBGL), i = e.getParameter(n.UNMASKED_VENDOR_WEBGL); r && (t.renderer = r.toLowerCase()), i && (t.vendor = i.toLowerCase()) } return this.gpuInfo = t, t } } }(), function () { "use strict"; var e = function () { }; function t() { } i.Canvas2dFilterBackend = t, t.prototype = { evictCachesForKey: e, dispose: e, clearWebGLCaches: e, resources: {}, applyFilters: function (e, t, n, r, i) { var o = i.getContext("2d"); o.drawImage(t, 0, 0, n, r); var a = { sourceWidth: n, sourceHeight: r, imageData: o.getImageData(0, 0, n, r), originalEl: t, originalImageData: o.getImageData(0, 0, n, r), canvasEl: i, ctx: o, filterBackend: this }; return e.forEach((function (e) { e.applyTo(a) })), a.imageData.width === n && a.imageData.height === r || (i.width = a.imageData.width, i.height = a.imageData.height), o.putImageData(a.imageData, 0, 0), a } } }(), i.Image = i.Image || {}, i.Image.filters = i.Image.filters || {}, i.Image.filters.BaseFilter = i.util.createClass({ type: "BaseFilter", vertexSource: "attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}", fragmentSource: "precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}", initialize: function (e) { e && this.setOptions(e) }, setOptions: function (e) { for (var t in e) this[t] = e[t] }, createProgram: function (e, t, n) { t = t || this.fragmentSource, n = n || this.vertexSource, "highp" !== i.webGlPrecision && (t = t.replace(/precision highp float/g, "precision " + i.webGlPrecision + " float")); var r = e.createShader(e.VERTEX_SHADER); if (e.shaderSource(r, n), e.compileShader(r), !e.getShaderParameter(r, e.COMPILE_STATUS)) throw new Error("Vertex shader compile error for " + this.type + ": " + e.getShaderInfoLog(r)); var o = e.createShader(e.FRAGMENT_SHADER); if (e.shaderSource(o, t), e.compileShader(o), !e.getShaderParameter(o, e.COMPILE_STATUS)) throw new Error("Fragment shader compile error for " + this.type + ": " + e.getShaderInfoLog(o)); var a = e.createProgram(); if (e.attachShader(a, r), e.attachShader(a, o), e.linkProgram(a), !e.getProgramParameter(a, e.LINK_STATUS)) throw new Error('Shader link error for "${this.type}" ' + e.getProgramInfoLog(a)); var s = this.getAttributeLocations(e, a), l = this.getUniformLocations(e, a) || {}; return l.uStepW = e.getUniformLocation(a, "uStepW"), l.uStepH = e.getUniformLocation(a, "uStepH"), { program: a, attributeLocations: s, uniformLocations: l } }, getAttributeLocations: function (e, t) { return { aPosition: e.getAttribLocation(t, "aPosition") } }, getUniformLocations: function () { return {} }, sendAttributeData: function (e, t, n) { var r = t.aPosition, i = e.createBuffer(); e.bindBuffer(e.ARRAY_BUFFER, i), e.enableVertexAttribArray(r), e.vertexAttribPointer(r, 2, e.FLOAT, !1, 0, 0), e.bufferData(e.ARRAY_BUFFER, n, e.STATIC_DRAW) }, _setupFrameBuffer: function (e) { var t, n, r = e.context; e.passes > 1 ? (t = e.destinationWidth, n = e.destinationHeight, e.sourceWidth === t && e.sourceHeight === n || (r.deleteTexture(e.targetTexture), e.targetTexture = e.filterBackend.createTexture(r, t, n)), r.framebufferTexture2D(r.FRAMEBUFFER, r.COLOR_ATTACHMENT0, r.TEXTURE_2D, e.targetTexture, 0)) : (r.bindFramebuffer(r.FRAMEBUFFER, null), r.finish()) }, _swapTextures: function (e) { e.passes--, e.pass++; var t = e.targetTexture; e.targetTexture = e.sourceTexture, e.sourceTexture = t }, isNeutralState: function () { var e = this.mainParameter, t = i.Image.filters[this.type].prototype; if (e) { if (Array.isArray(t[e])) { for (var n = t[e].length; n--;)if (this[e][n] !== t[e][n]) return !1; return !0 } return t[e] === this[e] } return !1 }, applyTo: function (e) { e.webgl ? (this._setupFrameBuffer(e), this.applyToWebGL(e), this._swapTextures(e)) : this.applyTo2d(e) }, retrieveShader: function (e) { return e.programCache.hasOwnProperty(this.type) || (e.programCache[this.type] = this.createProgram(e.context)), e.programCache[this.type] }, applyToWebGL: function (e) { var t = e.context, n = this.retrieveShader(e); 0 === e.pass && e.originalTexture ? t.bindTexture(t.TEXTURE_2D, e.originalTexture) : t.bindTexture(t.TEXTURE_2D, e.sourceTexture), t.useProgram(n.program), this.sendAttributeData(t, n.attributeLocations, e.aPosition), t.uniform1f(n.uniformLocations.uStepW, 1 / e.sourceWidth), t.uniform1f(n.uniformLocations.uStepH, 1 / e.sourceHeight), this.sendUniformData(t, n.uniformLocations), t.viewport(0, 0, e.destinationWidth, e.destinationHeight), t.drawArrays(t.TRIANGLE_STRIP, 0, 4) }, bindAdditionalTexture: function (e, t, n) { e.activeTexture(n), e.bindTexture(e.TEXTURE_2D, t), e.activeTexture(e.TEXTURE0) }, unbindAdditionalTexture: function (e, t) { e.activeTexture(t), e.bindTexture(e.TEXTURE_2D, null), e.activeTexture(e.TEXTURE0) }, getMainParameter: function () { return this[this.mainParameter] }, setMainParameter: function (e) { this[this.mainParameter] = e }, sendUniformData: function () { }, createHelpLayer: function (e) { if (!e.helpLayer) { var t = document.createElement("canvas"); t.width = e.sourceWidth, t.height = e.sourceHeight, e.helpLayer = t } }, toObject: function () { var e = { type: this.type }, t = this.mainParameter; return t && (e[t] = this[t]), e }, toJSON: function () { return this.toObject() } }), i.Image.filters.BaseFilter.fromObject = function (e, t) { var n = new i.Image.filters[e.type](e); return t && t(n), n }, function (e) { "use strict"; var t = e.fabric || (e.fabric = {}), n = t.Image.filters, r = t.util.createClass; n.ColorMatrix = r(n.BaseFilter, { type: "ColorMatrix", fragmentSource: "precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}", matrix: [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0], mainParameter: "matrix", colorsOnly: !0, initialize: function (e) { this.callSuper("initialize", e), this.matrix = this.matrix.slice(0) }, applyTo2d: function (e) { var t, n, r, i, o, a = e.imageData.data, s = a.length, l = this.matrix, c = this.colorsOnly; for (o = 0; o < s; o += 4)t = a[o], n = a[o + 1], r = a[o + 2], c ? (a[o] = t * l[0] + n * l[1] + r * l[2] + 255 * l[4], a[o + 1] = t * l[5] + n * l[6] + r * l[7] + 255 * l[9], a[o + 2] = t * l[10] + n * l[11] + r * l[12] + 255 * l[14]) : (i = a[o + 3], a[o] = t * l[0] + n * l[1] + r * l[2] + i * l[3] + 255 * l[4], a[o + 1] = t * l[5] + n * l[6] + r * l[7] + i * l[8] + 255 * l[9], a[o + 2] = t * l[10] + n * l[11] + r * l[12] + i * l[13] + 255 * l[14], a[o + 3] = t * l[15] + n * l[16] + r * l[17] + i * l[18] + 255 * l[19]) }, getUniformLocations: function (e, t) { return { uColorMatrix: e.getUniformLocation(t, "uColorMatrix"), uConstants: e.getUniformLocation(t, "uConstants") } }, sendUniformData: function (e, t) { var n = this.matrix, r = [n[0], n[1], n[2], n[3], n[5], n[6], n[7], n[8], n[10], n[11], n[12], n[13], n[15], n[16], n[17], n[18]], i = [n[4], n[9], n[14], n[19]]; e.uniformMatrix4fv(t.uColorMatrix, !1, r), e.uniform4fv(t.uConstants, i) } }), t.Image.filters.ColorMatrix.fromObject = t.Image.filters.BaseFilter.fromObject }(t), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}), n = t.Image.filters, r = t.util.createClass; n.Brightness = r(n.BaseFilter, { type: "Brightness", fragmentSource: "precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}", brightness: 0, mainParameter: "brightness", applyTo2d: function (e) { if (0 !== this.brightness) { var t, n = e.imageData.data, r = n.length, i = Math.round(255 * this.brightness); for (t = 0; t < r; t += 4)n[t] = n[t] + i, n[t + 1] = n[t + 1] + i, n[t + 2] = n[t + 2] + i } }, getUniformLocations: function (e, t) { return { uBrightness: e.getUniformLocation(t, "uBrightness") } }, sendUniformData: function (e, t) { e.uniform1f(t.uBrightness, this.brightness) } }), t.Image.filters.Brightness.fromObject = t.Image.filters.BaseFilter.fromObject }(t), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}), n = t.util.object.extend, r = t.Image.filters, i = t.util.createClass; r.Convolute = i(r.BaseFilter, { type: "Convolute", opaque: !1, matrix: [0, 0, 0, 0, 1, 0, 0, 0, 0], fragmentSource: { Convolute_3_1: "precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}", Convolute_3_0: "precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}", Convolute_5_1: "precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}", Convolute_5_0: "precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}", Convolute_7_1: "precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}", Convolute_7_0: "precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}", Convolute_9_1: "precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}", Convolute_9_0: "precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}" }, retrieveShader: function (e) { var t = Math.sqrt(this.matrix.length), n = this.type + "_" + t + "_" + (this.opaque ? 1 : 0), r = this.fragmentSource[n]; return e.programCache.hasOwnProperty(n) || (e.programCache[n] = this.createProgram(e.context, r)), e.programCache[n] }, applyTo2d: function (e) { var t, n, r, i, o, a, s, l, c, u, h, f, d, p = e.imageData, g = p.data, v = this.matrix, m = Math.round(Math.sqrt(v.length)), b = Math.floor(m / 2), y = p.width, x = p.height, w = e.ctx.createImageData(y, x), _ = w.data, S = this.opaque ? 1 : 0; for (h = 0; h < x; h++)for (u = 0; u < y; u++) { for (o = 4 * (h * y + u), t = 0, n = 0, r = 0, i = 0, d = 0; d < m; d++)for (f = 0; f < m; f++)a = u + f - b, (s = h + d - b) < 0 || s >= x || a < 0 || a >= y || (l = 4 * (s * y + a), c = v[d * m + f], t += g[l] * c, n += g[l + 1] * c, r += g[l + 2] * c, S || (i += g[l + 3] * c)); _[o] = t, _[o + 1] = n, _[o + 2] = r, _[o + 3] = S ? g[o + 3] : i } e.imageData = w }, getUniformLocations: function (e, t) { return { uMatrix: e.getUniformLocation(t, "uMatrix"), uOpaque: e.getUniformLocation(t, "uOpaque"), uHalfSize: e.getUniformLocation(t, "uHalfSize"), uSize: e.getUniformLocation(t, "uSize") } }, sendUniformData: function (e, t) { e.uniform1fv(t.uMatrix, this.matrix) }, toObject: function () { return n(this.callSuper("toObject"), { opaque: this.opaque, matrix: this.matrix }) } }), t.Image.filters.Convolute.fromObject = t.Image.filters.BaseFilter.fromObject }(t), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}), n = t.Image.filters, r = t.util.createClass; n.Grayscale = r(n.BaseFilter, { type: "Grayscale", fragmentSource: { average: "precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}", lightness: "precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}", luminosity: "precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}" }, mode: "average", mainParameter: "mode", applyTo2d: function (e) { var t, n, r = e.imageData.data, i = r.length, o = this.mode; for (t = 0; t < i; t += 4)"average" === o ? n = (r[t] + r[t + 1] + r[t + 2]) / 3 : "lightness" === o ? n = (Math.min(r[t], r[t + 1], r[t + 2]) + Math.max(r[t], r[t + 1], r[t + 2])) / 2 : "luminosity" === o && (n = .21 * r[t] + .72 * r[t + 1] + .07 * r[t + 2]), r[t] = n, r[t + 1] = n, r[t + 2] = n }, retrieveShader: function (e) { var t = this.type + "_" + this.mode; if (!e.programCache.hasOwnProperty(t)) { var n = this.fragmentSource[this.mode]; e.programCache[t] = this.createProgram(e.context, n) } return e.programCache[t] }, getUniformLocations: function (e, t) { return { uMode: e.getUniformLocation(t, "uMode") } }, sendUniformData: function (e, t) { e.uniform1i(t.uMode, 1) }, isNeutralState: function () { return !1 } }), t.Image.filters.Grayscale.fromObject = t.Image.filters.BaseFilter.fromObject }(t), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}), n = t.Image.filters, r = t.util.createClass; n.Invert = r(n.BaseFilter, { type: "Invert", fragmentSource: "precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}", invert: !0, mainParameter: "invert", applyTo2d: function (e) { var t, n = e.imageData.data, r = n.length; for (t = 0; t < r; t += 4)n[t] = 255 - n[t], n[t + 1] = 255 - n[t + 1], n[t + 2] = 255 - n[t + 2] }, isNeutralState: function () { return !this.invert }, getUniformLocations: function (e, t) { return { uInvert: e.getUniformLocation(t, "uInvert") } }, sendUniformData: function (e, t) { e.uniform1i(t.uInvert, this.invert) } }), t.Image.filters.Invert.fromObject = t.Image.filters.BaseFilter.fromObject }(t), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}), n = t.util.object.extend, r = t.Image.filters, i = t.util.createClass; r.Noise = i(r.BaseFilter, { type: "Noise", fragmentSource: "precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}", mainParameter: "noise", noise: 0, applyTo2d: function (e) { if (0 !== this.noise) { var t, n, r = e.imageData.data, i = r.length, o = this.noise; for (t = 0, i = r.length; t < i; t += 4)n = (.5 - Math.random()) * o, r[t] += n, r[t + 1] += n, r[t + 2] += n } }, getUniformLocations: function (e, t) { return { uNoise: e.getUniformLocation(t, "uNoise"), uSeed: e.getUniformLocation(t, "uSeed") } }, sendUniformData: function (e, t) { e.uniform1f(t.uNoise, this.noise / 255), e.uniform1f(t.uSeed, Math.random()) }, toObject: function () { return n(this.callSuper("toObject"), { noise: this.noise }) } }), t.Image.filters.Noise.fromObject = t.Image.filters.BaseFilter.fromObject }(t), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}), n = t.Image.filters, r = t.util.createClass; n.Pixelate = r(n.BaseFilter, { type: "Pixelate", blocksize: 4, mainParameter: "blocksize", fragmentSource: "precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}", applyTo2d: function (e) { var t, n, r, i, o, a, s, l, c, u, h, f = e.imageData, d = f.data, p = f.height, g = f.width; for (n = 0; n < p; n += this.blocksize)for (r = 0; r < g; r += this.blocksize)for (i = d[t = 4 * n * g + 4 * r], o = d[t + 1], a = d[t + 2], s = d[t + 3], u = Math.min(n + this.blocksize, p), h = Math.min(r + this.blocksize, g), l = n; l < u; l++)for (c = r; c < h; c++)d[t = 4 * l * g + 4 * c] = i, d[t + 1] = o, d[t + 2] = a, d[t + 3] = s }, isNeutralState: function () { return 1 === this.blocksize }, getUniformLocations: function (e, t) { return { uBlocksize: e.getUniformLocation(t, "uBlocksize"), uStepW: e.getUniformLocation(t, "uStepW"), uStepH: e.getUniformLocation(t, "uStepH") } }, sendUniformData: function (e, t) { e.uniform1f(t.uBlocksize, this.blocksize) } }), t.Image.filters.Pixelate.fromObject = t.Image.filters.BaseFilter.fromObject }(t), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}), n = t.util.object.extend, r = t.Image.filters, i = t.util.createClass; r.RemoveColor = i(r.BaseFilter, { type: "RemoveColor", color: "#FFFFFF", fragmentSource: "precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}", distance: .02, useAlpha: !1, applyTo2d: function (e) { var n, r, i, o, a = e.imageData.data, s = 255 * this.distance, l = new t.Color(this.color).getSource(), c = [l[0] - s, l[1] - s, l[2] - s], u = [l[0] + s, l[1] + s, l[2] + s]; for (n = 0; n < a.length; n += 4)r = a[n], i = a[n + 1], o = a[n + 2], r > c[0] && i > c[1] && o > c[2] && r < u[0] && i < u[1] && o < u[2] && (a[n + 3] = 0) }, getUniformLocations: function (e, t) { return { uLow: e.getUniformLocation(t, "uLow"), uHigh: e.getUniformLocation(t, "uHigh") } }, sendUniformData: function (e, n) { var r = new t.Color(this.color).getSource(), i = parseFloat(this.distance), o = [0 + r[0] / 255 - i, 0 + r[1] / 255 - i, 0 + r[2] / 255 - i, 1], a = [r[0] / 255 + i, r[1] / 255 + i, r[2] / 255 + i, 1]; e.uniform4fv(n.uLow, o), e.uniform4fv(n.uHigh, a) }, toObject: function () { return n(this.callSuper("toObject"), { color: this.color, distance: this.distance }) } }), t.Image.filters.RemoveColor.fromObject = t.Image.filters.BaseFilter.fromObject }(t), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}), n = t.Image.filters, r = t.util.createClass, i = { Brownie: [.5997, .34553, -.27082, 0, .186, -.0377, .86095, .15059, 0, -.1449, .24113, -.07441, .44972, 0, -.02965, 0, 0, 0, 1, 0], Vintage: [.62793, .32021, -.03965, 0, .03784, .02578, .64411, .03259, 0, .02926, .0466, -.08512, .52416, 0, .02023, 0, 0, 0, 1, 0], Kodachrome: [1.12855, -.39673, -.03992, 0, .24991, -.16404, 1.08352, -.05498, 0, .09698, -.16786, -.56034, 1.60148, 0, .13972, 0, 0, 0, 1, 0], Technicolor: [1.91252, -.85453, -.09155, 0, .04624, -.30878, 1.76589, -.10601, 0, -.27589, -.2311, -.75018, 1.84759, 0, .12137, 0, 0, 0, 1, 0], Polaroid: [1.438, -.062, -.062, 0, 0, -.122, 1.378, -.122, 0, 0, -.016, -.016, 1.483, 0, 0, 0, 0, 0, 1, 0], Sepia: [.393, .769, .189, 0, 0, .349, .686, .168, 0, 0, .272, .534, .131, 0, 0, 0, 0, 0, 1, 0], BlackWhite: [1.5, 1.5, 1.5, 0, -1, 1.5, 1.5, 1.5, 0, -1, 1.5, 1.5, 1.5, 0, -1, 0, 0, 0, 1, 0] }; for (var o in i) n[o] = r(n.ColorMatrix, { type: o, matrix: i[o], mainParameter: !1, colorsOnly: !0 }), t.Image.filters[o].fromObject = t.Image.filters.BaseFilter.fromObject }(t), function (e) { "use strict"; var t = e.fabric, n = t.Image.filters, r = t.util.createClass; n.BlendColor = r(n.BaseFilter, { type: "BlendColor", color: "#F95C63", mode: "multiply", alpha: 1, fragmentSource: { multiply: "gl_FragColor.rgb *= uColor.rgb;\n", screen: "gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n", add: "gl_FragColor.rgb += uColor.rgb;\n", diff: "gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n", subtract: "gl_FragColor.rgb -= uColor.rgb;\n", lighten: "gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n", darken: "gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n", exclusion: "gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n", overlay: "if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n", tint: "gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n" }, buildSource: function (e) { return "precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n" + this.fragmentSource[e] + "}\n}" }, retrieveShader: function (e) { var t, n = this.type + "_" + this.mode; return e.programCache.hasOwnProperty(n) || (t = this.buildSource(this.mode), e.programCache[n] = this.createProgram(e.context, t)), e.programCache[n] }, applyTo2d: function (e) { var n, r, i, o, a, s, l, c = e.imageData.data, u = c.length, h = 1 - this.alpha; n = (l = new t.Color(this.color).getSource())[0] * this.alpha, r = l[1] * this.alpha, i = l[2] * this.alpha; for (var f = 0; f < u; f += 4)switch (o = c[f], a = c[f + 1], s = c[f + 2], this.mode) { case "multiply": c[f] = o * n / 255, c[f + 1] = a * r / 255, c[f + 2] = s * i / 255; break; case "screen": c[f] = 255 - (255 - o) * (255 - n) / 255, c[f + 1] = 255 - (255 - a) * (255 - r) / 255, c[f + 2] = 255 - (255 - s) * (255 - i) / 255; break; case "add": c[f] = o + n, c[f + 1] = a + r, c[f + 2] = s + i; break; case "diff": case "difference": c[f] = Math.abs(o - n), c[f + 1] = Math.abs(a - r), c[f + 2] = Math.abs(s - i); break; case "subtract": c[f] = o - n, c[f + 1] = a - r, c[f + 2] = s - i; break; case "darken": c[f] = Math.min(o, n), c[f + 1] = Math.min(a, r), c[f + 2] = Math.min(s, i); break; case "lighten": c[f] = Math.max(o, n), c[f + 1] = Math.max(a, r), c[f + 2] = Math.max(s, i); break; case "overlay": c[f] = n < 128 ? 2 * o * n / 255 : 255 - 2 * (255 - o) * (255 - n) / 255, c[f + 1] = r < 128 ? 2 * a * r / 255 : 255 - 2 * (255 - a) * (255 - r) / 255, c[f + 2] = i < 128 ? 2 * s * i / 255 : 255 - 2 * (255 - s) * (255 - i) / 255; break; case "exclusion": c[f] = n + o - 2 * n * o / 255, c[f + 1] = r + a - 2 * r * a / 255, c[f + 2] = i + s - 2 * i * s / 255; break; case "tint": c[f] = n + o * h, c[f + 1] = r + a * h, c[f + 2] = i + s * h } }, getUniformLocations: function (e, t) { return { uColor: e.getUniformLocation(t, "uColor") } }, sendUniformData: function (e, n) { var r = new t.Color(this.color).getSource(); r[0] = this.alpha * r[0] / 255, r[1] = this.alpha * r[1] / 255, r[2] = this.alpha * r[2] / 255, r[3] = this.alpha, e.uniform4fv(n.uColor, r) }, toObject: function () { return { type: this.type, color: this.color, mode: this.mode, alpha: this.alpha } } }), t.Image.filters.BlendColor.fromObject = t.Image.filters.BaseFilter.fromObject }(t), function (e) { "use strict"; var t = e.fabric, n = t.Image.filters, r = t.util.createClass; n.BlendImage = r(n.BaseFilter, { type: "BlendImage", image: null, mode: "multiply", alpha: 1, vertexSource: "attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}", fragmentSource: { multiply: "precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}", mask: "precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}" }, retrieveShader: function (e) { var t = this.type + "_" + this.mode, n = this.fragmentSource[this.mode]; return e.programCache.hasOwnProperty(t) || (e.programCache[t] = this.createProgram(e.context, n)), e.programCache[t] }, applyToWebGL: function (e) { var t = e.context, n = this.createTexture(e.filterBackend, this.image); this.bindAdditionalTexture(t, n, t.TEXTURE1), this.callSuper("applyToWebGL", e), this.unbindAdditionalTexture(t, t.TEXTURE1) }, createTexture: function (e, t) { return e.getCachedTexture(t.cacheKey, t._element) }, calculateMatrix: function () { var e = this.image, t = e._element.width, n = e._element.height; return [1 / e.scaleX, 0, 0, 0, 1 / e.scaleY, 0, -e.left / t, -e.top / n, 1] }, applyTo2d: function (e) { var n, r, i, o, a, s, l, c, u, h, f, d = e.imageData, p = e.filterBackend.resources, g = d.data, v = g.length, m = d.width, b = d.height, y = this.image; p.blendImage || (p.blendImage = t.util.createCanvasElement()), h = (u = p.blendImage).getContext("2d"), u.width !== m || u.height !== b ? (u.width = m, u.height = b) : h.clearRect(0, 0, m, b), h.setTransform(y.scaleX, 0, 0, y.scaleY, y.left, y.top), h.drawImage(y._element, 0, 0, m, b), f = h.getImageData(0, 0, m, b).data; for (var x = 0; x < v; x += 4)switch (a = g[x], s = g[x + 1], l = g[x + 2], c = g[x + 3], n = f[x], r = f[x + 1], i = f[x + 2], o = f[x + 3], this.mode) { case "multiply": g[x] = a * n / 255, g[x + 1] = s * r / 255, g[x + 2] = l * i / 255, g[x + 3] = c * o / 255; break; case "mask": g[x + 3] = o } }, getUniformLocations: function (e, t) { return { uTransformMatrix: e.getUniformLocation(t, "uTransformMatrix"), uImage: e.getUniformLocation(t, "uImage") } }, sendUniformData: function (e, t) { var n = this.calculateMatrix(); e.uniform1i(t.uImage, 1), e.uniformMatrix3fv(t.uTransformMatrix, !1, n) }, toObject: function () { return { type: this.type, image: this.image && this.image.toObject(), mode: this.mode, alpha: this.alpha } } }), t.Image.filters.BlendImage.fromObject = function (e, n) { t.Image.fromObject(e.image, (function (r) { var i = t.util.object.clone(e); i.image = r, n(new t.Image.filters.BlendImage(i)) })) } }(t), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}), n = Math.pow, r = Math.floor, i = Math.sqrt, o = Math.abs, a = Math.round, s = Math.sin, l = Math.ceil, c = t.Image.filters, u = t.util.createClass; c.Resize = u(c.BaseFilter, { type: "Resize", resizeType: "hermite", scaleX: 1, scaleY: 1, lanczosLobes: 3, getUniformLocations: function (e, t) { return { uDelta: e.getUniformLocation(t, "uDelta"), uTaps: e.getUniformLocation(t, "uTaps") } }, sendUniformData: function (e, t) { e.uniform2fv(t.uDelta, this.horizontal ? [1 / this.width, 0] : [0, 1 / this.height]), e.uniform1fv(t.uTaps, this.taps) }, retrieveShader: function (e) { var t = this.getFilterWindow(), n = this.type + "_" + t; if (!e.programCache.hasOwnProperty(n)) { var r = this.generateShader(t); e.programCache[n] = this.createProgram(e.context, r) } return e.programCache[n] }, getFilterWindow: function () { var e = this.tempScale; return Math.ceil(this.lanczosLobes / e) }, getTaps: function () { for (var e = this.lanczosCreate(this.lanczosLobes), t = this.tempScale, n = this.getFilterWindow(), r = new Array(n), i = 1; i <= n; i++)r[i - 1] = e(i * t); return r }, generateShader: function (e) { for (var t = new Array(e), n = this.fragmentSourceTOP, r = 1; r <= e; r++)t[r - 1] = r + ".0 * uDelta"; return n += "uniform float uTaps[" + e + "];\n", n += "void main() {\n", n += "  vec4 color = texture2D(uTexture, vTexCoord);\n", n += "  float sum = 1.0;\n", t.forEach((function (e, t) { n += "  color += texture2D(uTexture, vTexCoord + " + e + ") * uTaps[" + t + "];\n", n += "  color += texture2D(uTexture, vTexCoord - " + e + ") * uTaps[" + t + "];\n", n += "  sum += 2.0 * uTaps[" + t + "];\n" })), n += "  gl_FragColor = color / sum;\n", n += "}" }, fragmentSourceTOP: "precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n", applyTo: function (e) { e.webgl ? (e.passes++, this.width = e.sourceWidth, this.horizontal = !0, this.dW = Math.round(this.width * this.scaleX), this.dH = e.sourceHeight, this.tempScale = this.dW / this.width, this.taps = this.getTaps(), e.destinationWidth = this.dW, this._setupFrameBuffer(e), this.applyToWebGL(e), this._swapTextures(e), e.sourceWidth = e.destinationWidth, this.height = e.sourceHeight, this.horizontal = !1, this.dH = Math.round(this.height * this.scaleY), this.tempScale = this.dH / this.height, this.taps = this.getTaps(), e.destinationHeight = this.dH, this._setupFrameBuffer(e), this.applyToWebGL(e), this._swapTextures(e), e.sourceHeight = e.destinationHeight) : this.applyTo2d(e) }, isNeutralState: function () { return 1 === this.scaleX && 1 === this.scaleY }, lanczosCreate: function (e) { return function (t) { if (t >= e || t <= -e) return 0; if (t < 1.1920929e-7 && t > -1.1920929e-7) return 1; var n = (t *= Math.PI) / e; return s(t) / t * s(n) / n } }, applyTo2d: function (e) { var t = e.imageData, n = this.scaleX, r = this.scaleY; this.rcpScaleX = 1 / n, this.rcpScaleY = 1 / r; var i, o = t.width, s = t.height, l = a(o * n), c = a(s * r); "sliceHack" === this.resizeType ? i = this.sliceByTwo(e, o, s, l, c) : "hermite" === this.resizeType ? i = this.hermiteFastResize(e, o, s, l, c) : "bilinear" === this.resizeType ? i = this.bilinearFiltering(e, o, s, l, c) : "lanczos" === this.resizeType && (i = this.lanczosResize(e, o, s, l, c)), e.imageData = i }, sliceByTwo: function (e, n, i, o, a) { var s, l, c = e.imageData, u = .5, h = !1, f = !1, d = n * u, p = i * u, g = t.filterBackend.resources, v = 0, m = 0, b = n, y = 0; for (g.sliceByTwo || (g.sliceByTwo = document.createElement("canvas")), ((s = g.sliceByTwo).width < 1.5 * n || s.height < i) && (s.width = 1.5 * n, s.height = i), (l = s.getContext("2d")).clearRect(0, 0, 1.5 * n, i), l.putImageData(c, 0, 0), o = r(o), a = r(a); !h || !f;)n = d, i = p, o < r(d * u) ? d = r(d * u) : (d = o, h = !0), a < r(p * u) ? p = r(p * u) : (p = a, f = !0), l.drawImage(s, v, m, n, i, b, y, d, p), v = b, m = y, y += p; return l.getImageData(v, m, o, a) }, lanczosResize: function (e, t, a, s, c) { var u = e.imageData.data, h = e.ctx.createImageData(s, c), f = h.data, d = this.lanczosCreate(this.lanczosLobes), p = this.rcpScaleX, g = this.rcpScaleY, v = 2 / this.rcpScaleX, m = 2 / this.rcpScaleY, b = l(p * this.lanczosLobes / 2), y = l(g * this.lanczosLobes / 2), x = {}, w = {}, _ = {}; return function e(l) { var S, C, O, k, j, E, T, P, A, M, D; for (w.x = (l + .5) * p, _.x = r(w.x), S = 0; S < c; S++) { for (w.y = (S + .5) * g, _.y = r(w.y), j = 0, E = 0, T = 0, P = 0, A = 0, C = _.x - b; C <= _.x + b; C++)if (!(C < 0 || C >= t)) { M = r(1e3 * o(C - w.x)), x[M] || (x[M] = {}); for (var I = _.y - y; I <= _.y + y; I++)I < 0 || I >= a || (D = r(1e3 * o(I - w.y)), x[M][D] || (x[M][D] = d(i(n(M * v, 2) + n(D * m, 2)) / 1e3)), (O = x[M][D]) > 0 && (j += O, E += O * u[k = 4 * (I * t + C)], T += O * u[k + 1], P += O * u[k + 2], A += O * u[k + 3])) } f[k = 4 * (S * s + l)] = E / j, f[k + 1] = T / j, f[k + 2] = P / j, f[k + 3] = A / j } return ++l < s ? e(l) : h }(0) }, bilinearFiltering: function (e, t, n, i, o) { var a, s, l, c, u, h, f, d, p, g = 0, v = this.rcpScaleX, m = this.rcpScaleY, b = 4 * (t - 1), y = e.imageData.data, x = e.ctx.createImageData(i, o), w = x.data; for (l = 0; l < o; l++)for (c = 0; c < i; c++)for (u = v * c - (a = r(v * c)), h = m * l - (s = r(m * l)), p = 4 * (s * t + a), f = 0; f < 4; f++)d = y[p + f] * (1 - u) * (1 - h) + y[p + 4 + f] * u * (1 - h) + y[p + b + f] * h * (1 - u) + y[p + b + 4 + f] * u * h, w[g++] = d; return x }, hermiteFastResize: function (e, t, n, a, s) { for (var c = this.rcpScaleX, u = this.rcpScaleY, h = l(c / 2), f = l(u / 2), d = e.imageData.data, p = e.ctx.createImageData(a, s), g = p.data, v = 0; v < s; v++)for (var m = 0; m < a; m++) { for (var b = 4 * (m + v * a), y = 0, x = 0, w = 0, _ = 0, S = 0, C = 0, O = 0, k = (v + .5) * u, j = r(v * u); j < (v + 1) * u; j++)for (var E = o(k - (j + .5)) / f, T = (m + .5) * c, P = E * E, A = r(m * c); A < (m + 1) * c; A++) { var M = o(T - (A + .5)) / h, D = i(P + M * M); D > 1 && D < -1 || (y = 2 * D * D * D - 3 * D * D + 1) > 0 && (O += y * d[(M = 4 * (A + j * t)) + 3], w += y, d[M + 3] < 255 && (y = y * d[M + 3] / 250), _ += y * d[M], S += y * d[M + 1], C += y * d[M + 2], x += y) } g[b] = _ / x, g[b + 1] = S / x, g[b + 2] = C / x, g[b + 3] = O / w } return p }, toObject: function () { return { type: this.type, scaleX: this.scaleX, scaleY: this.scaleY, resizeType: this.resizeType, lanczosLobes: this.lanczosLobes } } }), t.Image.filters.Resize.fromObject = t.Image.filters.BaseFilter.fromObject }(t), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}), n = t.Image.filters, r = t.util.createClass; n.Contrast = r(n.BaseFilter, { type: "Contrast", fragmentSource: "precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}", contrast: 0, mainParameter: "contrast", applyTo2d: function (e) { if (0 !== this.contrast) { var t, n = e.imageData.data, r = n.length, i = Math.floor(255 * this.contrast), o = 259 * (i + 255) / (255 * (259 - i)); for (t = 0; t < r; t += 4)n[t] = o * (n[t] - 128) + 128, n[t + 1] = o * (n[t + 1] - 128) + 128, n[t + 2] = o * (n[t + 2] - 128) + 128 } }, getUniformLocations: function (e, t) { return { uContrast: e.getUniformLocation(t, "uContrast") } }, sendUniformData: function (e, t) { e.uniform1f(t.uContrast, this.contrast) } }), t.Image.filters.Contrast.fromObject = t.Image.filters.BaseFilter.fromObject }(t), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}), n = t.Image.filters, r = t.util.createClass; n.Saturation = r(n.BaseFilter, { type: "Saturation", fragmentSource: "precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}", saturation: 0, mainParameter: "saturation", applyTo2d: function (e) { if (0 !== this.saturation) { var t, n, r = e.imageData.data, i = r.length, o = -this.saturation; for (t = 0; t < i; t += 4)n = Math.max(r[t], r[t + 1], r[t + 2]), r[t] += n !== r[t] ? (n - r[t]) * o : 0, r[t + 1] += n !== r[t + 1] ? (n - r[t + 1]) * o : 0, r[t + 2] += n !== r[t + 2] ? (n - r[t + 2]) * o : 0 } }, getUniformLocations: function (e, t) { return { uSaturation: e.getUniformLocation(t, "uSaturation") } }, sendUniformData: function (e, t) { e.uniform1f(t.uSaturation, -this.saturation) } }), t.Image.filters.Saturation.fromObject = t.Image.filters.BaseFilter.fromObject }(t), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}), n = t.Image.filters, r = t.util.createClass; n.Blur = r(n.BaseFilter, { type: "Blur", fragmentSource: "precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}", blur: 0, mainParameter: "blur", applyTo: function (e) { e.webgl ? (this.aspectRatio = e.sourceWidth / e.sourceHeight, e.passes++, this._setupFrameBuffer(e), this.horizontal = !0, this.applyToWebGL(e), this._swapTextures(e), this._setupFrameBuffer(e), this.horizontal = !1, this.applyToWebGL(e), this._swapTextures(e)) : this.applyTo2d(e) }, applyTo2d: function (e) { e.imageData = this.simpleBlur(e) }, simpleBlur: function (e) { var n, r, i = e.filterBackend.resources, o = e.imageData.width, a = e.imageData.height; i.blurLayer1 || (i.blurLayer1 = t.util.createCanvasElement(), i.blurLayer2 = t.util.createCanvasElement()), n = i.blurLayer1, r = i.blurLayer2, n.width === o && n.height === a || (r.width = n.width = o, r.height = n.height = a); var s, l, c, u, h = n.getContext("2d"), f = r.getContext("2d"), d = 15, p = .06 * this.blur * .5; for (h.putImageData(e.imageData, 0, 0), f.clearRect(0, 0, o, a), u = -15; u <= d; u++)c = p * (l = u / d) * o + (s = (Math.random() - .5) / 4), f.globalAlpha = 1 - Math.abs(l), f.drawImage(n, c, s), h.drawImage(r, 0, 0), f.globalAlpha = 1, f.clearRect(0, 0, r.width, r.height); for (u = -15; u <= d; u++)c = p * (l = u / d) * a + (s = (Math.random() - .5) / 4), f.globalAlpha = 1 - Math.abs(l), f.drawImage(n, s, c), h.drawImage(r, 0, 0), f.globalAlpha = 1, f.clearRect(0, 0, r.width, r.height); e.ctx.drawImage(n, 0, 0); var g = e.ctx.getImageData(0, 0, n.width, n.height); return h.globalAlpha = 1, h.clearRect(0, 0, n.width, n.height), g }, getUniformLocations: function (e, t) { return { delta: e.getUniformLocation(t, "uDelta") } }, sendUniformData: function (e, t) { var n = this.chooseRightDelta(); e.uniform2fv(t.delta, n) }, chooseRightDelta: function () { var e, t = 1, n = [0, 0]; return this.horizontal ? this.aspectRatio > 1 && (t = 1 / this.aspectRatio) : this.aspectRatio < 1 && (t = this.aspectRatio), e = t * this.blur * .12, this.horizontal ? n[0] = e : n[1] = e, n } }), n.Blur.fromObject = t.Image.filters.BaseFilter.fromObject }(t), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}), n = t.Image.filters, r = t.util.createClass; n.Gamma = r(n.BaseFilter, { type: "Gamma", fragmentSource: "precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}", gamma: [1, 1, 1], mainParameter: "gamma", initialize: function (e) { this.gamma = [1, 1, 1], n.BaseFilter.prototype.initialize.call(this, e) }, applyTo2d: function (e) { var t, n = e.imageData.data, r = this.gamma, i = n.length, o = 1 / r[0], a = 1 / r[1], s = 1 / r[2]; for (this.rVals || (this.rVals = new Uint8Array(256), this.gVals = new Uint8Array(256), this.bVals = new Uint8Array(256)), t = 0, i = 256; t < i; t++)this.rVals[t] = 255 * Math.pow(t / 255, o), this.gVals[t] = 255 * Math.pow(t / 255, a), this.bVals[t] = 255 * Math.pow(t / 255, s); for (t = 0, i = n.length; t < i; t += 4)n[t] = this.rVals[n[t]], n[t + 1] = this.gVals[n[t + 1]], n[t + 2] = this.bVals[n[t + 2]] }, getUniformLocations: function (e, t) { return { uGamma: e.getUniformLocation(t, "uGamma") } }, sendUniformData: function (e, t) { e.uniform3fv(t.uGamma, this.gamma) } }), t.Image.filters.Gamma.fromObject = t.Image.filters.BaseFilter.fromObject }(t), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}), n = t.Image.filters, r = t.util.createClass; n.Composed = r(n.BaseFilter, { type: "Composed", subFilters: [], initialize: function (e) { this.callSuper("initialize", e), this.subFilters = this.subFilters.slice(0) }, applyTo: function (e) { e.passes += this.subFilters.length - 1, this.subFilters.forEach((function (t) { t.applyTo(e) })) }, toObject: function () { return t.util.object.extend(this.callSuper("toObject"), { subFilters: this.subFilters.map((function (e) { return e.toObject() })) }) }, isNeutralState: function () { return !this.subFilters.some((function (e) { return !e.isNeutralState() })) } }), t.Image.filters.Composed.fromObject = function (e, n) { var r = (e.subFilters || []).map((function (e) { return new t.Image.filters[e.type](e) })), i = new t.Image.filters.Composed({ subFilters: r }); return n && n(i), i } }(t), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}), n = t.Image.filters, r = t.util.createClass; n.HueRotation = r(n.ColorMatrix, { type: "HueRotation", rotation: 0, mainParameter: "rotation", calculateMatrix: function () { var e = this.rotation * Math.PI, n = t.util.cos(e), r = t.util.sin(e), i = 1 / 3, o = Math.sqrt(i) * r, a = 1 - n; this.matrix = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0], this.matrix[0] = n + a / 3, this.matrix[1] = i * a - o, this.matrix[2] = i * a + o, this.matrix[5] = i * a + o, this.matrix[6] = n + i * a, this.matrix[7] = i * a - o, this.matrix[10] = i * a - o, this.matrix[11] = i * a + o, this.matrix[12] = n + i * a }, isNeutralState: function (e) { return this.calculateMatrix(), n.BaseFilter.prototype.isNeutralState.call(this, e) }, applyTo: function (e) { this.calculateMatrix(), n.BaseFilter.prototype.applyTo.call(this, e) } }), t.Image.filters.HueRotation.fromObject = t.Image.filters.BaseFilter.fromObject }(t), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}), n = t.util.object.clone; t.Text ? t.warn("fabric.Text is already defined") : (t.Text = t.util.createClass(t.Object, { _dimensionAffectingProps: ["fontSize", "fontWeight", "fontFamily", "fontStyle", "lineHeight", "text", "charSpacing", "textAlign", "styles"], _reNewline: /\r?\n/, _reSpacesAndTabs: /[ \t\r]/g, _reSpaceAndTab: /[ \t\r]/, _reWords: /\S+/g, type: "text", fontSize: 40, fontWeight: "normal", fontFamily: "Times New Roman", underline: !1, overline: !1, linethrough: !1, textAlign: "left", fontStyle: "normal", lineHeight: 1.16, superscript: { size: .6, baseline: -.35 }, subscript: { size: .6, baseline: .11 }, textBackgroundColor: "", stateProperties: t.Object.prototype.stateProperties.concat("fontFamily", "fontWeight", "fontSize", "text", "underline", "overline", "linethrough", "textAlign", "fontStyle", "lineHeight", "textBackgroundColor", "charSpacing", "styles"), cacheProperties: t.Object.prototype.cacheProperties.concat("fontFamily", "fontWeight", "fontSize", "text", "underline", "overline", "linethrough", "textAlign", "fontStyle", "lineHeight", "textBackgroundColor", "charSpacing", "styles"), stroke: null, shadow: null, _fontSizeFraction: .222, offsets: { underline: .1, linethrough: -.315, overline: -.88 }, _fontSizeMult: 1.13, charSpacing: 0, styles: null, _measuringContext: null, deltaY: 0, _styleProperties: ["stroke", "strokeWidth", "fill", "fontFamily", "fontSize", "fontWeight", "fontStyle", "underline", "overline", "linethrough", "deltaY", "textBackgroundColor"], __charBounds: [], CACHE_FONT_SIZE: 400, MIN_TEXT_WIDTH: 2, initialize: function (e, t) { this.styles = t && t.styles || {}, this.text = e, this.__skipDimension = !0, this.callSuper("initialize", t), this.__skipDimension = !1, this.initDimensions(), this.setCoords(), this.setupState({ propertySet: "_dimensionAffectingProps" }) }, getMeasuringContext: function () { return t._measuringContext || (t._measuringContext = this.canvas && this.canvas.contextCache || t.util.createCanvasElement().getContext("2d")), t._measuringContext }, _splitText: function () { var e = this._splitTextIntoLines(this.text); return this.textLines = e.lines, this._textLines = e.graphemeLines, this._unwrappedTextLines = e._unwrappedLines, this._text = e.graphemeText, e }, initDimensions: function () { this.__skipDimension || (this._splitText(), this._clearCache(), this.width = this.calcTextWidth() || this.cursorWidth || this.MIN_TEXT_WIDTH, -1 !== this.textAlign.indexOf("justify") && this.enlargeSpaces(), this.height = this.calcTextHeight(), this.saveState({ propertySet: "_dimensionAffectingProps" })) }, enlargeSpaces: function () { for (var e, t, n, r, i, o, a, s = 0, l = this._textLines.length; s < l; s++)if (("justify" === this.textAlign || s !== l - 1 && !this.isEndOfWrapping(s)) && (r = 0, i = this._textLines[s], (t = this.getLineWidth(s)) < this.width && (a = this.textLines[s].match(this._reSpacesAndTabs)))) { n = a.length, e = (this.width - t) / n; for (var c = 0, u = i.length; c <= u; c++)o = this.__charBounds[s][c], this._reSpaceAndTab.test(i[c]) ? (o.width += e, o.kernedWidth += e, o.left += r, r += e) : o.left += r } }, isEndOfWrapping: function (e) { return e === this._textLines.length - 1 }, missingNewlineOffset: function () { return 1 }, toString: function () { return "#<fabric.Text (" + this.complexity() + '): { "text": "' + this.text + '", "fontFamily": "' + this.fontFamily + '" }>' }, _getCacheCanvasDimensions: function () { var e = this.callSuper("_getCacheCanvasDimensions"), t = this.fontSize; return e.width += t * e.zoomX, e.height += t * e.zoomY, e }, _render: function (e) { this._setTextStyles(e), this._renderTextLinesBackground(e), this._renderTextDecoration(e, "underline"), this._renderText(e), this._renderTextDecoration(e, "overline"), this._renderTextDecoration(e, "linethrough") }, _renderText: function (e) { "stroke" === this.paintFirst ? (this._renderTextStroke(e), this._renderTextFill(e)) : (this._renderTextFill(e), this._renderTextStroke(e)) }, _setTextStyles: function (e, t, n) { e.textBaseline = "alphabetic", e.font = this._getFontDeclaration(t, n) }, calcTextWidth: function () { for (var e = this.getLineWidth(0), t = 1, n = this._textLines.length; t < n; t++) { var r = this.getLineWidth(t); r > e && (e = r) } return e }, _renderTextLine: function (e, t, n, r, i, o) { this._renderChars(e, t, n, r, i, o) }, _renderTextLinesBackground: function (e) { if (this.textBackgroundColor || this.styleHas("textBackgroundColor")) { for (var t, n, r, i, o, a, s = 0, l = e.fillStyle, c = this._getLeftOffset(), u = this._getTopOffset(), h = 0, f = 0, d = 0, p = this._textLines.length; d < p; d++)if (t = this.getHeightOfLine(d), this.textBackgroundColor || this.styleHas("textBackgroundColor", d)) { r = this._textLines[d], n = this._getLineLeftOffset(d), f = 0, h = 0, i = this.getValueOfPropertyAt(d, 0, "textBackgroundColor"); for (var g = 0, v = r.length; g < v; g++)o = this.__charBounds[d][g], (a = this.getValueOfPropertyAt(d, g, "textBackgroundColor")) !== i ? (e.fillStyle = i, i && e.fillRect(c + n + h, u + s, f, t / this.lineHeight), h = o.left, f = o.width, i = a) : f += o.kernedWidth; a && (e.fillStyle = a, e.fillRect(c + n + h, u + s, f, t / this.lineHeight)), s += t } else s += t; e.fillStyle = l, this._removeShadow(e) } }, getFontCache: function (e) { var n = e.fontFamily.toLowerCase(); t.charWidthsCache[n] || (t.charWidthsCache[n] = {}); var r = t.charWidthsCache[n], i = e.fontStyle.toLowerCase() + "_" + (e.fontWeight + "").toLowerCase(); return r[i] || (r[i] = {}), r[i] }, _applyCharStyles: function (e, t, n, r, i) { this._setFillStyles(t, i), this._setStrokeStyles(t, i), t.font = this._getFontDeclaration(i) }, _measureChar: function (e, t, n, r) { var i, o, a, s, l = this.getFontCache(t), c = n + e, u = this._getFontDeclaration(t) === this._getFontDeclaration(r), h = t.fontSize / this.CACHE_FONT_SIZE; if (n && void 0 !== l[n] && (a = l[n]), void 0 !== l[e] && (s = i = l[e]), u && void 0 !== l[c] && (s = (o = l[c]) - a), void 0 === i || void 0 === a || void 0 === o) { var f = this.getMeasuringContext(); this._setTextStyles(f, t, !0) } return void 0 === i && (s = i = f.measureText(e).width, l[e] = i), void 0 === a && u && n && (a = f.measureText(n).width, l[n] = a), u && void 0 === o && (o = f.measureText(c).width, l[c] = o, s = o - a), { width: i * h, kernedWidth: s * h } }, getHeightOfChar: function (e, t) { return this.getValueOfPropertyAt(e, t, "fontSize") }, measureLine: function (e) { var t = this._measureLine(e); return 0 !== this.charSpacing && (t.width -= this._getWidthOfCharSpacing()), t.width < 0 && (t.width = 0), t }, _measureLine: function (e) { var t, n, r, i, o = 0, a = this._textLines[e], s = new Array(a.length); for (this.__charBounds[e] = s, t = 0; t < a.length; t++)n = a[t], i = this._getGraphemeBox(n, e, t, r), s[t] = i, o += i.kernedWidth, r = n; return s[t] = { left: i ? i.left + i.width : 0, width: 0, kernedWidth: 0, height: this.fontSize }, { width: o, numOfSpaces: 0 } }, _getGraphemeBox: function (e, t, n, r, i) { var o, a = this.getCompleteStyleDeclaration(t, n), s = r ? this.getCompleteStyleDeclaration(t, n - 1) : {}, l = this._measureChar(e, a, r, s), c = l.kernedWidth, u = l.width; 0 !== this.charSpacing && (u += o = this._getWidthOfCharSpacing(), c += o); var h = { width: u, left: 0, height: a.fontSize, kernedWidth: c, deltaY: a.deltaY }; if (n > 0 && !i) { var f = this.__charBounds[t][n - 1]; h.left = f.left + f.width + l.kernedWidth - l.width } return h }, getHeightOfLine: function (e) { if (this.__lineHeights[e]) return this.__lineHeights[e]; for (var t = this._textLines[e], n = this.getHeightOfChar(e, 0), r = 1, i = t.length; r < i; r++)n = Math.max(this.getHeightOfChar(e, r), n); return this.__lineHeights[e] = n * this.lineHeight * this._fontSizeMult }, calcTextHeight: function () { for (var e, t = 0, n = 0, r = this._textLines.length; n < r; n++)e = this.getHeightOfLine(n), t += n === r - 1 ? e / this.lineHeight : e; return t }, _getLeftOffset: function () { return -this.width / 2 }, _getTopOffset: function () { return -this.height / 2 }, _applyPatternGradientTransform: function (e, t) { if (!t || !t.toLive) return { offsetX: 0, offsetY: 0 }; var n = -this.width / 2 + t.offsetX || 0, r = -this.height / 2 + t.offsetY || 0; return e.transform(1, 0, 0, 1, n, r), { offsetX: n, offsetY: r } }, _renderTextCommon: function (e, t) { e.save(); for (var n = 0, r = this._getLeftOffset(), i = this._getTopOffset(), o = this._applyPatternGradientTransform(e, "fillText" === t ? this.fill : this.stroke), a = 0, s = this._textLines.length; a < s; a++) { var l = this.getHeightOfLine(a), c = l / this.lineHeight, u = this._getLineLeftOffset(a); this._renderTextLine(t, e, this._textLines[a], r + u - o.offsetX, i + n + c - o.offsetY, a), n += l } e.restore() }, _renderTextFill: function (e) { (this.fill || this.styleHas("fill")) && this._renderTextCommon(e, "fillText") }, _renderTextStroke: function (e) { (this.stroke && 0 !== this.strokeWidth || !this.isEmptyStyles()) && (this.shadow && !this.shadow.affectStroke && this._removeShadow(e), e.save(), this._setLineDash(e, this.strokeDashArray), e.beginPath(), this._renderTextCommon(e, "strokeText"), e.closePath(), e.restore()) }, _renderChars: function (e, t, n, r, i, o) { var a, s, l, c, u = this.getHeightOfLine(o), h = -1 !== this.textAlign.indexOf("justify"), f = "", d = 0, p = !h && 0 === this.charSpacing && this.isEmptyStyles(o); if (t.save(), i -= u * this._fontSizeFraction / this.lineHeight, p) return this._renderChar(e, t, o, 0, this.textLines[o], r, i, u), void t.restore(); for (var g = 0, v = n.length - 1; g <= v; g++)c = g === v || this.charSpacing, f += n[g], l = this.__charBounds[o][g], 0 === d ? (r += l.kernedWidth - l.width, d += l.width) : d += l.kernedWidth, h && !c && this._reSpaceAndTab.test(n[g]) && (c = !0), c || (a = a || this.getCompleteStyleDeclaration(o, g), s = this.getCompleteStyleDeclaration(o, g + 1), c = this._hasStyleChanged(a, s)), c && (this._renderChar(e, t, o, g, f, r, i, u), f = "", a = s, r += d, d = 0); t.restore() }, _renderChar: function (e, t, n, r, i, o, a) { var s = this._getStyleDeclaration(n, r), l = this.getCompleteStyleDeclaration(n, r), c = "fillText" === e && l.fill, u = "strokeText" === e && l.stroke && l.strokeWidth; (u || c) && (s && t.save(), this._applyCharStyles(e, t, n, r, l), s && s.textBackgroundColor && this._removeShadow(t), s && s.deltaY && (a += s.deltaY), c && t.fillText(i, o, a), u && t.strokeText(i, o, a), s && t.restore()) }, setSuperscript: function (e, t) { return this._setScript(e, t, this.superscript) }, setSubscript: function (e, t) { return this._setScript(e, t, this.subscript) }, _setScript: function (e, t, n) { var r = this.get2DCursorLocation(e, !0), i = this.getValueOfPropertyAt(r.lineIndex, r.charIndex, "fontSize"), o = this.getValueOfPropertyAt(r.lineIndex, r.charIndex, "deltaY"), a = { fontSize: i * n.size, deltaY: o + i * n.baseline }; return this.setSelectionStyles(a, e, t), this }, _hasStyleChanged: function (e, t) { return e.fill !== t.fill || e.stroke !== t.stroke || e.strokeWidth !== t.strokeWidth || e.fontSize !== t.fontSize || e.fontFamily !== t.fontFamily || e.fontWeight !== t.fontWeight || e.fontStyle !== t.fontStyle || e.deltaY !== t.deltaY }, _hasStyleChangedForSvg: function (e, t) { return this._hasStyleChanged(e, t) || e.overline !== t.overline || e.underline !== t.underline || e.linethrough !== t.linethrough }, _getLineLeftOffset: function (e) { var t = this.getLineWidth(e); return "center" === this.textAlign ? (this.width - t) / 2 : "right" === this.textAlign ? this.width - t : "justify-center" === this.textAlign && this.isEndOfWrapping(e) ? (this.width - t) / 2 : "justify-right" === this.textAlign && this.isEndOfWrapping(e) ? this.width - t : 0 }, _clearCache: function () { this.__lineWidths = [], this.__lineHeights = [], this.__charBounds = [] }, _shouldClearDimensionCache: function () { var e = this._forceClearCache; return e || (e = this.hasStateChanged("_dimensionAffectingProps")), e && (this.dirty = !0, this._forceClearCache = !1), e }, getLineWidth: function (e) { return this.__lineWidths[e] ? this.__lineWidths[e] : (t = "" === this._textLines[e] ? 0 : this.measureLine(e).width, this.__lineWidths[e] = t, t); var t }, _getWidthOfCharSpacing: function () { return 0 !== this.charSpacing ? this.fontSize * this.charSpacing / 1e3 : 0 }, getValueOfPropertyAt: function (e, t, n) { var r = this._getStyleDeclaration(e, t); return r && "undefined" !== typeof r[n] ? r[n] : this[n] }, _renderTextDecoration: function (e, t) { if (this[t] || this.styleHas(t)) { for (var n, r, i, o, a, s, l, c, u, h, f, d, p, g, v, m, b = this._getLeftOffset(), y = this._getTopOffset(), x = this._getWidthOfCharSpacing(), w = 0, _ = this._textLines.length; w < _; w++)if (n = this.getHeightOfLine(w), this[t] || this.styleHas(t, w)) { l = this._textLines[w], g = n / this.lineHeight, o = this._getLineLeftOffset(w), h = 0, f = 0, c = this.getValueOfPropertyAt(w, 0, t), m = this.getValueOfPropertyAt(w, 0, "fill"), u = y + g * (1 - this._fontSizeFraction), r = this.getHeightOfChar(w, 0), a = this.getValueOfPropertyAt(w, 0, "deltaY"); for (var S = 0, C = l.length; S < C; S++)d = this.__charBounds[w][S], p = this.getValueOfPropertyAt(w, S, t), v = this.getValueOfPropertyAt(w, S, "fill"), i = this.getHeightOfChar(w, S), s = this.getValueOfPropertyAt(w, S, "deltaY"), (p !== c || v !== m || i !== r || s !== a) && f > 0 ? (e.fillStyle = m, c && m && e.fillRect(b + o + h, u + this.offsets[t] * r + a, f, this.fontSize / 15), h = d.left, f = d.width, c = p, m = v, r = i, a = s) : f += d.kernedWidth; e.fillStyle = v, p && v && e.fillRect(b + o + h, u + this.offsets[t] * r + a, f - x, this.fontSize / 15), y += n } else y += n; this._removeShadow(e) } }, _getFontDeclaration: function (e, n) { var r = e || this, i = this.fontFamily, o = t.Text.genericFonts.indexOf(i.toLowerCase()) > -1, a = void 0 === i || i.indexOf("'") > -1 || i.indexOf(",") > -1 || i.indexOf('"') > -1 || o ? r.fontFamily : '"' + r.fontFamily + '"'; return [t.isLikelyNode ? r.fontWeight : r.fontStyle, t.isLikelyNode ? r.fontStyle : r.fontWeight, n ? this.CACHE_FONT_SIZE + "px" : r.fontSize + "px", a].join(" ") }, render: function (e) { this.visible && (this.canvas && this.canvas.skipOffscreen && !this.group && !this.isOnScreen() || (this._shouldClearDimensionCache() && this.initDimensions(), this.callSuper("render", e))) }, _splitTextIntoLines: function (e) { for (var n = e.split(this._reNewline), r = new Array(n.length), i = ["\n"], o = [], a = 0; a < n.length; a++)r[a] = t.util.string.graphemeSplit(n[a]), o = o.concat(r[a], i); return o.pop(), { _unwrappedLines: r, lines: n, graphemeText: o, graphemeLines: r } }, toObject: function (e) { var t = ["text", "fontSize", "fontWeight", "fontFamily", "fontStyle", "lineHeight", "underline", "overline", "linethrough", "textAlign", "textBackgroundColor", "charSpacing"].concat(e), r = this.callSuper("toObject", t); return r.styles = n(this.styles, !0), r }, set: function (e, t) { this.callSuper("set", e, t); var n = !1; if ("object" === typeof e) for (var r in e) n = n || -1 !== this._dimensionAffectingProps.indexOf(r); else n = -1 !== this._dimensionAffectingProps.indexOf(e); return n && (this.initDimensions(), this.setCoords()), this }, complexity: function () { return 1 } }), t.Text.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")), t.Text.DEFAULT_SVG_FONT_SIZE = 16, t.Text.fromElement = function (e, r, i) { if (!e) return r(null); var o = t.parseAttributes(e, t.Text.ATTRIBUTE_NAMES), a = o.textAnchor || "left"; if ((i = t.util.object.extend(i ? n(i) : {}, o)).top = i.top || 0, i.left = i.left || 0, o.textDecoration) { var s = o.textDecoration; -1 !== s.indexOf("underline") && (i.underline = !0), -1 !== s.indexOf("overline") && (i.overline = !0), -1 !== s.indexOf("line-through") && (i.linethrough = !0), delete i.textDecoration } "dx" in o && (i.left += o.dx), "dy" in o && (i.top += o.dy), "fontSize" in i || (i.fontSize = t.Text.DEFAULT_SVG_FONT_SIZE); var l = ""; "textContent" in e ? l = e.textContent : "firstChild" in e && null !== e.firstChild && "data" in e.firstChild && null !== e.firstChild.data && (l = e.firstChild.data), l = l.replace(/^\s+|\s+$|\n+/g, "").replace(/\s+/g, " "); var c = i.strokeWidth; i.strokeWidth = 0; var u = new t.Text(l, i), h = u.getScaledHeight() / u.height, f = ((u.height + u.strokeWidth) * u.lineHeight - u.height) * h, d = u.getScaledHeight() + f, p = 0; "center" === a && (p = u.getScaledWidth() / 2), "right" === a && (p = u.getScaledWidth()), u.set({ left: u.left - p, top: u.top - (d - u.fontSize * (.07 + u._fontSizeFraction)) / u.lineHeight, strokeWidth: "undefined" !== typeof c ? c : 1 }), r(u) }, t.Text.fromObject = function (e, n) { return t.Object._fromObject("Text", e, n, "text") }, t.Text.genericFonts = ["sans-serif", "serif", "cursive", "fantasy", "monospace"], t.util.createAccessors && t.util.createAccessors(t.Text)) }(t), i.util.object.extend(i.Text.prototype, { isEmptyStyles: function (e) { if (!this.styles) return !0; if ("undefined" !== typeof e && !this.styles[e]) return !0; var t = "undefined" === typeof e ? this.styles : { line: this.styles[e] }; for (var n in t) for (var r in t[n]) for (var i in t[n][r]) return !1; return !0 }, styleHas: function (e, t) { if (!this.styles || !e || "" === e) return !1; if ("undefined" !== typeof t && !this.styles[t]) return !1; var n = "undefined" === typeof t ? this.styles : { 0: this.styles[t] }; for (var r in n) for (var i in n[r]) if ("undefined" !== typeof n[r][i][e]) return !0; return !1 }, cleanStyle: function (e) { if (!this.styles || !e || "" === e) return !1; var t, n, r = this.styles, i = 0, o = !0, a = 0; for (var s in r) { for (var l in t = 0, r[s]) { var c; i++, (c = r[s][l]).hasOwnProperty(e) ? (n ? c[e] !== n && (o = !1) : n = c[e], c[e] === this[e] && delete c[e]) : o = !1, 0 !== Object.keys(c).length ? t++ : delete r[s][l] } 0 === t && delete r[s] } for (var u = 0; u < this._textLines.length; u++)a += this._textLines[u].length; o && i === a && (this[e] = n, this.removeStyle(e)) }, removeStyle: function (e) { if (this.styles && e && "" !== e) { var t, n, r, i = this.styles; for (n in i) { for (r in t = i[n]) delete t[r][e], 0 === Object.keys(t[r]).length && delete t[r]; 0 === Object.keys(t).length && delete i[n] } } }, _extendStyles: function (e, t) { var n = this.get2DCursorLocation(e); this._getLineStyle(n.lineIndex) || this._setLineStyle(n.lineIndex), this._getStyleDeclaration(n.lineIndex, n.charIndex) || this._setStyleDeclaration(n.lineIndex, n.charIndex, {}), i.util.object.extend(this._getStyleDeclaration(n.lineIndex, n.charIndex), t) }, get2DCursorLocation: function (e, t) { "undefined" === typeof e && (e = this.selectionStart); for (var n = t ? this._unwrappedTextLines : this._textLines, r = n.length, i = 0; i < r; i++) { if (e <= n[i].length) return { lineIndex: i, charIndex: e }; e -= n[i].length + this.missingNewlineOffset(i) } return { lineIndex: i - 1, charIndex: n[i - 1].length < e ? n[i - 1].length : e } }, getSelectionStyles: function (e, t, n) { "undefined" === typeof e && (e = this.selectionStart || 0), "undefined" === typeof t && (t = this.selectionEnd || e); for (var r = [], i = e; i < t; i++)r.push(this.getStyleAtPosition(i, n)); return r }, getStyleAtPosition: function (e, t) { var n = this.get2DCursorLocation(e); return (t ? this.getCompleteStyleDeclaration(n.lineIndex, n.charIndex) : this._getStyleDeclaration(n.lineIndex, n.charIndex)) || {} }, setSelectionStyles: function (e, t, n) { "undefined" === typeof t && (t = this.selectionStart || 0), "undefined" === typeof n && (n = this.selectionEnd || t); for (var r = t; r < n; r++)this._extendStyles(r, e); return this._forceClearCache = !0, this }, _getStyleDeclaration: function (e, t) { var n = this.styles && this.styles[e]; return n ? n[t] : null }, getCompleteStyleDeclaration: function (e, t) { for (var n, r = this._getStyleDeclaration(e, t) || {}, i = {}, o = 0; o < this._styleProperties.length; o++)i[n = this._styleProperties[o]] = "undefined" === typeof r[n] ? this[n] : r[n]; return i }, _setStyleDeclaration: function (e, t, n) { this.styles[e][t] = n }, _deleteStyleDeclaration: function (e, t) { delete this.styles[e][t] }, _getLineStyle: function (e) { return !!this.styles[e] }, _setLineStyle: function (e) { this.styles[e] = {} }, _deleteLineStyle: function (e) { delete this.styles[e] } }), function () { function e(e) { e.textDecoration && (e.textDecoration.indexOf("underline") > -1 && (e.underline = !0), e.textDecoration.indexOf("line-through") > -1 && (e.linethrough = !0), e.textDecoration.indexOf("overline") > -1 && (e.overline = !0), delete e.textDecoration) } i.IText = i.util.createClass(i.Text, i.Observable, { type: "i-text", selectionStart: 0, selectionEnd: 0, selectionColor: "rgba(17,119,255,0.3)", isEditing: !1, editable: !0, editingBorderColor: "rgba(102,153,255,0.25)", cursorWidth: 2, cursorColor: "#333", cursorDelay: 1e3, cursorDuration: 600, caching: !0, _reSpace: /\s|\n/, _currentCursorOpacity: 0, _selectionDirection: null, _abortCursorAnimation: !1, __widthOfSpace: [], inCompositionMode: !1, initialize: function (e, t) { this.callSuper("initialize", e, t), this.initBehavior() }, setSelectionStart: function (e) { e = Math.max(e, 0), this._updateAndFire("selectionStart", e) }, setSelectionEnd: function (e) { e = Math.min(e, this.text.length), this._updateAndFire("selectionEnd", e) }, _updateAndFire: function (e, t) { this[e] !== t && (this._fireSelectionChanged(), this[e] = t), this._updateTextarea() }, _fireSelectionChanged: function () { this.fire("selection:changed"), this.canvas && this.canvas.fire("text:selection:changed", { target: this }) }, initDimensions: function () { this.isEditing && this.initDelayedCursor(), this.clearContextTop(), this.callSuper("initDimensions") }, render: function (e) { this.clearContextTop(), this.callSuper("render", e), this.cursorOffsetCache = {}, this.renderCursorOrSelection() }, _render: function (e) { this.callSuper("_render", e) }, clearContextTop: function (e) { if (this.isEditing && this.canvas && this.canvas.contextTop) { var t = this.canvas.contextTop, n = this.canvas.viewportTransform; t.save(), t.transform(n[0], n[1], n[2], n[3], n[4], n[5]), this.transform(t), this.transformMatrix && t.transform.apply(t, this.transformMatrix), this._clearTextArea(t), e || t.restore() } }, renderCursorOrSelection: function () { if (this.isEditing && this.canvas && this.canvas.contextTop) { var e = this._getCursorBoundaries(), t = this.canvas.contextTop; this.clearContextTop(!0), this.selectionStart === this.selectionEnd ? this.renderCursor(e, t) : this.renderSelection(e, t), t.restore() } }, _clearTextArea: function (e) { var t = this.width + 4, n = this.height + 4; e.clearRect(-t / 2, -n / 2, t, n) }, _getCursorBoundaries: function (e) { "undefined" === typeof e && (e = this.selectionStart); var t = this._getLeftOffset(), n = this._getTopOffset(), r = this._getCursorBoundariesOffsets(e); return { left: t, top: n, leftOffset: r.left, topOffset: r.top } }, _getCursorBoundariesOffsets: function (e) { if (this.cursorOffsetCache && "top" in this.cursorOffsetCache) return this.cursorOffsetCache; var t, n, r, i, o = 0, a = 0, s = this.get2DCursorLocation(e); r = s.charIndex, n = s.lineIndex; for (var l = 0; l < n; l++)o += this.getHeightOfLine(l); t = this._getLineLeftOffset(n); var c = this.__charBounds[n][r]; return c && (a = c.left), 0 !== this.charSpacing && r === this._textLines[n].length && (a -= this._getWidthOfCharSpacing()), i = { top: o, left: t + (a > 0 ? a : 0) }, this.cursorOffsetCache = i, this.cursorOffsetCache }, renderCursor: function (e, t) { var n = this.get2DCursorLocation(), r = n.lineIndex, i = n.charIndex > 0 ? n.charIndex - 1 : 0, o = this.getValueOfPropertyAt(r, i, "fontSize"), a = this.scaleX * this.canvas.getZoom(), s = this.cursorWidth / a, l = e.topOffset, c = this.getValueOfPropertyAt(r, i, "deltaY"); l += (1 - this._fontSizeFraction) * this.getHeightOfLine(r) / this.lineHeight - o * (1 - this._fontSizeFraction), this.inCompositionMode && this.renderSelection(e, t), t.fillStyle = this.getValueOfPropertyAt(r, i, "fill"), t.globalAlpha = this.__isMousedown ? 1 : this._currentCursorOpacity, t.fillRect(e.left + e.leftOffset - s / 2, l + e.top + c, s, o) }, renderSelection: function (e, t) { for (var n = this.inCompositionMode ? this.hiddenTextarea.selectionStart : this.selectionStart, r = this.inCompositionMode ? this.hiddenTextarea.selectionEnd : this.selectionEnd, i = -1 !== this.textAlign.indexOf("justify"), o = this.get2DCursorLocation(n), a = this.get2DCursorLocation(r), s = o.lineIndex, l = a.lineIndex, c = o.charIndex < 0 ? 0 : o.charIndex, u = a.charIndex < 0 ? 0 : a.charIndex, h = s; h <= l; h++) { var f, d = this._getLineLeftOffset(h) || 0, p = this.getHeightOfLine(h), g = 0, v = 0; if (h === s && (g = this.__charBounds[s][c].left), h >= s && h < l) v = i && !this.isEndOfWrapping(h) ? this.width : this.getLineWidth(h) || 5; else if (h === l) if (0 === u) v = this.__charBounds[l][u].left; else { var m = this._getWidthOfCharSpacing(); v = this.__charBounds[l][u - 1].left + this.__charBounds[l][u - 1].width - m } f = p, (this.lineHeight < 1 || h === l && this.lineHeight > 1) && (p /= this.lineHeight), this.inCompositionMode ? (t.fillStyle = this.compositionColor || "black", t.fillRect(e.left + d + g, e.top + e.topOffset + p, v - g, 1)) : (t.fillStyle = this.selectionColor, t.fillRect(e.left + d + g, e.top + e.topOffset, v - g, p)), e.topOffset += f } }, getCurrentCharFontSize: function () { var e = this._getCurrentCharIndex(); return this.getValueOfPropertyAt(e.l, e.c, "fontSize") }, getCurrentCharColor: function () { var e = this._getCurrentCharIndex(); return this.getValueOfPropertyAt(e.l, e.c, "fill") }, _getCurrentCharIndex: function () { var e = this.get2DCursorLocation(this.selectionStart, !0), t = e.charIndex > 0 ? e.charIndex - 1 : 0; return { l: e.lineIndex, c: t } } }), i.IText.fromObject = function (t, n) { if (e(t), t.styles) for (var r in t.styles) for (var o in t.styles[r]) e(t.styles[r][o]); i.Object._fromObject("IText", t, n, "text") } }(), function () { var e = i.util.object.clone; i.util.object.extend(i.IText.prototype, { initBehavior: function () { this.initAddedHandler(), this.initRemovedHandler(), this.initCursorSelectionHandlers(), this.initDoubleClickSimulation(), this.mouseMoveHandler = this.mouseMoveHandler.bind(this) }, onDeselect: function () { this.isEditing && this.exitEditing(), this.selected = !1 }, initAddedHandler: function () { var e = this; this.on("added", (function () { var t = e.canvas; t && (t._hasITextHandlers || (t._hasITextHandlers = !0, e._initCanvasHandlers(t)), t._iTextInstances = t._iTextInstances || [], t._iTextInstances.push(e)) })) }, initRemovedHandler: function () { var e = this; this.on("removed", (function () { var t = e.canvas; t && (t._iTextInstances = t._iTextInstances || [], i.util.removeFromArray(t._iTextInstances, e), 0 === t._iTextInstances.length && (t._hasITextHandlers = !1, e._removeCanvasHandlers(t))) })) }, _initCanvasHandlers: function (e) { e._mouseUpITextHandler = function () { e._iTextInstances && e._iTextInstances.forEach((function (e) { e.__isMousedown = !1 })) }, e.on("mouse:up", e._mouseUpITextHandler) }, _removeCanvasHandlers: function (e) { e.off("mouse:up", e._mouseUpITextHandler) }, _tick: function () { this._currentTickState = this._animateCursor(this, 1, this.cursorDuration, "_onTickComplete") }, _animateCursor: function (e, t, n, r) { var i; return i = { isAborted: !1, abort: function () { this.isAborted = !0 } }, e.animate("_currentCursorOpacity", t, { duration: n, onComplete: function () { i.isAborted || e[r]() }, onChange: function () { e.canvas && e.selectionStart === e.selectionEnd && e.renderCursorOrSelection() }, abort: function () { return i.isAborted } }), i }, _onTickComplete: function () { var e = this; this._cursorTimeout1 && clearTimeout(this._cursorTimeout1), this._cursorTimeout1 = setTimeout((function () { e._currentTickCompleteState = e._animateCursor(e, 0, this.cursorDuration / 2, "_tick") }), 100) }, initDelayedCursor: function (e) { var t = this, n = e ? 0 : this.cursorDelay; this.abortCursorAnimation(), this._currentCursorOpacity = 1, this._cursorTimeout2 = setTimeout((function () { t._tick() }), n) }, abortCursorAnimation: function () { var e = this._currentTickState || this._currentTickCompleteState, t = this.canvas; this._currentTickState && this._currentTickState.abort(), this._currentTickCompleteState && this._currentTickCompleteState.abort(), clearTimeout(this._cursorTimeout1), clearTimeout(this._cursorTimeout2), this._currentCursorOpacity = 0, e && t && t.clearContext(t.contextTop || t.contextContainer) }, selectAll: function () { return this.selectionStart = 0, this.selectionEnd = this._text.length, this._fireSelectionChanged(), this._updateTextarea(), this }, getSelectedText: function () { return this._text.slice(this.selectionStart, this.selectionEnd).join("") }, findWordBoundaryLeft: function (e) { var t = 0, n = e - 1; if (this._reSpace.test(this._text[n])) for (; this._reSpace.test(this._text[n]);)t++, n--; for (; /\S/.test(this._text[n]) && n > -1;)t++, n--; return e - t }, findWordBoundaryRight: function (e) { var t = 0, n = e; if (this._reSpace.test(this._text[n])) for (; this._reSpace.test(this._text[n]);)t++, n++; for (; /\S/.test(this._text[n]) && n < this._text.length;)t++, n++; return e + t }, findLineBoundaryLeft: function (e) { for (var t = 0, n = e - 1; !/\n/.test(this._text[n]) && n > -1;)t++, n--; return e - t }, findLineBoundaryRight: function (e) { for (var t = 0, n = e; !/\n/.test(this._text[n]) && n < this._text.length;)t++, n++; return e + t }, searchWordBoundary: function (e, t) { for (var n = this._text, r = this._reSpace.test(n[e]) ? e - 1 : e, o = n[r], a = i.reNonWord; !a.test(o) && r > 0 && r < n.length;)o = n[r += t]; return a.test(o) && (r += 1 === t ? 0 : 1), r }, selectWord: function (e) { e = e || this.selectionStart; var t = this.searchWordBoundary(e, -1), n = this.searchWordBoundary(e, 1); this.selectionStart = t, this.selectionEnd = n, this._fireSelectionChanged(), this._updateTextarea(), this.renderCursorOrSelection() }, selectLine: function (e) { e = e || this.selectionStart; var t = this.findLineBoundaryLeft(e), n = this.findLineBoundaryRight(e); return this.selectionStart = t, this.selectionEnd = n, this._fireSelectionChanged(), this._updateTextarea(), this }, enterEditing: function (e) { if (!this.isEditing && this.editable) return this.canvas && (this.canvas.calcOffset(), this.exitEditingOnOthers(this.canvas)), this.isEditing = !0, this.initHiddenTextarea(e), this.hiddenTextarea.focus(), this.hiddenTextarea.value = this.text, this._updateTextarea(), this._saveEditingProps(), this._setEditingProps(), this._textBeforeEdit = this.text, this._tick(), this.fire("editing:entered"), this._fireSelectionChanged(), this.canvas ? (this.canvas.fire("text:editing:entered", { target: this }), this.initMouseMoveHandler(), this.canvas.requestRenderAll(), this) : this }, exitEditingOnOthers: function (e) { e._iTextInstances && e._iTextInstances.forEach((function (e) { e.selected = !1, e.isEditing && e.exitEditing() })) }, initMouseMoveHandler: function () { this.canvas.on("mouse:move", this.mouseMoveHandler) }, mouseMoveHandler: function (e) { if (this.__isMousedown && this.isEditing) { var t = this.getSelectionStartFromPointer(e.e), n = this.selectionStart, r = this.selectionEnd; (t === this.__selectionStartOnMouseDown && n !== r || n !== t && r !== t) && (t > this.__selectionStartOnMouseDown ? (this.selectionStart = this.__selectionStartOnMouseDown, this.selectionEnd = t) : (this.selectionStart = t, this.selectionEnd = this.__selectionStartOnMouseDown), this.selectionStart === n && this.selectionEnd === r || (this.restartCursorIfNeeded(), this._fireSelectionChanged(), this._updateTextarea(), this.renderCursorOrSelection())) } }, _setEditingProps: function () { this.hoverCursor = "text", this.canvas && (this.canvas.defaultCursor = this.canvas.moveCursor = "text"), this.borderColor = this.editingBorderColor, this.hasControls = this.selectable = !1, this.lockMovementX = this.lockMovementY = !0 }, fromStringToGraphemeSelection: function (e, t, n) { var r = n.slice(0, e), o = i.util.string.graphemeSplit(r).length; if (e === t) return { selectionStart: o, selectionEnd: o }; var a = n.slice(e, t); return { selectionStart: o, selectionEnd: o + i.util.string.graphemeSplit(a).length } }, fromGraphemeToStringSelection: function (e, t, n) { var r = n.slice(0, e).join("").length; return e === t ? { selectionStart: r, selectionEnd: r } : { selectionStart: r, selectionEnd: r + n.slice(e, t).join("").length } }, _updateTextarea: function () { if (this.cursorOffsetCache = {}, this.hiddenTextarea) { if (!this.inCompositionMode) { var e = this.fromGraphemeToStringSelection(this.selectionStart, this.selectionEnd, this._text); this.hiddenTextarea.selectionStart = e.selectionStart, this.hiddenTextarea.selectionEnd = e.selectionEnd } this.updateTextareaPosition() } }, updateFromTextArea: function () { if (this.hiddenTextarea) { this.cursorOffsetCache = {}, this.text = this.hiddenTextarea.value, this._shouldClearDimensionCache() && (this.initDimensions(), this.setCoords()); var e = this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart, this.hiddenTextarea.selectionEnd, this.hiddenTextarea.value); this.selectionEnd = this.selectionStart = e.selectionEnd, this.inCompositionMode || (this.selectionStart = e.selectionStart), this.updateTextareaPosition() } }, updateTextareaPosition: function () { if (this.selectionStart === this.selectionEnd) { var e = this._calcTextareaPosition(); this.hiddenTextarea.style.left = e.left, this.hiddenTextarea.style.top = e.top } }, _calcTextareaPosition: function () { if (!this.canvas) return { x: 1, y: 1 }; var e = this.inCompositionMode ? this.compositionStart : this.selectionStart, t = this._getCursorBoundaries(e), n = this.get2DCursorLocation(e), r = n.lineIndex, o = n.charIndex, a = this.getValueOfPropertyAt(r, o, "fontSize") * this.lineHeight, s = t.leftOffset, l = this.calcTransformMatrix(), c = { x: t.left + s, y: t.top + t.topOffset + a }, u = this.canvas.getRetinaScaling(), h = this.canvas.upperCanvasEl, f = h.width / u, d = h.height / u, p = f - a, g = d - a, v = h.clientWidth / f, m = h.clientHeight / d; return c = i.util.transformPoint(c, l), (c = i.util.transformPoint(c, this.canvas.viewportTransform)).x *= v, c.y *= m, c.x < 0 && (c.x = 0), c.x > p && (c.x = p), c.y < 0 && (c.y = 0), c.y > g && (c.y = g), c.x += this.canvas._offset.left, c.y += this.canvas._offset.top, { left: c.x + "px", top: c.y + "px", fontSize: a + "px", charHeight: a } }, _saveEditingProps: function () { this._savedProps = { hasControls: this.hasControls, borderColor: this.borderColor, lockMovementX: this.lockMovementX, lockMovementY: this.lockMovementY, hoverCursor: this.hoverCursor, selectable: this.selectable, defaultCursor: this.canvas && this.canvas.defaultCursor, moveCursor: this.canvas && this.canvas.moveCursor } }, _restoreEditingProps: function () { this._savedProps && (this.hoverCursor = this._savedProps.hoverCursor, this.hasControls = this._savedProps.hasControls, this.borderColor = this._savedProps.borderColor, this.selectable = this._savedProps.selectable, this.lockMovementX = this._savedProps.lockMovementX, this.lockMovementY = this._savedProps.lockMovementY, this.canvas && (this.canvas.defaultCursor = this._savedProps.defaultCursor, this.canvas.moveCursor = this._savedProps.moveCursor)) }, exitEditing: function () { var e = this._textBeforeEdit !== this.text, t = this.hiddenTextarea; return this.selected = !1, this.isEditing = !1, this.selectionEnd = this.selectionStart, t && (t.blur && t.blur(), t.parentNode && t.parentNode.removeChild(t)), this.hiddenTextarea = null, this.abortCursorAnimation(), this._restoreEditingProps(), this._currentCursorOpacity = 0, this._shouldClearDimensionCache() && (this.initDimensions(), this.setCoords()), this.fire("editing:exited"), e && this.fire("modified"), this.canvas && (this.canvas.off("mouse:move", this.mouseMoveHandler), this.canvas.fire("text:editing:exited", { target: this }), e && this.canvas.fire("object:modified", { target: this })), this }, _removeExtraneousStyles: function () { for (var e in this.styles) this._textLines[e] || delete this.styles[e] }, removeStyleFromTo: function (e, t) { var n, r, i = this.get2DCursorLocation(e, !0), o = this.get2DCursorLocation(t, !0), a = i.lineIndex, s = i.charIndex, l = o.lineIndex, c = o.charIndex; if (a !== l) { if (this.styles[a]) for (n = s; n < this._unwrappedTextLines[a].length; n++)delete this.styles[a][n]; if (this.styles[l]) for (n = c; n < this._unwrappedTextLines[l].length; n++)(r = this.styles[l][n]) && (this.styles[a] || (this.styles[a] = {}), this.styles[a][s + n - c] = r); for (n = a + 1; n <= l; n++)delete this.styles[n]; this.shiftLineStyles(l, a - l) } else if (this.styles[a]) { r = this.styles[a]; var u, h, f = c - s; for (n = s; n < c; n++)delete r[n]; for (h in this.styles[a]) (u = parseInt(h, 10)) >= c && (r[u - f] = r[h], delete r[h]) } }, shiftLineStyles: function (t, n) { var r = e(this.styles); for (var i in this.styles) { var o = parseInt(i, 10); o > t && (this.styles[o + n] = r[o], r[o - n] || delete this.styles[o]) } }, restartCursorIfNeeded: function () { this._currentTickState && !this._currentTickState.isAborted && this._currentTickCompleteState && !this._currentTickCompleteState.isAborted || this.initDelayedCursor() }, insertNewlineStyleObject: function (t, n, r, i) { var o, a = {}, s = !1, l = this._unwrappedTextLines[t].length === n; for (var c in r || (r = 1), this.shiftLineStyles(t, r), this.styles[t] && (o = this.styles[t][0 === n ? n : n - 1]), this.styles[t]) { var u = parseInt(c, 10); u >= n && (s = !0, a[u - n] = this.styles[t][c], l && 0 === n || delete this.styles[t][c]) } var h = !1; for (s && !l && (this.styles[t + r] = a, h = !0), h && r--; r > 0;)i && i[r - 1] ? this.styles[t + r] = { 0: e(i[r - 1]) } : o ? this.styles[t + r] = { 0: e(o) } : delete this.styles[t + r], r--; this._forceClearCache = !0 }, insertCharStyleObject: function (t, n, r, i) { this.styles || (this.styles = {}); var o = this.styles[t], a = o ? e(o) : {}; for (var s in r || (r = 1), a) { var l = parseInt(s, 10); l >= n && (o[l + r] = a[l], a[l - r] || delete o[l]) } if (this._forceClearCache = !0, i) for (; r--;)Object.keys(i[r]).length && (this.styles[t] || (this.styles[t] = {}), this.styles[t][n + r] = e(i[r])); else if (o) for (var c = o[n ? n - 1 : 1]; c && r--;)this.styles[t][n + r] = e(c) }, insertNewStyleBlock: function (e, t, n) { for (var r = this.get2DCursorLocation(t, !0), i = [0], o = 0, a = 0; a < e.length; a++)"\n" === e[a] ? i[++o] = 0 : i[o]++; i[0] > 0 && (this.insertCharStyleObject(r.lineIndex, r.charIndex, i[0], n), n = n && n.slice(i[0] + 1)), o && this.insertNewlineStyleObject(r.lineIndex, r.charIndex + i[0], o); for (a = 1; a < o; a++)i[a] > 0 ? this.insertCharStyleObject(r.lineIndex + a, 0, i[a], n) : n && (this.styles[r.lineIndex + a][0] = n[0]), n = n && n.slice(i[a] + 1); i[a] > 0 && this.insertCharStyleObject(r.lineIndex + a, 0, i[a], n) }, setSelectionStartEndWithShift: function (e, t, n) { n <= e ? (t === e ? this._selectionDirection = "left" : "right" === this._selectionDirection && (this._selectionDirection = "left", this.selectionEnd = e), this.selectionStart = n) : n > e && n < t ? "right" === this._selectionDirection ? this.selectionEnd = n : this.selectionStart = n : (t === e ? this._selectionDirection = "right" : "left" === this._selectionDirection && (this._selectionDirection = "right", this.selectionStart = t), this.selectionEnd = n) }, setSelectionInBoundaries: function () { var e = this.text.length; this.selectionStart > e ? this.selectionStart = e : this.selectionStart < 0 && (this.selectionStart = 0), this.selectionEnd > e ? this.selectionEnd = e : this.selectionEnd < 0 && (this.selectionEnd = 0) } }) }(), i.util.object.extend(i.IText.prototype, { initDoubleClickSimulation: function () { this.__lastClickTime = +new Date, this.__lastLastClickTime = +new Date, this.__lastPointer = {}, this.on("mousedown", this.onMouseDown) }, onMouseDown: function (e) { if (this.canvas) { this.__newClickTime = +new Date; var t = e.pointer; this.isTripleClick(t) && (this.fire("tripleclick", e), this._stopEvent(e.e)), this.__lastLastClickTime = this.__lastClickTime, this.__lastClickTime = this.__newClickTime, this.__lastPointer = t, this.__lastIsEditing = this.isEditing, this.__lastSelected = this.selected } }, isTripleClick: function (e) { return this.__newClickTime - this.__lastClickTime < 500 && this.__lastClickTime - this.__lastLastClickTime < 500 && this.__lastPointer.x === e.x && this.__lastPointer.y === e.y }, _stopEvent: function (e) { e.preventDefault && e.preventDefault(), e.stopPropagation && e.stopPropagation() }, initCursorSelectionHandlers: function () { this.initMousedownHandler(), this.initMouseupHandler(), this.initClicks() }, doubleClickHandler: function (e) { this.isEditing && this.selectWord(this.getSelectionStartFromPointer(e.e)) }, tripleClickHandler: function (e) { this.isEditing && this.selectLine(this.getSelectionStartFromPointer(e.e)) }, initClicks: function () { this.on("mousedblclick", this.doubleClickHandler), this.on("tripleclick", this.tripleClickHandler) }, _mouseDownHandler: function (e) { !this.canvas || !this.editable || e.e.button && 1 !== e.e.button || (this.__isMousedown = !0, this.selected && this.setCursorByClick(e.e), this.isEditing && (this.__selectionStartOnMouseDown = this.selectionStart, this.selectionStart === this.selectionEnd && this.abortCursorAnimation(), this.renderCursorOrSelection())) }, _mouseDownHandlerBefore: function (e) { !this.canvas || !this.editable || e.e.button && 1 !== e.e.button || (this.selected = this === this.canvas._activeObject) }, initMousedownHandler: function () { this.on("mousedown", this._mouseDownHandler), this.on("mousedown:before", this._mouseDownHandlerBefore) }, initMouseupHandler: function () { this.on("mouseup", this.mouseUpHandler) }, mouseUpHandler: function (e) { if (this.__isMousedown = !1, !(!this.editable || this.group || e.transform && e.transform.actionPerformed || e.e.button && 1 !== e.e.button)) { if (this.canvas) { var t = this.canvas._activeObject; if (t && t !== this) return } this.__lastSelected && !this.__corner ? (this.selected = !1, this.__lastSelected = !1, this.enterEditing(e.e), this.selectionStart === this.selectionEnd ? this.initDelayedCursor(!0) : this.renderCursorOrSelection()) : this.selected = !0 } }, setCursorByClick: function (e) { var t = this.getSelectionStartFromPointer(e), n = this.selectionStart, r = this.selectionEnd; e.shiftKey ? this.setSelectionStartEndWithShift(n, r, t) : (this.selectionStart = t, this.selectionEnd = t), this.isEditing && (this._fireSelectionChanged(), this._updateTextarea()) }, getSelectionStartFromPointer: function (e) { for (var t = this.getLocalPointer(e), n = 0, r = 0, i = 0, o = 0, a = 0, s = 0, l = this._textLines.length; s < l && i <= t.y; s++)i += this.getHeightOfLine(s) * this.scaleY, a = s, s > 0 && (o += this._textLines[s - 1].length + this.missingNewlineOffset(s - 1)); r = this._getLineLeftOffset(a) * this.scaleX; for (var c = 0, u = this._textLines[a].length; c < u && (n = r, (r += this.__charBounds[a][c].kernedWidth * this.scaleX) <= t.x); c++)o++; return this._getNewSelectionStartFromOffset(t, n, r, o, u) }, _getNewSelectionStartFromOffset: function (e, t, n, r, i) { var o = e.x - t, a = n - e.x, s = r + (a > o || a < 0 ? 0 : 1); return this.flipX && (s = i - s), s > this._text.length && (s = this._text.length), s } }), i.util.object.extend(i.IText.prototype, { initHiddenTextarea: function () { this.hiddenTextarea = i.document.createElement("textarea"), this.hiddenTextarea.setAttribute("autocapitalize", "off"), this.hiddenTextarea.setAttribute("autocorrect", "off"), this.hiddenTextarea.setAttribute("autocomplete", "off"), this.hiddenTextarea.setAttribute("spellcheck", "false"), this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea", ""), this.hiddenTextarea.setAttribute("wrap", "off"); var e = this._calcTextareaPosition(); this.hiddenTextarea.style.cssText = "position: absolute; top: " + e.top + "; left: " + e.left + "; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uff70top: " + e.fontSize + ";", i.document.body.appendChild(this.hiddenTextarea), i.util.addListener(this.hiddenTextarea, "keydown", this.onKeyDown.bind(this)), i.util.addListener(this.hiddenTextarea, "keyup", this.onKeyUp.bind(this)), i.util.addListener(this.hiddenTextarea, "input", this.onInput.bind(this)), i.util.addListener(this.hiddenTextarea, "copy", this.copy.bind(this)), i.util.addListener(this.hiddenTextarea, "cut", this.copy.bind(this)), i.util.addListener(this.hiddenTextarea, "paste", this.paste.bind(this)), i.util.addListener(this.hiddenTextarea, "compositionstart", this.onCompositionStart.bind(this)), i.util.addListener(this.hiddenTextarea, "compositionupdate", this.onCompositionUpdate.bind(this)), i.util.addListener(this.hiddenTextarea, "compositionend", this.onCompositionEnd.bind(this)), !this._clickHandlerInitialized && this.canvas && (i.util.addListener(this.canvas.upperCanvasEl, "click", this.onClick.bind(this)), this._clickHandlerInitialized = !0) }, keysMap: { 9: "exitEditing", 27: "exitEditing", 33: "moveCursorUp", 34: "moveCursorDown", 35: "moveCursorRight", 36: "moveCursorLeft", 37: "moveCursorLeft", 38: "moveCursorUp", 39: "moveCursorRight", 40: "moveCursorDown" }, ctrlKeysMapUp: { 67: "copy", 88: "cut" }, ctrlKeysMapDown: { 65: "selectAll" }, onClick: function () { this.hiddenTextarea && this.hiddenTextarea.focus() }, onKeyDown: function (e) { if (this.isEditing && !this.inCompositionMode) { if (e.keyCode in this.keysMap) this[this.keysMap[e.keyCode]](e); else { if (!(e.keyCode in this.ctrlKeysMapDown) || !e.ctrlKey && !e.metaKey) return; this[this.ctrlKeysMapDown[e.keyCode]](e) } e.stopImmediatePropagation(), e.preventDefault(), e.keyCode >= 33 && e.keyCode <= 40 ? (this.clearContextTop(), this.renderCursorOrSelection()) : this.canvas && this.canvas.requestRenderAll() } }, onKeyUp: function (e) { !this.isEditing || this._copyDone || this.inCompositionMode ? this._copyDone = !1 : e.keyCode in this.ctrlKeysMapUp && (e.ctrlKey || e.metaKey) && (this[this.ctrlKeysMapUp[e.keyCode]](e), e.stopImmediatePropagation(), e.preventDefault(), this.canvas && this.canvas.requestRenderAll()) }, onInput: function (e) { var t = this.fromPaste; if (this.fromPaste = !1, e && e.stopPropagation(), this.isEditing) { var n, r, o, a, s = this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText, l = this._text.length, c = s.length, u = c - l, h = this.selectionStart, f = this.selectionEnd, d = h !== f; if ("" === this.hiddenTextarea.value) return this.styles = {}, this.updateFromTextArea(), this.fire("changed"), void (this.canvas && (this.canvas.fire("text:changed", { target: this }), this.canvas.requestRenderAll())); var p, g = this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart, this.hiddenTextarea.selectionEnd, this.hiddenTextarea.value), v = h > g.selectionStart; d ? (n = this._text.slice(h, f), u += f - h) : c < l && (n = v ? this._text.slice(f + u, f) : this._text.slice(h, h - u)), r = s.slice(g.selectionEnd - u, g.selectionEnd), n && n.length && (r.length && (p = this.getSelectionStyles(h, h + 1, !0), p = r.map((function () { return p[0] }))), d ? (o = h, a = f) : v ? (o = f - n.length, a = f) : (o = f, a = f + n.length), this.removeStyleFromTo(o, a)), r.length && (t && r.join("") === i.copiedText && !i.disableStyleCopyPaste && (p = i.copiedTextStyle), this.insertNewStyleBlock(r, h, p)), this.updateFromTextArea(), this.fire("changed"), this.canvas && (this.canvas.fire("text:changed", { target: this }), this.canvas.requestRenderAll()) } }, onCompositionStart: function () { this.inCompositionMode = !0 }, onCompositionEnd: function () { this.inCompositionMode = !1 }, onCompositionUpdate: function (e) { this.compositionStart = e.target.selectionStart, this.compositionEnd = e.target.selectionEnd, this.updateTextareaPosition() }, copy: function () { this.selectionStart !== this.selectionEnd && (i.copiedText = this.getSelectedText(), i.disableStyleCopyPaste ? i.copiedTextStyle = null : i.copiedTextStyle = this.getSelectionStyles(this.selectionStart, this.selectionEnd, !0), this._copyDone = !0) }, paste: function () { this.fromPaste = !0 }, _getClipboardData: function (e) { return e && e.clipboardData || i.window.clipboardData }, _getWidthBeforeCursor: function (e, t) { var n, r = this._getLineLeftOffset(e); return t > 0 && (r += (n = this.__charBounds[e][t - 1]).left + n.width), r }, getDownCursorOffset: function (e, t) { var n = this._getSelectionForOffset(e, t), r = this.get2DCursorLocation(n), i = r.lineIndex; if (i === this._textLines.length - 1 || e.metaKey || 34 === e.keyCode) return this._text.length - n; var o = r.charIndex, a = this._getWidthBeforeCursor(i, o), s = this._getIndexOnLine(i + 1, a); return this._textLines[i].slice(o).length + s + 1 + this.missingNewlineOffset(i) }, _getSelectionForOffset: function (e, t) { return e.shiftKey && this.selectionStart !== this.selectionEnd && t ? this.selectionEnd : this.selectionStart }, getUpCursorOffset: function (e, t) { var n = this._getSelectionForOffset(e, t), r = this.get2DCursorLocation(n), i = r.lineIndex; if (0 === i || e.metaKey || 33 === e.keyCode) return -n; var o = r.charIndex, a = this._getWidthBeforeCursor(i, o), s = this._getIndexOnLine(i - 1, a), l = this._textLines[i].slice(0, o), c = this.missingNewlineOffset(i - 1); return -this._textLines[i - 1].length + s - l.length + (1 - c) }, _getIndexOnLine: function (e, t) { for (var n, r, i = this._textLines[e], o = this._getLineLeftOffset(e), a = 0, s = 0, l = i.length; s < l; s++)if ((o += n = this.__charBounds[e][s].width) > t) { r = !0; var c = o - n, u = o, h = Math.abs(c - t); a = Math.abs(u - t) < h ? s : s - 1; break } return r || (a = i.length - 1), a }, moveCursorDown: function (e) { this.selectionStart >= this._text.length && this.selectionEnd >= this._text.length || this._moveCursorUpOrDown("Down", e) }, moveCursorUp: function (e) { 0 === this.selectionStart && 0 === this.selectionEnd || this._moveCursorUpOrDown("Up", e) }, _moveCursorUpOrDown: function (e, t) { var n = this["get" + e + "CursorOffset"](t, "right" === this._selectionDirection); t.shiftKey ? this.moveCursorWithShift(n) : this.moveCursorWithoutShift(n), 0 !== n && (this.setSelectionInBoundaries(), this.abortCursorAnimation(), this._currentCursorOpacity = 1, this.initDelayedCursor(), this._fireSelectionChanged(), this._updateTextarea()) }, moveCursorWithShift: function (e) { var t = "left" === this._selectionDirection ? this.selectionStart + e : this.selectionEnd + e; return this.setSelectionStartEndWithShift(this.selectionStart, this.selectionEnd, t), 0 !== e }, moveCursorWithoutShift: function (e) { return e < 0 ? (this.selectionStart += e, this.selectionEnd = this.selectionStart) : (this.selectionEnd += e, this.selectionStart = this.selectionEnd), 0 !== e }, moveCursorLeft: function (e) { 0 === this.selectionStart && 0 === this.selectionEnd || this._moveCursorLeftOrRight("Left", e) }, _move: function (e, t, n) { var r; if (e.altKey) r = this["findWordBoundary" + n](this[t]); else { if (!e.metaKey && 35 !== e.keyCode && 36 !== e.keyCode) return this[t] += "Left" === n ? -1 : 1, !0; r = this["findLineBoundary" + n](this[t]) } if (void 0 !== typeof r && this[t] !== r) return this[t] = r, !0 }, _moveLeft: function (e, t) { return this._move(e, t, "Left") }, _moveRight: function (e, t) { return this._move(e, t, "Right") }, moveCursorLeftWithoutShift: function (e) { var t = !0; return this._selectionDirection = "left", this.selectionEnd === this.selectionStart && 0 !== this.selectionStart && (t = this._moveLeft(e, "selectionStart")), this.selectionEnd = this.selectionStart, t }, moveCursorLeftWithShift: function (e) { return "right" === this._selectionDirection && this.selectionStart !== this.selectionEnd ? this._moveLeft(e, "selectionEnd") : 0 !== this.selectionStart ? (this._selectionDirection = "left", this._moveLeft(e, "selectionStart")) : void 0 }, moveCursorRight: function (e) { this.selectionStart >= this._text.length && this.selectionEnd >= this._text.length || this._moveCursorLeftOrRight("Right", e) }, _moveCursorLeftOrRight: function (e, t) { var n = "moveCursor" + e + "With"; this._currentCursorOpacity = 1, t.shiftKey ? n += "Shift" : n += "outShift", this[n](t) && (this.abortCursorAnimation(), this.initDelayedCursor(), this._fireSelectionChanged(), this._updateTextarea()) }, moveCursorRightWithShift: function (e) { return "left" === this._selectionDirection && this.selectionStart !== this.selectionEnd ? this._moveRight(e, "selectionStart") : this.selectionEnd !== this._text.length ? (this._selectionDirection = "right", this._moveRight(e, "selectionEnd")) : void 0 }, moveCursorRightWithoutShift: function (e) { var t = !0; return this._selectionDirection = "right", this.selectionStart === this.selectionEnd ? (t = this._moveRight(e, "selectionStart"), this.selectionEnd = this.selectionStart) : this.selectionStart = this.selectionEnd, t }, removeChars: function (e, t) { "undefined" === typeof t && (t = e + 1), this.removeStyleFromTo(e, t), this._text.splice(e, t - e), this.text = this._text.join(""), this.set("dirty", !0), this._shouldClearDimensionCache() && (this.initDimensions(), this.setCoords()), this._removeExtraneousStyles() }, insertChars: function (e, t, n, r) { "undefined" === typeof r && (r = n), r > n && this.removeStyleFromTo(n, r); var o = i.util.string.graphemeSplit(e); this.insertNewStyleBlock(o, n, t), this._text = [].concat(this._text.slice(0, n), o, this._text.slice(r)), this.text = this._text.join(""), this.set("dirty", !0), this._shouldClearDimensionCache() && (this.initDimensions(), this.setCoords()), this._removeExtraneousStyles() } }), function () { var e = i.util.toFixed, t = /  +/g; i.util.object.extend(i.Text.prototype, { _toSVG: function () { var e = this._getSVGLeftTopOffsets(), t = this._getSVGTextAndBg(e.textTop, e.textLeft); return this._wrapSVGTextAndBg(t) }, toSVG: function (e) { return this._createBaseSVGMarkup(this._toSVG(), { reviver: e, noStyle: !0, withShadow: !0 }) }, _getSVGLeftTopOffsets: function () { return { textLeft: -this.width / 2, textTop: -this.height / 2, lineTop: this.getHeightOfLine(0) } }, _wrapSVGTextAndBg: function (e) { var t = this.getSvgTextDecoration(this); return [e.textBgRects.join(""), '\t\t<text xml:space="preserve" ', this.fontFamily ? 'font-family="' + this.fontFamily.replace(/"/g, "'") + '" ' : "", this.fontSize ? 'font-size="' + this.fontSize + '" ' : "", this.fontStyle ? 'font-style="' + this.fontStyle + '" ' : "", this.fontWeight ? 'font-weight="' + this.fontWeight + '" ' : "", t ? 'text-decoration="' + t + '" ' : "", 'style="', this.getSvgStyles(!0), '"', this.addPaintOrder(), " >", e.textSpans.join(""), "</text>\n"] }, _getSVGTextAndBg: function (e, t) { var n, r = [], i = [], o = e; this._setSVGBg(i); for (var a = 0, s = this._textLines.length; a < s; a++)n = this._getLineLeftOffset(a), (this.textBackgroundColor || this.styleHas("textBackgroundColor", a)) && this._setSVGTextLineBg(i, a, t + n, o), this._setSVGTextLineText(r, a, t + n, o), o += this.getHeightOfLine(a); return { textSpans: r, textBgRects: i } }, _createTextCharSpan: function (n, r, o, a) { var s = n !== n.trim() || n.match(t), l = this.getSvgSpanStyles(r, s), c = l ? 'style="' + l + '"' : "", u = r.deltaY, h = "", f = i.Object.NUM_FRACTION_DIGITS; return u && (h = ' dy="' + e(u, f) + '" '), ['<tspan x="', e(o, f), '" y="', e(a, f), '" ', h, c, ">", i.util.string.escapeXml(n), "</tspan>"].join("") }, _setSVGTextLineText: function (e, t, n, r) { var i, o, a, s, l, c = this.getHeightOfLine(t), u = -1 !== this.textAlign.indexOf("justify"), h = "", f = 0, d = this._textLines[t]; r += c * (1 - this._fontSizeFraction) / this.lineHeight; for (var p = 0, g = d.length - 1; p <= g; p++)l = p === g || this.charSpacing, h += d[p], a = this.__charBounds[t][p], 0 === f ? (n += a.kernedWidth - a.width, f += a.width) : f += a.kernedWidth, u && !l && this._reSpaceAndTab.test(d[p]) && (l = !0), l || (i = i || this.getCompleteStyleDeclaration(t, p), o = this.getCompleteStyleDeclaration(t, p + 1), l = this._hasStyleChangedForSvg(i, o)), l && (s = this._getStyleDeclaration(t, p) || {}, e.push(this._createTextCharSpan(h, s, n, r)), h = "", i = o, n += f, f = 0) }, _pushTextBgRect: function (t, n, r, o, a, s) { var l = i.Object.NUM_FRACTION_DIGITS; t.push("\t\t<rect ", this._getFillAttributes(n), ' x="', e(r, l), '" y="', e(o, l), '" width="', e(a, l), '" height="', e(s, l), '"></rect>\n') }, _setSVGTextLineBg: function (e, t, n, r) { for (var i, o, a = this._textLines[t], s = this.getHeightOfLine(t) / this.lineHeight, l = 0, c = 0, u = this.getValueOfPropertyAt(t, 0, "textBackgroundColor"), h = 0, f = a.length; h < f; h++)i = this.__charBounds[t][h], (o = this.getValueOfPropertyAt(t, h, "textBackgroundColor")) !== u ? (u && this._pushTextBgRect(e, u, n + c, r, l, s), c = i.left, l = i.width, u = o) : l += i.kernedWidth; o && this._pushTextBgRect(e, o, n + c, r, l, s) }, _getFillAttributes: function (e) { var t = e && "string" === typeof e ? new i.Color(e) : ""; return t && t.getSource() && 1 !== t.getAlpha() ? 'opacity="' + t.getAlpha() + '" fill="' + t.setAlpha(1).toRgb() + '"' : 'fill="' + e + '"' }, _getSVGLineTopOffset: function (e) { for (var t, n = 0, r = 0; r < e; r++)n += this.getHeightOfLine(r); return t = this.getHeightOfLine(r), { lineTop: n, offset: (this._fontSizeMult - this._fontSizeFraction) * t / (this.lineHeight * this._fontSizeMult) } }, getSvgStyles: function (e) { return i.Object.prototype.getSvgStyles.call(this, e) + " white-space: pre;" } }) }(), function (e) { "use strict"; var t = e.fabric || (e.fabric = {}); t.Textbox = t.util.createClass(t.IText, t.Observable, { type: "textbox", minWidth: 20, dynamicMinWidth: 2, __cachedLines: null, lockScalingFlip: !0, noScaleCache: !1, _dimensionAffectingProps: t.Text.prototype._dimensionAffectingProps.concat("width"), _wordJoiners: /[ \t\r]/, splitByGrapheme: !1, initDimensions: function () { this.__skipDimension || (this.isEditing && this.initDelayedCursor(), this.clearContextTop(), this._clearCache(), this.dynamicMinWidth = 0, this._styleMap = this._generateStyleMap(this._splitText()), this.dynamicMinWidth > this.width && this._set("width", this.dynamicMinWidth), -1 !== this.textAlign.indexOf("justify") && this.enlargeSpaces(), this.height = this.calcTextHeight(), this.saveState({ propertySet: "_dimensionAffectingProps" })) }, _generateStyleMap: function (e) { for (var t = 0, n = 0, r = 0, i = {}, o = 0; o < e.graphemeLines.length; o++)"\n" === e.graphemeText[r] && o > 0 ? (n = 0, r++, t++) : !this.splitByGrapheme && this._reSpaceAndTab.test(e.graphemeText[r]) && o > 0 && (n++, r++), i[o] = { line: t, offset: n }, r += e.graphemeLines[o].length, n += e.graphemeLines[o].length; return i }, styleHas: function (e, n) { if (this._styleMap && !this.isWrapping) { var r = this._styleMap[n]; r && (n = r.line) } return t.Text.prototype.styleHas.call(this, e, n) }, isEmptyStyles: function (e) { if (!this.styles) return !0; var t, n, r = 0, i = !1, o = this._styleMap[e], a = this._styleMap[e + 1]; for (var s in o && (e = o.line, r = o.offset), a && (i = a.line === e, t = a.offset), n = "undefined" === typeof e ? this.styles : { line: this.styles[e] }) for (var l in n[s]) if (l >= r && (!i || l < t)) for (var c in n[s][l]) return !1; return !0 }, _getStyleDeclaration: function (e, t) { if (this._styleMap && !this.isWrapping) { var n = this._styleMap[e]; if (!n) return null; e = n.line, t = n.offset + t } return this.callSuper("_getStyleDeclaration", e, t) }, _setStyleDeclaration: function (e, t, n) { var r = this._styleMap[e]; e = r.line, t = r.offset + t, this.styles[e][t] = n }, _deleteStyleDeclaration: function (e, t) { var n = this._styleMap[e]; e = n.line, t = n.offset + t, delete this.styles[e][t] }, _getLineStyle: function (e) { var t = this._styleMap[e]; return !!this.styles[t.line] }, _setLineStyle: function (e) { var t = this._styleMap[e]; this.styles[t.line] = {} }, _wrapText: function (e, t) { var n, r = []; for (this.isWrapping = !0, n = 0; n < e.length; n++)r = r.concat(this._wrapLine(e[n], n, t)); return this.isWrapping = !1, r }, _measureWord: function (e, t, n) { var r, i = 0; n = n || 0; for (var o = 0, a = e.length; o < a; o++) { i += this._getGraphemeBox(e[o], t, o + n, r, true).kernedWidth, r = e[o] } return i }, _wrapLine: function (e, n, r, i) { var o = 0, a = this.splitByGrapheme, s = [], l = [], c = a ? t.util.string.graphemeSplit(e) : e.split(this._wordJoiners), u = "", h = 0, f = a ? "" : " ", d = 0, p = 0, g = 0, v = !0, m = a ? 0 : this._getWidthOfCharSpacing(); i = i || 0; 0 === c.length && c.push([]), r -= i; for (var b = 0; b < c.length; b++)u = a ? c[b] : t.util.string.graphemeSplit(c[b]), d = this._measureWord(u, n, h), h += u.length, (o += p + d - m) >= r && !v ? (s.push(l), l = [], o = d, v = !0) : o += m, v || a || l.push(f), l = l.concat(u), p = this._measureWord([f], n, h), h++, v = !1, d > g && (g = d); return b && s.push(l), g + i > this.dynamicMinWidth && (this.dynamicMinWidth = g - m + i), s }, isEndOfWrapping: function (e) { return !this._styleMap[e + 1] || this._styleMap[e + 1].line !== this._styleMap[e].line }, missingNewlineOffset: function (e) { return this.splitByGrapheme ? this.isEndOfWrapping(e) ? 1 : 0 : 1 }, _splitTextIntoLines: function (e) { for (var n = t.Text.prototype._splitTextIntoLines.call(this, e), r = this._wrapText(n.lines, this.width), i = new Array(r.length), o = 0; o < r.length; o++)i[o] = r[o].join(""); return n.lines = i, n.graphemeLines = r, n }, getMinWidth: function () { return Math.max(this.minWidth, this.dynamicMinWidth) }, _removeExtraneousStyles: function () { var e = {}; for (var t in this._styleMap) this._textLines[t] && (e[this._styleMap[t].line] = 1); for (var t in this.styles) e[t] || delete this.styles[t] }, toObject: function (e) { return this.callSuper("toObject", ["minWidth", "splitByGrapheme"].concat(e)) } }), t.Textbox.fromObject = function (e, n) { return t.Object._fromObject("Textbox", e, n, "text") } }(t) }, 908: function (e, t, n) { var r = n(8136)(n(7009), "DataView"); e.exports = r }, 9676: function (e, t, n) { var r = n(5403), i = n(2747), o = n(6037), a = n(4154), s = n(7728); function l(e) { var t = -1, n = null == e ? 0 : e.length; for (this.clear(); ++t < n;) { var r = e[t]; this.set(r[0], r[1]) } } l.prototype.clear = r, l.prototype.delete = i, l.prototype.get = o, l.prototype.has = a, l.prototype.set = s, e.exports = l }, 8384: function (e, t, n) { var r = n(3894), i = n(8699), o = n(4957), a = n(7184), s = n(7109); function l(e) { var t = -1, n = null == e ? 0 : e.length; for (this.clear(); ++t < n;) { var r = e[t]; this.set(r[0], r[1]) } } l.prototype.clear = r, l.prototype.delete = i, l.prototype.get = o, l.prototype.has = a, l.prototype.set = s, e.exports = l }, 5797: function (e, t, n) { var r = n(8136)(n(7009), "Map"); e.exports = r }, 8059: function (e, t, n) { var r = n(4086), i = n(9255), o = n(9186), a = n(3423), s = n(3739); function l(e) { var t = -1, n = null == e ? 0 : e.length; for (this.clear(); ++t < n;) { var r = e[t]; this.set(r[0], r[1]) } } l.prototype.clear = r, l.prototype.delete = i, l.prototype.get = o, l.prototype.has = a, l.prototype.set = s, e.exports = l }, 8319: function (e, t, n) { var r = n(8136)(n(7009), "Promise"); e.exports = r }, 3924: function (e, t, n) { var r = n(8136)(n(7009), "Set"); e.exports = r }, 692: function (e, t, n) { var r = n(8059), i = n(5774), o = n(1596); function a(e) { var t = -1, n = null == e ? 0 : e.length; for (this.__data__ = new r; ++t < n;)this.add(e[t]) } a.prototype.add = a.prototype.push = i, a.prototype.has = o, e.exports = a }, 2854: function (e, t, n) { var r = n(8384), i = n(511), o = n(835), a = n(707), s = n(8832), l = n(5077); function c(e) { var t = this.__data__ = new r(e); this.size = t.size } c.prototype.clear = i, c.prototype.delete = o, c.prototype.get = a, c.prototype.has = s, c.prototype.set = l, e.exports = c }, 7197: function (e, t, n) { var r = n(7009).Symbol; e.exports = r }, 6219: function (e, t, n) { var r = n(7009).Uint8Array; e.exports = r }, 7091: function (e, t, n) { var r = n(8136)(n(7009), "WeakMap"); e.exports = r }, 4550: function (e) { e.exports = function (e, t) { for (var n = -1, r = null == e ? 0 : e.length; ++n < r && !1 !== t(e[n], n, e);); return e } }, 4903: function (e) { e.exports = function (e, t) { for (var n = -1, r = null == e ? 0 : e.length, i = 0, o = []; ++n < r;) { var a = e[n]; t(a, n, e) && (o[i++] = a) } return o } }, 7538: function (e, t, n) { var r = n(6478), i = n(4963), o = n(3629), a = n(5174), s = n(6800), l = n(9102), c = Object.prototype.hasOwnProperty; e.exports = function (e, t) { var n = o(e), u = !n && i(e), h = !n && !u && a(e), f = !n && !u && !h && l(e), d = n || u || h || f, p = d ? r(e.length, String) : [], g = p.length; for (var v in e) !t && !c.call(e, v) || d && ("length" == v || h && ("offset" == v || "parent" == v) || f && ("buffer" == v || "byteLength" == v || "byteOffset" == v) || s(v, g)) || p.push(v); return p } }, 8950: function (e) { e.exports = function (e, t) { for (var n = -1, r = null == e ? 0 : e.length, i = Array(r); ++n < r;)i[n] = t(e[n], n, e); return i } }, 1705: function (e) { e.exports = function (e, t) { for (var n = -1, r = t.length, i = e.length; ++n < r;)e[i + n] = t[n]; return e } }, 7897: function (e) { e.exports = function (e, t) { for (var n = -1, r = null == e ? 0 : e.length; ++n < r;)if (t(e[n], n, e)) return !0; return !1 } }, 8463: function (e, t, n) { var r = n(2526), i = n(9231), o = Object.prototype.hasOwnProperty; e.exports = function (e, t, n) { var a = e[t]; o.call(e, t) && i(a, n) && (void 0 !== n || t in e) || r(e, t, n) } }, 7112: function (e, t, n) { var r = n(9231); e.exports = function (e, t) { for (var n = e.length; n--;)if (r(e[n][0], t)) return n; return -1 } }, 1855: function (e, t, n) { var r = n(4503), i = n(2742); e.exports = function (e, t) { return e && r(t, i(t), e) } }, 5076: function (e, t, n) { var r = n(4503), i = n(3961); e.exports = function (e, t) { return e && r(t, i(t), e) } }, 2526: function (e, t, n) { var r = n(8528); e.exports = function (e, t, n) { "__proto__" == t && r ? r(e, t, { configurable: !0, enumerable: !0, value: n, writable: !0 }) : e[t] = n } }, 1905: function (e, t, n) { var r = n(2854), i = n(4550), o = n(8463), a = n(1855), s = n(5076), l = n(4523), c = n(291), u = n(2455), h = n(7636), f = n(8248), d = n(5341), p = n(8383), g = n(9243), v = n(9759), m = n(548), b = n(3629), y = n(5174), x = n(103), w = n(8092), _ = n(6995), S = n(2742), C = n(3961), O = 1, k = 2, j = 4, E = "[object Arguments]", T = "[object Function]", P = "[object GeneratorFunction]", A = "[object Object]", M = {}; M[E] = M["[object Array]"] = M["[object ArrayBuffer]"] = M["[object DataView]"] = M["[object Boolean]"] = M["[object Date]"] = M["[object Float32Array]"] = M["[object Float64Array]"] = M["[object Int8Array]"] = M["[object Int16Array]"] = M["[object Int32Array]"] = M["[object Map]"] = M["[object Number]"] = M[A] = M["[object RegExp]"] = M["[object Set]"] = M["[object String]"] = M["[object Symbol]"] = M["[object Uint8Array]"] = M["[object Uint8ClampedArray]"] = M["[object Uint16Array]"] = M["[object Uint32Array]"] = !0, M["[object Error]"] = M[T] = M["[object WeakMap]"] = !1, e.exports = function e(t, n, D, I, L, F) { var R, B = n & O, N = n & k, z = n & j; if (D && (R = L ? D(t, I, L, F) : D(t)), void 0 !== R) return R; if (!w(t)) return t; var W = b(t); if (W) { if (R = g(t), !B) return c(t, R) } else { var H = p(t), U = H == T || H == P; if (y(t)) return l(t, B); if (H == A || H == E || U && !L) { if (R = N || U ? {} : m(t), !B) return N ? h(t, s(R, t)) : u(t, a(R, t)) } else { if (!M[H]) return L ? t : {}; R = v(t, H, B) } } F || (F = new r); var X = F.get(t); if (X) return X; F.set(t, R), _(t) ? t.forEach((function (r) { R.add(e(r, n, D, r, t, F)) })) : x(t) && t.forEach((function (r, i) { R.set(i, e(r, n, D, i, t, F)) })); var V = W ? void 0 : (z ? N ? d : f : N ? C : S)(t); return i(V || t, (function (r, i) { V && (r = t[i = r]), o(R, i, e(r, n, D, i, t, F)) })), R } }, 5763: function (e, t, n) { var r = n(8092), i = Object.create, o = function () { function e() { } return function (t) { if (!r(t)) return {}; if (i) return i(t); e.prototype = t; var n = new e; return e.prototype = void 0, n } }(); e.exports = o }, 7927: function (e, t, n) { var r = n(5358), i = n(7056)(r); e.exports = i }, 5099: function (e, t, n) { var r = n(372)(); e.exports = r }, 5358: function (e, t, n) { var r = n(5099), i = n(2742); e.exports = function (e, t) { return e && r(e, t, i) } }, 8667: function (e, t, n) { var r = n(3082), i = n(9793); e.exports = function (e, t) { for (var n = 0, o = (t = r(t, e)).length; null != e && n < o;)e = e[i(t[n++])]; return n && n == o ? e : void 0 } }, 1986: function (e, t, n) { var r = n(1705), i = n(3629); e.exports = function (e, t, n) { var o = t(e); return i(e) ? o : r(o, n(e)) } }, 9066: function (e, t, n) { var r = n(7197), i = n(1587), o = n(3581), a = "[object Null]", s = "[object Undefined]", l = r ? r.toStringTag : void 0; e.exports = function (e) { return null == e ? void 0 === e ? s : a : l && l in Object(e) ? i(e) : o(e) } }, 529: function (e) { e.exports = function (e, t) { return null != e && t in Object(e) } }, 4906: function (e, t, n) { var r = n(9066), i = n(3141), o = "[object Arguments]"; e.exports = function (e) { return i(e) && r(e) == o } }, 1848: function (e, t, n) { var r = n(3355), i = n(3141); e.exports = function e(t, n, o, a, s) { return t === n || (null == t || null == n || !i(t) && !i(n) ? t !== t && n !== n : r(t, n, o, a, e, s)) } }, 3355: function (e, t, n) { var r = n(2854), i = n(5305), o = n(2206), a = n(8078), s = n(8383), l = n(3629), c = n(5174), u = n(9102), h = 1, f = "[object Arguments]", d = "[object Array]", p = "[object Object]", g = Object.prototype.hasOwnProperty; e.exports = function (e, t, n, v, m, b) { var y = l(e), x = l(t), w = y ? d : s(e), _ = x ? d : s(t), S = (w = w == f ? p : w) == p, C = (_ = _ == f ? p : _) == p, O = w == _; if (O && c(e)) { if (!c(t)) return !1; y = !0, S = !1 } if (O && !S) return b || (b = new r), y || u(e) ? i(e, t, n, v, m, b) : o(e, t, w, n, v, m, b); if (!(n & h)) { var k = S && g.call(e, "__wrapped__"), j = C && g.call(t, "__wrapped__"); if (k || j) { var E = k ? e.value() : e, T = j ? t.value() : t; return b || (b = new r), m(E, T, n, v, b) } } return !!O && (b || (b = new r), a(e, t, n, v, m, b)) } }, 3085: function (e, t, n) { var r = n(8383), i = n(3141), o = "[object Map]"; e.exports = function (e) { return i(e) && r(e) == o } }, 8856: function (e, t, n) { var r = n(2854), i = n(1848), o = 1, a = 2; e.exports = function (e, t, n, s) { var l = n.length, c = l, u = !s; if (null == e) return !c; for (e = Object(e); l--;) { var h = n[l]; if (u && h[2] ? h[1] !== e[h[0]] : !(h[0] in e)) return !1 } for (; ++l < c;) { var f = (h = n[l])[0], d = e[f], p = h[1]; if (u && h[2]) { if (void 0 === d && !(f in e)) return !1 } else { var g = new r; if (s) var v = s(d, p, f, e, t, g); if (!(void 0 === v ? i(p, d, o | a, s, g) : v)) return !1 } } return !0 } }, 6703: function (e, t, n) { var r = n(4786), i = n(257), o = n(8092), a = n(7907), s = /^\[object .+?Constructor\]$/, l = Function.prototype, c = Object.prototype, u = l.toString, h = c.hasOwnProperty, f = RegExp("^" + u.call(h).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"); e.exports = function (e) { return !(!o(e) || i(e)) && (r(e) ? f : s).test(a(e)) } }, 8680: function (e, t, n) { var r = n(8383), i = n(3141), o = "[object Set]"; e.exports = function (e) { return i(e) && r(e) == o } }, 8150: function (e, t, n) { var r = n(9066), i = n(4635), o = n(3141), a = {}; a["[object Float32Array]"] = a["[object Float64Array]"] = a["[object Int8Array]"] = a["[object Int16Array]"] = a["[object Int32Array]"] = a["[object Uint8Array]"] = a["[object Uint8ClampedArray]"] = a["[object Uint16Array]"] = a["[object Uint32Array]"] = !0, a["[object Arguments]"] = a["[object Array]"] = a["[object ArrayBuffer]"] = a["[object Boolean]"] = a["[object DataView]"] = a["[object Date]"] = a["[object Error]"] = a["[object Function]"] = a["[object Map]"] = a["[object Number]"] = a["[object Object]"] = a["[object RegExp]"] = a["[object Set]"] = a["[object String]"] = a["[object WeakMap]"] = !1, e.exports = function (e) { return o(e) && i(e.length) && !!a[r(e)] } }, 6025: function (e, t, n) { var r = n(7080), i = n(4322), o = n(2100), a = n(3629), s = n(38); e.exports = function (e) { return "function" == typeof e ? e : null == e ? o : "object" == typeof e ? a(e) ? i(e[0], e[1]) : r(e) : s(e) } }, 3654: function (e, t, n) { var r = n(2936), i = n(5964), o = Object.prototype.hasOwnProperty; e.exports = function (e) { if (!r(e)) return i(e); var t = []; for (var n in Object(e)) o.call(e, n) && "constructor" != n && t.push(n); return t } }, 8664: function (e, t, n) { var r = n(8092), i = n(2936), o = n(4221), a = Object.prototype.hasOwnProperty; e.exports = function (e) { if (!r(e)) return o(e); var t = i(e), n = []; for (var s in e) ("constructor" != s || !t && a.call(e, s)) && n.push(s); return n } }, 3849: function (e, t, n) { var r = n(7927), i = n(1473); e.exports = function (e, t) { var n = -1, o = i(e) ? Array(e.length) : []; return r(e, (function (e, r, i) { o[++n] = t(e, r, i) })), o } }, 7080: function (e, t, n) { var r = n(8856), i = n(9091), o = n(284); e.exports = function (e) { var t = i(e); return 1 == t.length && t[0][2] ? o(t[0][0], t[0][1]) : function (n) { return n === e || r(n, e, t) } } }, 4322: function (e, t, n) { var r = n(1848), i = n(6181), o = n(5658), a = n(5823), s = n(5072), l = n(284), c = n(9793), u = 1, h = 2; e.exports = function (e, t) { return a(e) && s(t) ? l(c(e), t) : function (n) { var a = i(n, e); return void 0 === a && a === t ? o(n, e) : r(t, a, u | h) } } }, 9586: function (e) { e.exports = function (e) { return function (t) { return null == t ? void 0 : t[e] } } }, 4084: function (e, t, n) { var r = n(8667); e.exports = function (e) { return function (t) { return r(t, e) } } }, 6478: function (e) { e.exports = function (e, t) { for (var n = -1, r = Array(e); ++n < e;)r[n] = t(n); return r } }, 2446: function (e, t, n) { var r = n(7197), i = n(8950), o = n(3629), a = n(152), s = 1 / 0, l = r ? r.prototype : void 0, c = l ? l.toString : void 0; e.exports = function e(t) { if ("string" == typeof t) return t; if (o(t)) return i(t, e) + ""; if (a(t)) return c ? c.call(t) : ""; var n = t + ""; return "0" == n && 1 / t == -s ? "-0" : n } }, 6194: function (e) { e.exports = function (e) { return function (t) { return e(t) } } }, 75: function (e) { e.exports = function (e, t) { return e.has(t) } }, 3410: function (e, t, n) { var r = n(2100); e.exports = function (e) { return "function" == typeof e ? e : r } }, 3082: function (e, t, n) { var r = n(3629), i = n(5823), o = n(170), a = n(3518); e.exports = function (e, t) { return r(e) ? e : i(e, t) ? [e] : o(a(e)) } }, 7010: function (e, t, n) { var r = n(6219); e.exports = function (e) { var t = new e.constructor(e.byteLength); return new r(t).set(new r(e)), t } }, 4523: function (e, t, n) { e = n.nmd(e); var r = n(7009), i = t && !t.nodeType && t, o = i && e && !e.nodeType && e, a = o && o.exports === i ? r.Buffer : void 0, s = a ? a.allocUnsafe : void 0; e.exports = function (e, t) { if (t) return e.slice(); var n = e.length, r = s ? s(n) : new e.constructor(n); return e.copy(r), r } }, 1022: function (e, t, n) { var r = n(7010); e.exports = function (e, t) { var n = t ? r(e.buffer) : e.buffer; return new e.constructor(n, e.byteOffset, e.byteLength) } }, 8503: function (e) { var t = /\w*$/; e.exports = function (e) { var n = new e.constructor(e.source, t.exec(e)); return n.lastIndex = e.lastIndex, n } }, 4720: function (e, t, n) { var r = n(7197), i = r ? r.prototype : void 0, o = i ? i.valueOf : void 0; e.exports = function (e) { return o ? Object(o.call(e)) : {} } }, 613: function (e, t, n) { var r = n(7010); e.exports = function (e, t) { var n = t ? r(e.buffer) : e.buffer; return new e.constructor(n, e.byteOffset, e.length) } }, 291: function (e) { e.exports = function (e, t) { var n = -1, r = e.length; for (t || (t = Array(r)); ++n < r;)t[n] = e[n]; return t } }, 4503: function (e, t, n) { var r = n(8463), i = n(2526); e.exports = function (e, t, n, o) { var a = !n; n || (n = {}); for (var s = -1, l = t.length; ++s < l;) { var c = t[s], u = o ? o(n[c], e[c], c, n, e) : void 0; void 0 === u && (u = e[c]), a ? i(n, c, u) : r(n, c, u) } return n } }, 2455: function (e, t, n) { var r = n(4503), i = n(5918); e.exports = function (e, t) { return r(e, i(e), t) } }, 7636: function (e, t, n) { var r = n(4503), i = n(8487); e.exports = function (e, t) { return r(e, i(e), t) } }, 5525: function (e, t, n) { var r = n(7009)["__core-js_shared__"]; e.exports = r }, 7056: function (e, t, n) { var r = n(1473); e.exports = function (e, t) { return function (n, i) { if (null == n) return n; if (!r(n)) return e(n, i); for (var o = n.length, a = t ? o : -1, s = Object(n); (t ? a-- : ++a < o) && !1 !== i(s[a], a, s);); return n } } }, 372: function (e) { e.exports = function (e) { return function (t, n, r) { for (var i = -1, o = Object(t), a = r(t), s = a.length; s--;) { var l = a[e ? s : ++i]; if (!1 === n(o[l], l, o)) break } return t } } }, 8528: function (e, t, n) { var r = n(8136), i = function () { try { var e = r(Object, "defineProperty"); return e({}, "", {}), e } catch (t) { } }(); e.exports = i }, 5305: function (e, t, n) { var r = n(692), i = n(7897), o = n(75), a = 1, s = 2; e.exports = function (e, t, n, l, c, u) { var h = n & a, f = e.length, d = t.length; if (f != d && !(h && d > f)) return !1; var p = u.get(e), g = u.get(t); if (p && g) return p == t && g == e; var v = -1, m = !0, b = n & s ? new r : void 0; for (u.set(e, t), u.set(t, e); ++v < f;) { var y = e[v], x = t[v]; if (l) var w = h ? l(x, y, v, t, e, u) : l(y, x, v, e, t, u); if (void 0 !== w) { if (w) continue; m = !1; break } if (b) { if (!i(t, (function (e, t) { if (!o(b, t) && (y === e || c(y, e, n, l, u))) return b.push(t) }))) { m = !1; break } } else if (y !== x && !c(y, x, n, l, u)) { m = !1; break } } return u.delete(e), u.delete(t), m } }, 2206: function (e, t, n) { var r = n(7197), i = n(6219), o = n(9231), a = n(5305), s = n(234), l = n(2230), c = 1, u = 2, h = "[object Boolean]", f = "[object Date]", d = "[object Error]", p = "[object Map]", g = "[object Number]", v = "[object RegExp]", m = "[object Set]", b = "[object String]", y = "[object Symbol]", x = "[object ArrayBuffer]", w = "[object DataView]", _ = r ? r.prototype : void 0, S = _ ? _.valueOf : void 0; e.exports = function (e, t, n, r, _, C, O) { switch (n) { case w: if (e.byteLength != t.byteLength || e.byteOffset != t.byteOffset) return !1; e = e.buffer, t = t.buffer; case x: return !(e.byteLength != t.byteLength || !C(new i(e), new i(t))); case h: case f: case g: return o(+e, +t); case d: return e.name == t.name && e.message == t.message; case v: case b: return e == t + ""; case p: var k = s; case m: var j = r & c; if (k || (k = l), e.size != t.size && !j) return !1; var E = O.get(e); if (E) return E == t; r |= u, O.set(e, t); var T = a(k(e), k(t), r, _, C, O); return O.delete(e), T; case y: if (S) return S.call(e) == S.call(t) }return !1 } }, 8078: function (e, t, n) { var r = n(8248), i = 1, o = Object.prototype.hasOwnProperty; e.exports = function (e, t, n, a, s, l) { var c = n & i, u = r(e), h = u.length; if (h != r(t).length && !c) return !1; for (var f = h; f--;) { var d = u[f]; if (!(c ? d in t : o.call(t, d))) return !1 } var p = l.get(e), g = l.get(t); if (p && g) return p == t && g == e; var v = !0; l.set(e, t), l.set(t, e); for (var m = c; ++f < h;) { var b = e[d = u[f]], y = t[d]; if (a) var x = c ? a(y, b, d, t, e, l) : a(b, y, d, e, t, l); if (!(void 0 === x ? b === y || s(b, y, n, a, l) : x)) { v = !1; break } m || (m = "constructor" == d) } if (v && !m) { var w = e.constructor, _ = t.constructor; w == _ || !("constructor" in e) || !("constructor" in t) || "function" == typeof w && w instanceof w && "function" == typeof _ && _ instanceof _ || (v = !1) } return l.delete(e), l.delete(t), v } }, 1032: function (e, t, n) { var r = "object" == typeof n.g && n.g && n.g.Object === Object && n.g; e.exports = r }, 8248: function (e, t, n) { var r = n(1986), i = n(5918), o = n(2742); e.exports = function (e) { return r(e, o, i) } }, 5341: function (e, t, n) { var r = n(1986), i = n(8487), o = n(3961); e.exports = function (e) { return r(e, o, i) } }, 2799: function (e, t, n) { var r = n(9518); e.exports = function (e, t) { var n = e.__data__; return r(t) ? n["string" == typeof t ? "string" : "hash"] : n.map } }, 9091: function (e, t, n) { var r = n(5072), i = n(2742); e.exports = function (e) { for (var t = i(e), n = t.length; n--;) { var o = t[n], a = e[o]; t[n] = [o, a, r(a)] } return t } }, 8136: function (e, t, n) { var r = n(6703), i = n(40); e.exports = function (e, t) { var n = i(e, t); return r(n) ? n : void 0 } }, 1137: function (e, t, n) { var r = n(2709)(Object.getPrototypeOf, Object); e.exports = r }, 1587: function (e, t, n) { var r = n(7197), i = Object.prototype, o = i.hasOwnProperty, a = i.toString, s = r ? r.toStringTag : void 0; e.exports = function (e) { var t = o.call(e, s), n = e[s]; try { e[s] = void 0; var r = !0 } catch (l) { } var i = a.call(e); return r && (t ? e[s] = n : delete e[s]), i } }, 5918: function (e, t, n) { var r = n(4903), i = n(8174), o = Object.prototype.propertyIsEnumerable, a = Object.getOwnPropertySymbols, s = a ? function (e) { return null == e ? [] : (e = Object(e), r(a(e), (function (t) { return o.call(e, t) }))) } : i; e.exports = s }, 8487: function (e, t, n) { var r = n(1705), i = n(1137), o = n(5918), a = n(8174), s = Object.getOwnPropertySymbols ? function (e) { for (var t = []; e;)r(t, o(e)), e = i(e); return t } : a; e.exports = s }, 8383: function (e, t, n) { var r = n(908), i = n(5797), o = n(8319), a = n(3924), s = n(7091), l = n(9066), c = n(7907), u = "[object Map]", h = "[object Promise]", f = "[object Set]", d = "[object WeakMap]", p = "[object DataView]", g = c(r), v = c(i), m = c(o), b = c(a), y = c(s), x = l; (r && x(new r(new ArrayBuffer(1))) != p || i && x(new i) != u || o && x(o.resolve()) != h || a && x(new a) != f || s && x(new s) != d) && (x = function (e) { var t = l(e), n = "[object Object]" == t ? e.constructor : void 0, r = n ? c(n) : ""; if (r) switch (r) { case g: return p; case v: return u; case m: return h; case b: return f; case y: return d }return t }), e.exports = x }, 40: function (e) { e.exports = function (e, t) { return null == e ? void 0 : e[t] } }, 6417: function (e, t, n) { var r = n(3082), i = n(4963), o = n(3629), a = n(6800), s = n(4635), l = n(9793); e.exports = function (e, t, n) { for (var c = -1, u = (t = r(t, e)).length, h = !1; ++c < u;) { var f = l(t[c]); if (!(h = null != e && n(e, f))) break; e = e[f] } return h || ++c != u ? h : !!(u = null == e ? 0 : e.length) && s(u) && a(f, u) && (o(e) || i(e)) } }, 5403: function (e, t, n) { var r = n(9620); e.exports = function () { this.__data__ = r ? r(null) : {}, this.size = 0 } }, 2747: function (e) { e.exports = function (e) { var t = this.has(e) && delete this.__data__[e]; return this.size -= t ? 1 : 0, t } }, 6037: function (e, t, n) { var r = n(9620), i = "__lodash_hash_undefined__", o = Object.prototype.hasOwnProperty; e.exports = function (e) { var t = this.__data__; if (r) { var n = t[e]; return n === i ? void 0 : n } return o.call(t, e) ? t[e] : void 0 } }, 4154: function (e, t, n) { var r = n(9620), i = Object.prototype.hasOwnProperty; e.exports = function (e) { var t = this.__data__; return r ? void 0 !== t[e] : i.call(t, e) } }, 7728: function (e, t, n) { var r = n(9620), i = "__lodash_hash_undefined__"; e.exports = function (e, t) { var n = this.__data__; return this.size += this.has(e) ? 0 : 1, n[e] = r && void 0 === t ? i : t, this } }, 9243: function (e) { var t = Object.prototype.hasOwnProperty; e.exports = function (e) { var n = e.length, r = new e.constructor(n); return n && "string" == typeof e[0] && t.call(e, "index") && (r.index = e.index, r.input = e.input), r } }, 9759: function (e, t, n) { var r = n(7010), i = n(1022), o = n(8503), a = n(4720), s = n(613), l = "[object Boolean]", c = "[object Date]", u = "[object Map]", h = "[object Number]", f = "[object RegExp]", d = "[object Set]", p = "[object String]", g = "[object Symbol]", v = "[object ArrayBuffer]", m = "[object DataView]", b = "[object Float32Array]", y = "[object Float64Array]", x = "[object Int8Array]", w = "[object Int16Array]", _ = "[object Int32Array]", S = "[object Uint8Array]", C = "[object Uint8ClampedArray]", O = "[object Uint16Array]", k = "[object Uint32Array]"; e.exports = function (e, t, n) { var j = e.constructor; switch (t) { case v: return r(e); case l: case c: return new j(+e); case m: return i(e, n); case b: case y: case x: case w: case _: case S: case C: case O: case k: return s(e, n); case u: return new j; case h: case p: return new j(e); case f: return o(e); case d: return new j; case g: return a(e) } } }, 548: function (e, t, n) { var r = n(5763), i = n(1137), o = n(2936); e.exports = function (e) { return "function" != typeof e.constructor || o(e) ? {} : r(i(e)) } }, 6800: function (e) { var t = 9007199254740991, n = /^(?:0|[1-9]\d*)$/; e.exports = function (e, r) { var i = typeof e; return !!(r = null == r ? t : r) && ("number" == i || "symbol" != i && n.test(e)) && e > -1 && e % 1 == 0 && e < r } }, 5823: function (e, t, n) { var r = n(3629), i = n(152), o = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, a = /^\w*$/; e.exports = function (e, t) { if (r(e)) return !1; var n = typeof e; return !("number" != n && "symbol" != n && "boolean" != n && null != e && !i(e)) || (a.test(e) || !o.test(e) || null != t && e in Object(t)) } }, 9518: function (e) { e.exports = function (e) { var t = typeof e; return "string" == t || "number" == t || "symbol" == t || "boolean" == t ? "__proto__" !== e : null === e } }, 257: function (e, t, n) { var r = n(5525), i = function () { var e = /[^.]+$/.exec(r && r.keys && r.keys.IE_PROTO || ""); return e ? "Symbol(src)_1." + e : "" }(); e.exports = function (e) { return !!i && i in e } }, 2936: function (e) { var t = Object.prototype; e.exports = function (e) { var n = e && e.constructor; return e === ("function" == typeof n && n.prototype || t) } }, 5072: function (e, t, n) { var r = n(8092); e.exports = function (e) { return e === e && !r(e) } }, 3894: function (e) { e.exports = function () { this.__data__ = [], this.size = 0 } }, 8699: function (e, t, n) { var r = n(7112), i = Array.prototype.splice; e.exports = function (e) { var t = this.__data__, n = r(t, e); return !(n < 0) && (n == t.length - 1 ? t.pop() : i.call(t, n, 1), --this.size, !0) } }, 4957: function (e, t, n) { var r = n(7112); e.exports = function (e) { var t = this.__data__, n = r(t, e); return n < 0 ? void 0 : t[n][1] } }, 7184: function (e, t, n) { var r = n(7112); e.exports = function (e) { return r(this.__data__, e) > -1 } }, 7109: function (e, t, n) { var r = n(7112); e.exports = function (e, t) { var n = this.__data__, i = r(n, e); return i < 0 ? (++this.size, n.push([e, t])) : n[i][1] = t, this } }, 4086: function (e, t, n) { var r = n(9676), i = n(8384), o = n(5797); e.exports = function () { this.size = 0, this.__data__ = { hash: new r, map: new (o || i), string: new r } } }, 9255: function (e, t, n) { var r = n(2799); e.exports = function (e) { var t = r(this, e).delete(e); return this.size -= t ? 1 : 0, t } }, 9186: function (e, t, n) { var r = n(2799); e.exports = function (e) { return r(this, e).get(e) } }, 3423: function (e, t, n) { var r = n(2799); e.exports = function (e) { return r(this, e).has(e) } }, 3739: function (e, t, n) { var r = n(2799); e.exports = function (e, t) { var n = r(this, e), i = n.size; return n.set(e, t), this.size += n.size == i ? 0 : 1, this } }, 234: function (e) { e.exports = function (e) { var t = -1, n = Array(e.size); return e.forEach((function (e, r) { n[++t] = [r, e] })), n } }, 284: function (e) { e.exports = function (e, t) { return function (n) { return null != n && (n[e] === t && (void 0 !== t || e in Object(n))) } } }, 4634: function (e, t, n) { var r = n(9151), i = 500; e.exports = function (e) { var t = r(e, (function (e) { return n.size === i && n.clear(), e })), n = t.cache; return t } }, 9620: function (e, t, n) { var r = n(8136)(Object, "create"); e.exports = r }, 5964: function (e, t, n) { var r = n(2709)(Object.keys, Object); e.exports = r }, 4221: function (e) { e.exports = function (e) { var t = []; if (null != e) for (var n in Object(e)) t.push(n); return t } }, 9494: function (e, t, n) { e = n.nmd(e); var r = n(1032), i = t && !t.nodeType && t, o = i && e && !e.nodeType && e, a = o && o.exports === i && r.process, s = function () { try { var e = o && o.require && o.require("util").types; return e || a && a.binding && a.binding("util") } catch (t) { } }(); e.exports = s }, 3581: function (e) { var t = Object.prototype.toString; e.exports = function (e) { return t.call(e) } }, 2709: function (e) { e.exports = function (e, t) { return function (n) { return e(t(n)) } } }, 7009: function (e, t, n) { var r = n(1032), i = "object" == typeof self && self && self.Object === Object && self, o = r || i || Function("return this")(); e.exports = o }, 5774: function (e) { var t = "__lodash_hash_undefined__"; e.exports = function (e) { return this.__data__.set(e, t), this } }, 1596: function (e) { e.exports = function (e) { return this.__data__.has(e) } }, 2230: function (e) { e.exports = function (e) { var t = -1, n = Array(e.size); return e.forEach((function (e) { n[++t] = e })), n } }, 511: function (e, t, n) { var r = n(8384); e.exports = function () { this.__data__ = new r, this.size = 0 } }, 835: function (e) { e.exports = function (e) { var t = this.__data__, n = t.delete(e); return this.size = t.size, n } }, 707: function (e) { e.exports = function (e) { return this.__data__.get(e) } }, 8832: function (e) { e.exports = function (e) { return this.__data__.has(e) } }, 5077: function (e, t, n) { var r = n(8384), i = n(5797), o = n(8059), a = 200; e.exports = function (e, t) { var n = this.__data__; if (n instanceof r) { var s = n.__data__; if (!i || s.length < a - 1) return s.push([e, t]), this.size = ++n.size, this; n = this.__data__ = new o(s) } return n.set(e, t), this.size = n.size, this } }, 170: function (e, t, n) { var r = n(4634), i = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, o = /\\(\\)?/g, a = r((function (e) { var t = []; return 46 === e.charCodeAt(0) && t.push(""), e.replace(i, (function (e, n, r, i) { t.push(r ? i.replace(o, "$1") : n || e) })), t })); e.exports = a }, 9793: function (e, t, n) { var r = n(152), i = 1 / 0; e.exports = function (e) { if ("string" == typeof e || r(e)) return e; var t = e + ""; return "0" == t && 1 / e == -i ? "-0" : t } }, 7907: function (e) { var t = Function.prototype.toString; e.exports = function (e) { if (null != e) { try { return t.call(e) } catch (n) { } try { return e + "" } catch (n) { } } return "" } }, 8121: function (e, t, n) { var r = n(1905), i = 1, o = 4; e.exports = function (e) { return r(e, i | o) } }, 9231: function (e) { e.exports = function (e, t) { return e === t || e !== e && t !== t } }, 4689: function (e, t, n) { var r = n(5358), i = n(3410); e.exports = function (e, t) { return e && r(e, i(t)) } }, 6181: function (e, t, n) { var r = n(8667); e.exports = function (e, t, n) { var i = null == e ? void 0 : r(e, t); return void 0 === i ? n : i } }, 5658: function (e, t, n) { var r = n(529), i = n(6417); e.exports = function (e, t) { return null != e && i(e, t, r) } }, 2100: function (e) { e.exports = function (e) { return e } }, 4963: function (e, t, n) { var r = n(4906), i = n(3141), o = Object.prototype, a = o.hasOwnProperty, s = o.propertyIsEnumerable, l = r(function () { return arguments }()) ? r : function (e) { return i(e) && a.call(e, "callee") && !s.call(e, "callee") }; e.exports = l }, 3629: function (e) { var t = Array.isArray; e.exports = t }, 1473: function (e, t, n) { var r = n(4786), i = n(4635); e.exports = function (e) { return null != e && i(e.length) && !r(e) } }, 5174: function (e, t, n) { e = n.nmd(e); var r = n(7009), i = n(9488), o = t && !t.nodeType && t, a = o && e && !e.nodeType && e, s = a && a.exports === o ? r.Buffer : void 0, l = (s ? s.isBuffer : void 0) || i; e.exports = l }, 4786: function (e, t, n) { var r = n(9066), i = n(8092), o = "[object AsyncFunction]", a = "[object Function]", s = "[object GeneratorFunction]", l = "[object Proxy]"; e.exports = function (e) { if (!i(e)) return !1; var t = r(e); return t == a || t == s || t == o || t == l } }, 4635: function (e) { var t = 9007199254740991; e.exports = function (e) { return "number" == typeof e && e > -1 && e % 1 == 0 && e <= t } }, 103: function (e, t, n) { var r = n(3085), i = n(6194), o = n(9494), a = o && o.isMap, s = a ? i(a) : r; e.exports = s }, 8092: function (e) { e.exports = function (e) { var t = typeof e; return null != e && ("object" == t || "function" == t) } }, 3141: function (e) { e.exports = function (e) { return null != e && "object" == typeof e } }, 3977: function (e, t, n) { var r = n(9066), i = n(1137), o = n(3141), a = "[object Object]", s = Function.prototype, l = Object.prototype, c = s.toString, u = l.hasOwnProperty, h = c.call(Object); e.exports = function (e) { if (!o(e) || r(e) != a) return !1; var t = i(e); if (null === t) return !0; var n = u.call(t, "constructor") && t.constructor; return "function" == typeof n && n instanceof n && c.call(n) == h } }, 6995: function (e, t, n) { var r = n(8680), i = n(6194), o = n(9494), a = o && o.isSet, s = a ? i(a) : r; e.exports = s }, 6769: function (e, t, n) { var r = n(9066), i = n(3629), o = n(3141), a = "[object String]"; e.exports = function (e) { return "string" == typeof e || !i(e) && o(e) && r(e) == a } }, 152: function (e, t, n) { var r = n(9066), i = n(3141), o = "[object Symbol]"; e.exports = function (e) { return "symbol" == typeof e || i(e) && r(e) == o } }, 9102: function (e, t, n) { var r = n(8150), i = n(6194), o = n(9494), a = o && o.isTypedArray, s = a ? i(a) : r; e.exports = s }, 2742: function (e, t, n) { var r = n(7538), i = n(3654), o = n(1473); e.exports = function (e) { return o(e) ? r(e) : i(e) } }, 3961: function (e, t, n) { var r = n(7538), i = n(8664), o = n(1473); e.exports = function (e) { return o(e) ? r(e, !0) : i(e) } }, 2034: function (e, t, n) { var r = n(8950), i = n(6025), o = n(3849), a = n(3629); e.exports = function (e, t) { return (a(e) ? r : o)(e, i(t, 3)) } }, 9151: function (e, t, n) { var r = n(8059), i = "Expected a function"; function o(e, t) { if ("function" != typeof e || null != t && "function" != typeof t) throw new TypeError(i); var n = function n() { var r = arguments, i = t ? t.apply(this, r) : r[0], o = n.cache; if (o.has(i)) return o.get(i); var a = e.apply(this, r); return n.cache = o.set(i, a) || o, a }; return n.cache = new (o.Cache || r), n } o.Cache = r, e.exports = o }, 38: function (e, t, n) { var r = n(9586), i = n(4084), o = n(5823), a = n(9793); e.exports = function (e) { return o(e) ? r(a(e)) : i(e) } }, 8174: function (e) { e.exports = function () { return [] } }, 9488: function (e) { e.exports = function () { return !1 } }, 3518: function (e, t, n) { var r = n(2446); e.exports = function (e) { return null == e ? "" : r(e) } }, 888: function (e, t, n) { "use strict"; var r = n(9047); function i() { } function o() { } o.resetWarningCache = i, e.exports = function () { function e(e, t, n, i, o, a) { if (a !== r) { var s = new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"); throw s.name = "Invariant Violation", s } } function t() { return e } e.isRequired = e; var n = { array: e, bigint: e, bool: e, func: e, number: e, object: e, string: e, symbol: e, any: e, arrayOf: t, element: e, elementType: e, instanceOf: t, node: e, objectOf: t, oneOf: t, oneOfType: t, shape: t, exact: t, checkPropTypes: o, resetWarningCache: i }; return n.PropTypes = n, n } }, 2007: function (e, t, n) { e.exports = n(888)() }, 9047: function (e) { "use strict"; e.exports = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED" }, 4463: function (e, t, n) { "use strict"; var r = n(2791), i = n(5296); function o(e) { for (var t = "https://reactjs.org/docs/error-decoder.html?invariant=" + e, n = 1; n < arguments.length; n++)t += "&args[]=" + encodeURIComponent(arguments[n]); return "Minified React error #" + e + "; visit " + t + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings." } var a = new Set, s = {}; function l(e, t) { c(e, t), c(e + "Capture", t) } function c(e, t) { for (s[e] = t, e = 0; e < t.length; e++)a.add(t[e]) } var u = !("undefined" === typeof window || "undefined" === typeof window.document || "undefined" === typeof window.document.createElement), h = Object.prototype.hasOwnProperty, f = /^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/, d = {}, p = {}; function g(e, t, n, r, i, o, a) { this.acceptsBooleans = 2 === t || 3 === t || 4 === t, this.attributeName = r, this.attributeNamespace = i, this.mustUseProperty = n, this.propertyName = e, this.type = t, this.sanitizeURL = o, this.removeEmptyString = a } var v = {}; "children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function (e) { v[e] = new g(e, 0, !1, e, null, !1, !1) })), [["acceptCharset", "accept-charset"], ["className", "class"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"]].forEach((function (e) { var t = e[0]; v[t] = new g(t, 1, !1, e[1], null, !1, !1) })), ["contentEditable", "draggable", "spellCheck", "value"].forEach((function (e) { v[e] = new g(e, 2, !1, e.toLowerCase(), null, !1, !1) })), ["autoReverse", "externalResourcesRequired", "focusable", "preserveAlpha"].forEach((function (e) { v[e] = new g(e, 2, !1, e, null, !1, !1) })), "allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function (e) { v[e] = new g(e, 3, !1, e.toLowerCase(), null, !1, !1) })), ["checked", "multiple", "muted", "selected"].forEach((function (e) { v[e] = new g(e, 3, !0, e, null, !1, !1) })), ["capture", "download"].forEach((function (e) { v[e] = new g(e, 4, !1, e, null, !1, !1) })), ["cols", "rows", "size", "span"].forEach((function (e) { v[e] = new g(e, 6, !1, e, null, !1, !1) })), ["rowSpan", "start"].forEach((function (e) { v[e] = new g(e, 5, !1, e.toLowerCase(), null, !1, !1) })); var m = /[\-:]([a-z])/g; function b(e) { return e[1].toUpperCase() } function y(e, t, n, r) { var i = v.hasOwnProperty(t) ? v[t] : null; (null !== i ? 0 !== i.type : r || !(2 < t.length) || "o" !== t[0] && "O" !== t[0] || "n" !== t[1] && "N" !== t[1]) && (function (e, t, n, r) { if (null === t || "undefined" === typeof t || function (e, t, n, r) { if (null !== n && 0 === n.type) return !1; switch (typeof t) { case "function": case "symbol": return !0; case "boolean": return !r && (null !== n ? !n.acceptsBooleans : "data-" !== (e = e.toLowerCase().slice(0, 5)) && "aria-" !== e); default: return !1 } }(e, t, n, r)) return !0; if (r) return !1; if (null !== n) switch (n.type) { case 3: return !t; case 4: return !1 === t; case 5: return isNaN(t); case 6: return isNaN(t) || 1 > t }return !1 }(t, n, i, r) && (n = null), r || null === i ? function (e) { return !!h.call(p, e) || !h.call(d, e) && (f.test(e) ? p[e] = !0 : (d[e] = !0, !1)) }(t) && (null === n ? e.removeAttribute(t) : e.setAttribute(t, "" + n)) : i.mustUseProperty ? e[i.propertyName] = null === n ? 3 !== i.type && "" : n : (t = i.attributeName, r = i.attributeNamespace, null === n ? e.removeAttribute(t) : (n = 3 === (i = i.type) || 4 === i && !0 === n ? "" : "" + n, r ? e.setAttributeNS(r, t, n) : e.setAttribute(t, n)))) } "accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function (e) { var t = e.replace(m, b); v[t] = new g(t, 1, !1, e, null, !1, !1) })), "xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function (e) { var t = e.replace(m, b); v[t] = new g(t, 1, !1, e, "http://www.w3.org/1999/xlink", !1, !1) })), ["xml:base", "xml:lang", "xml:space"].forEach((function (e) { var t = e.replace(m, b); v[t] = new g(t, 1, !1, e, "http://www.w3.org/XML/1998/namespace", !1, !1) })), ["tabIndex", "crossOrigin"].forEach((function (e) { v[e] = new g(e, 1, !1, e.toLowerCase(), null, !1, !1) })), v.xlinkHref = new g("xlinkHref", 1, !1, "xlink:href", "http://www.w3.org/1999/xlink", !0, !1), ["src", "href", "action", "formAction"].forEach((function (e) { v[e] = new g(e, 1, !1, e.toLowerCase(), null, !0, !0) })); var x = r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED, w = Symbol.for("react.element"), _ = Symbol.for("react.portal"), S = Symbol.for("react.fragment"), C = Symbol.for("react.strict_mode"), O = Symbol.for("react.profiler"), k = Symbol.for("react.provider"), j = Symbol.for("react.context"), E = Symbol.for("react.forward_ref"), T = Symbol.for("react.suspense"), P = Symbol.for("react.suspense_list"), A = Symbol.for("react.memo"), M = Symbol.for("react.lazy"); Symbol.for("react.scope"), Symbol.for("react.debug_trace_mode"); var D = Symbol.for("react.offscreen"); Symbol.for("react.legacy_hidden"), Symbol.for("react.cache"), Symbol.for("react.tracing_marker"); var I = Symbol.iterator; function L(e) { return null === e || "object" !== typeof e ? null : "function" === typeof (e = I && e[I] || e["@@iterator"]) ? e : null } var F, R = Object.assign; function B(e) { if (void 0 === F) try { throw Error() } catch (n) { var t = n.stack.trim().match(/\n( *(at )?)/); F = t && t[1] || "" } return "\n" + F + e } var N = !1; function z(e, t) { if (!e || N) return ""; N = !0; var n = Error.prepareStackTrace; Error.prepareStackTrace = void 0; try { if (t) if (t = function () { throw Error() }, Object.defineProperty(t.prototype, "props", { set: function () { throw Error() } }), "object" === typeof Reflect && Reflect.construct) { try { Reflect.construct(t, []) } catch (c) { var r = c } Reflect.construct(e, [], t) } else { try { t.call() } catch (c) { r = c } e.call(t.prototype) } else { try { throw Error() } catch (c) { r = c } e() } } catch (c) { if (c && r && "string" === typeof c.stack) { for (var i = c.stack.split("\n"), o = r.stack.split("\n"), a = i.length - 1, s = o.length - 1; 1 <= a && 0 <= s && i[a] !== o[s];)s--; for (; 1 <= a && 0 <= s; a--, s--)if (i[a] !== o[s]) { if (1 !== a || 1 !== s) do { if (a--, 0 > --s || i[a] !== o[s]) { var l = "\n" + i[a].replace(" at new ", " at "); return e.displayName && l.includes("<anonymous>") && (l = l.replace("<anonymous>", e.displayName)), l } } while (1 <= a && 0 <= s); break } } } finally { N = !1, Error.prepareStackTrace = n } return (e = e ? e.displayName || e.name : "") ? B(e) : "" } function W(e) { switch (e.tag) { case 5: return B(e.type); case 16: return B("Lazy"); case 13: return B("Suspense"); case 19: return B("SuspenseList"); case 0: case 2: case 15: return e = z(e.type, !1); case 11: return e = z(e.type.render, !1); case 1: return e = z(e.type, !0); default: return "" } } function H(e) { if (null == e) return null; if ("function" === typeof e) return e.displayName || e.name || null; if ("string" === typeof e) return e; switch (e) { case S: return "Fragment"; case _: return "Portal"; case O: return "Profiler"; case C: return "StrictMode"; case T: return "Suspense"; case P: return "SuspenseList" }if ("object" === typeof e) switch (e.$$typeof) { case j: return (e.displayName || "Context") + ".Consumer"; case k: return (e._context.displayName || "Context") + ".Provider"; case E: var t = e.render; return (e = e.displayName) || (e = "" !== (e = t.displayName || t.name || "") ? "ForwardRef(" + e + ")" : "ForwardRef"), e; case A: return null !== (t = e.displayName || null) ? t : H(e.type) || "Memo"; case M: t = e._payload, e = e._init; try { return H(e(t)) } catch (n) { } }return null } function U(e) { var t = e.type; switch (e.tag) { case 24: return "Cache"; case 9: return (t.displayName || "Context") + ".Consumer"; case 10: return (t._context.displayName || "Context") + ".Provider"; case 18: return "DehydratedFragment"; case 11: return e = (e = t.render).displayName || e.name || "", t.displayName || ("" !== e ? "ForwardRef(" + e + ")" : "ForwardRef"); case 7: return "Fragment"; case 5: return t; case 4: return "Portal"; case 3: return "Root"; case 6: return "Text"; case 16: return H(t); case 8: return t === C ? "StrictMode" : "Mode"; case 22: return "Offscreen"; case 12: return "Profiler"; case 21: return "Scope"; case 13: return "Suspense"; case 19: return "SuspenseList"; case 25: return "TracingMarker"; case 1: case 0: case 17: case 2: case 14: case 15: if ("function" === typeof t) return t.displayName || t.name || null; if ("string" === typeof t) return t }return null } function X(e) { switch (typeof e) { case "boolean": case "number": case "string": case "undefined": case "object": return e; default: return "" } } function V(e) { var t = e.type; return (e = e.nodeName) && "input" === e.toLowerCase() && ("checkbox" === t || "radio" === t) } function G(e) { e._valueTracker || (e._valueTracker = function (e) { var t = V(e) ? "checked" : "value", n = Object.getOwnPropertyDescriptor(e.constructor.prototype, t), r = "" + e[t]; if (!e.hasOwnProperty(t) && "undefined" !== typeof n && "function" === typeof n.get && "function" === typeof n.set) { var i = n.get, o = n.set; return Object.defineProperty(e, t, { configurable: !0, get: function () { return i.call(this) }, set: function (e) { r = "" + e, o.call(this, e) } }), Object.defineProperty(e, t, { enumerable: n.enumerable }), { getValue: function () { return r }, setValue: function (e) { r = "" + e }, stopTracking: function () { e._valueTracker = null, delete e[t] } } } }(e)) } function Y(e) { if (!e) return !1; var t = e._valueTracker; if (!t) return !0; var n = t.getValue(), r = ""; return e && (r = V(e) ? e.checked ? "true" : "false" : e.value), (e = r) !== n && (t.setValue(e), !0) } function q(e) { if ("undefined" === typeof (e = e || ("undefined" !== typeof document ? document : void 0))) return null; try { return e.activeElement || e.body } catch (t) { return e.body } } function K(e, t) { var n = t.checked; return R({}, t, { defaultChecked: void 0, defaultValue: void 0, value: void 0, checked: null != n ? n : e._wrapperState.initialChecked }) } function $(e, t) { var n = null == t.defaultValue ? "" : t.defaultValue, r = null != t.checked ? t.checked : t.defaultChecked; n = X(null != t.value ? t.value : n), e._wrapperState = { initialChecked: r, initialValue: n, controlled: "checkbox" === t.type || "radio" === t.type ? null != t.checked : null != t.value } } function Z(e, t) { null != (t = t.checked) && y(e, "checked", t, !1) } function Q(e, t) { Z(e, t); var n = X(t.value), r = t.type; if (null != n) "number" === r ? (0 === n && "" === e.value || e.value != n) && (e.value = "" + n) : e.value !== "" + n && (e.value = "" + n); else if ("submit" === r || "reset" === r) return void e.removeAttribute("value"); t.hasOwnProperty("value") ? ee(e, t.type, n) : t.hasOwnProperty("defaultValue") && ee(e, t.type, X(t.defaultValue)), null == t.checked && null != t.defaultChecked && (e.defaultChecked = !!t.defaultChecked) } function J(e, t, n) { if (t.hasOwnProperty("value") || t.hasOwnProperty("defaultValue")) { var r = t.type; if (!("submit" !== r && "reset" !== r || void 0 !== t.value && null !== t.value)) return; t = "" + e._wrapperState.initialValue, n || t === e.value || (e.value = t), e.defaultValue = t } "" !== (n = e.name) && (e.name = ""), e.defaultChecked = !!e._wrapperState.initialChecked, "" !== n && (e.name = n) } function ee(e, t, n) { "number" === t && q(e.ownerDocument) === e || (null == n ? e.defaultValue = "" + e._wrapperState.initialValue : e.defaultValue !== "" + n && (e.defaultValue = "" + n)) } var te = Array.isArray; function ne(e, t, n, r) { if (e = e.options, t) { t = {}; for (var i = 0; i < n.length; i++)t["$" + n[i]] = !0; for (n = 0; n < e.length; n++)i = t.hasOwnProperty("$" + e[n].value), e[n].selected !== i && (e[n].selected = i), i && r && (e[n].defaultSelected = !0) } else { for (n = "" + X(n), t = null, i = 0; i < e.length; i++) { if (e[i].value === n) return e[i].selected = !0, void (r && (e[i].defaultSelected = !0)); null !== t || e[i].disabled || (t = e[i]) } null !== t && (t.selected = !0) } } function re(e, t) { if (null != t.dangerouslySetInnerHTML) throw Error(o(91)); return R({}, t, { value: void 0, defaultValue: void 0, children: "" + e._wrapperState.initialValue }) } function ie(e, t) { var n = t.value; if (null == n) { if (n = t.children, t = t.defaultValue, null != n) { if (null != t) throw Error(o(92)); if (te(n)) { if (1 < n.length) throw Error(o(93)); n = n[0] } t = n } null == t && (t = ""), n = t } e._wrapperState = { initialValue: X(n) } } function oe(e, t) { var n = X(t.value), r = X(t.defaultValue); null != n && ((n = "" + n) !== e.value && (e.value = n), null == t.defaultValue && e.defaultValue !== n && (e.defaultValue = n)), null != r && (e.defaultValue = "" + r) } function ae(e) { var t = e.textContent; t === e._wrapperState.initialValue && "" !== t && null !== t && (e.value = t) } function se(e) { switch (e) { case "svg": return "http://www.w3.org/2000/svg"; case "math": return "http://www.w3.org/1998/Math/MathML"; default: return "http://www.w3.org/1999/xhtml" } } function le(e, t) { return null == e || "http://www.w3.org/1999/xhtml" === e ? se(t) : "http://www.w3.org/2000/svg" === e && "foreignObject" === t ? "http://www.w3.org/1999/xhtml" : e } var ce, ue, he = (ue = function (e, t) { if ("http://www.w3.org/2000/svg" !== e.namespaceURI || "innerHTML" in e) e.innerHTML = t; else { for ((ce = ce || document.createElement("div")).innerHTML = "<svg>" + t.valueOf().toString() + "</svg>", t = ce.firstChild; e.firstChild;)e.removeChild(e.firstChild); for (; t.firstChild;)e.appendChild(t.firstChild) } }, "undefined" !== typeof MSApp && MSApp.execUnsafeLocalFunction ? function (e, t, n, r) { MSApp.execUnsafeLocalFunction((function () { return ue(e, t) })) } : ue); function fe(e, t) { if (t) { var n = e.firstChild; if (n && n === e.lastChild && 3 === n.nodeType) return void (n.nodeValue = t) } e.textContent = t } var de = { animationIterationCount: !0, aspectRatio: !0, borderImageOutset: !0, borderImageSlice: !0, borderImageWidth: !0, boxFlex: !0, boxFlexGroup: !0, boxOrdinalGroup: !0, columnCount: !0, columns: !0, flex: !0, flexGrow: !0, flexPositive: !0, flexShrink: !0, flexNegative: !0, flexOrder: !0, gridArea: !0, gridRow: !0, gridRowEnd: !0, gridRowSpan: !0, gridRowStart: !0, gridColumn: !0, gridColumnEnd: !0, gridColumnSpan: !0, gridColumnStart: !0, fontWeight: !0, lineClamp: !0, lineHeight: !0, opacity: !0, order: !0, orphans: !0, tabSize: !0, widows: !0, zIndex: !0, zoom: !0, fillOpacity: !0, floodOpacity: !0, stopOpacity: !0, strokeDasharray: !0, strokeDashoffset: !0, strokeMiterlimit: !0, strokeOpacity: !0, strokeWidth: !0 }, pe = ["Webkit", "ms", "Moz", "O"]; function ge(e, t, n) { return null == t || "boolean" === typeof t || "" === t ? "" : n || "number" !== typeof t || 0 === t || de.hasOwnProperty(e) && de[e] ? ("" + t).trim() : t + "px" } function ve(e, t) { for (var n in e = e.style, t) if (t.hasOwnProperty(n)) { var r = 0 === n.indexOf("--"), i = ge(n, t[n], r); "float" === n && (n = "cssFloat"), r ? e.setProperty(n, i) : e[n] = i } } Object.keys(de).forEach((function (e) { pe.forEach((function (t) { t = t + e.charAt(0).toUpperCase() + e.substring(1), de[t] = de[e] })) })); var me = R({ menuitem: !0 }, { area: !0, base: !0, br: !0, col: !0, embed: !0, hr: !0, img: !0, input: !0, keygen: !0, link: !0, meta: !0, param: !0, source: !0, track: !0, wbr: !0 }); function be(e, t) { if (t) { if (me[e] && (null != t.children || null != t.dangerouslySetInnerHTML)) throw Error(o(137, e)); if (null != t.dangerouslySetInnerHTML) { if (null != t.children) throw Error(o(60)); if ("object" !== typeof t.dangerouslySetInnerHTML || !("__html" in t.dangerouslySetInnerHTML)) throw Error(o(61)) } if (null != t.style && "object" !== typeof t.style) throw Error(o(62)) } } function ye(e, t) { if (-1 === e.indexOf("-")) return "string" === typeof t.is; switch (e) { case "annotation-xml": case "color-profile": case "font-face": case "font-face-src": case "font-face-uri": case "font-face-format": case "font-face-name": case "missing-glyph": return !1; default: return !0 } } var xe = null; function we(e) { return (e = e.target || e.srcElement || window).correspondingUseElement && (e = e.correspondingUseElement), 3 === e.nodeType ? e.parentNode : e } var _e = null, Se = null, Ce = null; function Oe(e) { if (e = yi(e)) { if ("function" !== typeof _e) throw Error(o(280)); var t = e.stateNode; t && (t = wi(t), _e(e.stateNode, e.type, t)) } } function ke(e) { Se ? Ce ? Ce.push(e) : Ce = [e] : Se = e } function je() { if (Se) { var e = Se, t = Ce; if (Ce = Se = null, Oe(e), t) for (e = 0; e < t.length; e++)Oe(t[e]) } } function Ee(e, t) { return e(t) } function Te() { } var Pe = !1; function Ae(e, t, n) { if (Pe) return e(t, n); Pe = !0; try { return Ee(e, t, n) } finally { Pe = !1, (null !== Se || null !== Ce) && (Te(), je()) } } function Me(e, t) { var n = e.stateNode; if (null === n) return null; var r = wi(n); if (null === r) return null; n = r[t]; e: switch (t) { case "onClick": case "onClickCapture": case "onDoubleClick": case "onDoubleClickCapture": case "onMouseDown": case "onMouseDownCapture": case "onMouseMove": case "onMouseMoveCapture": case "onMouseUp": case "onMouseUpCapture": case "onMouseEnter": (r = !r.disabled) || (r = !("button" === (e = e.type) || "input" === e || "select" === e || "textarea" === e)), e = !r; break e; default: e = !1 }if (e) return null; if (n && "function" !== typeof n) throw Error(o(231, t, typeof n)); return n } var De = !1; if (u) try { var Ie = {}; Object.defineProperty(Ie, "passive", { get: function () { De = !0 } }), window.addEventListener("test", Ie, Ie), window.removeEventListener("test", Ie, Ie) } catch (ue) { De = !1 } function Le(e, t, n, r, i, o, a, s, l) { var c = Array.prototype.slice.call(arguments, 3); try { t.apply(n, c) } catch (u) { this.onError(u) } } var Fe = !1, Re = null, Be = !1, Ne = null, ze = { onError: function (e) { Fe = !0, Re = e } }; function We(e, t, n, r, i, o, a, s, l) { Fe = !1, Re = null, Le.apply(ze, arguments) } function He(e) { var t = e, n = e; if (e.alternate) for (; t.return;)t = t.return; else { e = t; do { 0 !== (4098 & (t = e).flags) && (n = t.return), e = t.return } while (e) } return 3 === t.tag ? n : null } function Ue(e) { if (13 === e.tag) { var t = e.memoizedState; if (null === t && (null !== (e = e.alternate) && (t = e.memoizedState)), null !== t) return t.dehydrated } return null } function Xe(e) { if (He(e) !== e) throw Error(o(188)) } function Ve(e) { return null !== (e = function (e) { var t = e.alternate; if (!t) { if (null === (t = He(e))) throw Error(o(188)); return t !== e ? null : e } for (var n = e, r = t; ;) { var i = n.return; if (null === i) break; var a = i.alternate; if (null === a) { if (null !== (r = i.return)) { n = r; continue } break } if (i.child === a.child) { for (a = i.child; a;) { if (a === n) return Xe(i), e; if (a === r) return Xe(i), t; a = a.sibling } throw Error(o(188)) } if (n.return !== r.return) n = i, r = a; else { for (var s = !1, l = i.child; l;) { if (l === n) { s = !0, n = i, r = a; break } if (l === r) { s = !0, r = i, n = a; break } l = l.sibling } if (!s) { for (l = a.child; l;) { if (l === n) { s = !0, n = a, r = i; break } if (l === r) { s = !0, r = a, n = i; break } l = l.sibling } if (!s) throw Error(o(189)) } } if (n.alternate !== r) throw Error(o(190)) } if (3 !== n.tag) throw Error(o(188)); return n.stateNode.current === n ? e : t }(e)) ? Ge(e) : null } function Ge(e) { if (5 === e.tag || 6 === e.tag) return e; for (e = e.child; null !== e;) { var t = Ge(e); if (null !== t) return t; e = e.sibling } return null } var Ye = i.unstable_scheduleCallback, qe = i.unstable_cancelCallback, Ke = i.unstable_shouldYield, $e = i.unstable_requestPaint, Ze = i.unstable_now, Qe = i.unstable_getCurrentPriorityLevel, Je = i.unstable_ImmediatePriority, et = i.unstable_UserBlockingPriority, tt = i.unstable_NormalPriority, nt = i.unstable_LowPriority, rt = i.unstable_IdlePriority, it = null, ot = null; var at = Math.clz32 ? Math.clz32 : function (e) { return e >>>= 0, 0 === e ? 32 : 31 - (st(e) / lt | 0) | 0 }, st = Math.log, lt = Math.LN2; var ct = 64, ut = 4194304; function ht(e) { switch (e & -e) { case 1: return 1; case 2: return 2; case 4: return 4; case 8: return 8; case 16: return 16; case 32: return 32; case 64: case 128: case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: case 262144: case 524288: case 1048576: case 2097152: return 4194240 & e; case 4194304: case 8388608: case 16777216: case 33554432: case 67108864: return 130023424 & e; case 134217728: return 134217728; case 268435456: return 268435456; case 536870912: return 536870912; case 1073741824: return 1073741824; default: return e } } function ft(e, t) { var n = e.pendingLanes; if (0 === n) return 0; var r = 0, i = e.suspendedLanes, o = e.pingedLanes, a = 268435455 & n; if (0 !== a) { var s = a & ~i; 0 !== s ? r = ht(s) : 0 !== (o &= a) && (r = ht(o)) } else 0 !== (a = n & ~i) ? r = ht(a) : 0 !== o && (r = ht(o)); if (0 === r) return 0; if (0 !== t && t !== r && 0 === (t & i) && ((i = r & -r) >= (o = t & -t) || 16 === i && 0 !== (4194240 & o))) return t; if (0 !== (4 & r) && (r |= 16 & n), 0 !== (t = e.entangledLanes)) for (e = e.entanglements, t &= r; 0 < t;)i = 1 << (n = 31 - at(t)), r |= e[n], t &= ~i; return r } function dt(e, t) { switch (e) { case 1: case 2: case 4: return t + 250; case 8: case 16: case 32: case 64: case 128: case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: case 262144: case 524288: case 1048576: case 2097152: return t + 5e3; default: return -1 } } function pt(e) { return 0 !== (e = -1073741825 & e.pendingLanes) ? e : 1073741824 & e ? 1073741824 : 0 } function gt() { var e = ct; return 0 === (4194240 & (ct <<= 1)) && (ct = 64), e } function vt(e) { for (var t = [], n = 0; 31 > n; n++)t.push(e); return t } function mt(e, t, n) { e.pendingLanes |= t, 536870912 !== t && (e.suspendedLanes = 0, e.pingedLanes = 0), (e = e.eventTimes)[t = 31 - at(t)] = n } function bt(e, t) { var n = e.entangledLanes |= t; for (e = e.entanglements; n;) { var r = 31 - at(n), i = 1 << r; i & t | e[r] & t && (e[r] |= t), n &= ~i } } var yt = 0; function xt(e) { return 1 < (e &= -e) ? 4 < e ? 0 !== (268435455 & e) ? 16 : 536870912 : 4 : 1 } var wt, _t, St, Ct, Ot, kt = !1, jt = [], Et = null, Tt = null, Pt = null, At = new Map, Mt = new Map, Dt = [], It = "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "); function Lt(e, t) { switch (e) { case "focusin": case "focusout": Et = null; break; case "dragenter": case "dragleave": Tt = null; break; case "mouseover": case "mouseout": Pt = null; break; case "pointerover": case "pointerout": At.delete(t.pointerId); break; case "gotpointercapture": case "lostpointercapture": Mt.delete(t.pointerId) } } function Ft(e, t, n, r, i, o) { return null === e || e.nativeEvent !== o ? (e = { blockedOn: t, domEventName: n, eventSystemFlags: r, nativeEvent: o, targetContainers: [i] }, null !== t && (null !== (t = yi(t)) && _t(t)), e) : (e.eventSystemFlags |= r, t = e.targetContainers, null !== i && -1 === t.indexOf(i) && t.push(i), e) } function Rt(e) { var t = bi(e.target); if (null !== t) { var n = He(t); if (null !== n) if (13 === (t = n.tag)) { if (null !== (t = Ue(n))) return e.blockedOn = t, void Ot(e.priority, (function () { St(n) })) } else if (3 === t && n.stateNode.current.memoizedState.isDehydrated) return void (e.blockedOn = 3 === n.tag ? n.stateNode.containerInfo : null) } e.blockedOn = null } function Bt(e) { if (null !== e.blockedOn) return !1; for (var t = e.targetContainers; 0 < t.length;) { var n = Kt(e.domEventName, e.eventSystemFlags, t[0], e.nativeEvent); if (null !== n) return null !== (t = yi(n)) && _t(t), e.blockedOn = n, !1; var r = new (n = e.nativeEvent).constructor(n.type, n); xe = r, n.target.dispatchEvent(r), xe = null, t.shift() } return !0 } function Nt(e, t, n) { Bt(e) && n.delete(t) } function zt() { kt = !1, null !== Et && Bt(Et) && (Et = null), null !== Tt && Bt(Tt) && (Tt = null), null !== Pt && Bt(Pt) && (Pt = null), At.forEach(Nt), Mt.forEach(Nt) } function Wt(e, t) { e.blockedOn === t && (e.blockedOn = null, kt || (kt = !0, i.unstable_scheduleCallback(i.unstable_NormalPriority, zt))) } function Ht(e) { function t(t) { return Wt(t, e) } if (0 < jt.length) { Wt(jt[0], e); for (var n = 1; n < jt.length; n++) { var r = jt[n]; r.blockedOn === e && (r.blockedOn = null) } } for (null !== Et && Wt(Et, e), null !== Tt && Wt(Tt, e), null !== Pt && Wt(Pt, e), At.forEach(t), Mt.forEach(t), n = 0; n < Dt.length; n++)(r = Dt[n]).blockedOn === e && (r.blockedOn = null); for (; 0 < Dt.length && null === (n = Dt[0]).blockedOn;)Rt(n), null === n.blockedOn && Dt.shift() } var Ut = x.ReactCurrentBatchConfig, Xt = !0; function Vt(e, t, n, r) { var i = yt, o = Ut.transition; Ut.transition = null; try { yt = 1, Yt(e, t, n, r) } finally { yt = i, Ut.transition = o } } function Gt(e, t, n, r) { var i = yt, o = Ut.transition; Ut.transition = null; try { yt = 4, Yt(e, t, n, r) } finally { yt = i, Ut.transition = o } } function Yt(e, t, n, r) { if (Xt) { var i = Kt(e, t, n, r); if (null === i) Xr(e, t, r, qt, n), Lt(e, r); else if (function (e, t, n, r, i) { switch (t) { case "focusin": return Et = Ft(Et, e, t, n, r, i), !0; case "dragenter": return Tt = Ft(Tt, e, t, n, r, i), !0; case "mouseover": return Pt = Ft(Pt, e, t, n, r, i), !0; case "pointerover": var o = i.pointerId; return At.set(o, Ft(At.get(o) || null, e, t, n, r, i)), !0; case "gotpointercapture": return o = i.pointerId, Mt.set(o, Ft(Mt.get(o) || null, e, t, n, r, i)), !0 }return !1 }(i, e, t, n, r)) r.stopPropagation(); else if (Lt(e, r), 4 & t && -1 < It.indexOf(e)) { for (; null !== i;) { var o = yi(i); if (null !== o && wt(o), null === (o = Kt(e, t, n, r)) && Xr(e, t, r, qt, n), o === i) break; i = o } null !== i && r.stopPropagation() } else Xr(e, t, r, null, n) } } var qt = null; function Kt(e, t, n, r) { if (qt = null, null !== (e = bi(e = we(r)))) if (null === (t = He(e))) e = null; else if (13 === (n = t.tag)) { if (null !== (e = Ue(t))) return e; e = null } else if (3 === n) { if (t.stateNode.current.memoizedState.isDehydrated) return 3 === t.tag ? t.stateNode.containerInfo : null; e = null } else t !== e && (e = null); return qt = e, null } function $t(e) { switch (e) { case "cancel": case "click": case "close": case "contextmenu": case "copy": case "cut": case "auxclick": case "dblclick": case "dragend": case "dragstart": case "drop": case "focusin": case "focusout": case "input": case "invalid": case "keydown": case "keypress": case "keyup": case "mousedown": case "mouseup": case "paste": case "pause": case "play": case "pointercancel": case "pointerdown": case "pointerup": case "ratechange": case "reset": case "resize": case "seeked": case "submit": case "touchcancel": case "touchend": case "touchstart": case "volumechange": case "change": case "selectionchange": case "textInput": case "compositionstart": case "compositionend": case "compositionupdate": case "beforeblur": case "afterblur": case "beforeinput": case "blur": case "fullscreenchange": case "focus": case "hashchange": case "popstate": case "select": case "selectstart": return 1; case "drag": case "dragenter": case "dragexit": case "dragleave": case "dragover": case "mousemove": case "mouseout": case "mouseover": case "pointermove": case "pointerout": case "pointerover": case "scroll": case "toggle": case "touchmove": case "wheel": case "mouseenter": case "mouseleave": case "pointerenter": case "pointerleave": return 4; case "message": switch (Qe()) { case Je: return 1; case et: return 4; case tt: case nt: return 16; case rt: return 536870912; default: return 16 }default: return 16 } } var Zt = null, Qt = null, Jt = null; function en() { if (Jt) return Jt; var e, t, n = Qt, r = n.length, i = "value" in Zt ? Zt.value : Zt.textContent, o = i.length; for (e = 0; e < r && n[e] === i[e]; e++); var a = r - e; for (t = 1; t <= a && n[r - t] === i[o - t]; t++); return Jt = i.slice(e, 1 < t ? 1 - t : void 0) } function tn(e) { var t = e.keyCode; return "charCode" in e ? 0 === (e = e.charCode) && 13 === t && (e = 13) : e = t, 10 === e && (e = 13), 32 <= e || 13 === e ? e : 0 } function nn() { return !0 } function rn() { return !1 } function on(e) { function t(t, n, r, i, o) { for (var a in this._reactName = t, this._targetInst = r, this.type = n, this.nativeEvent = i, this.target = o, this.currentTarget = null, e) e.hasOwnProperty(a) && (t = e[a], this[a] = t ? t(i) : i[a]); return this.isDefaultPrevented = (null != i.defaultPrevented ? i.defaultPrevented : !1 === i.returnValue) ? nn : rn, this.isPropagationStopped = rn, this } return R(t.prototype, { preventDefault: function () { this.defaultPrevented = !0; var e = this.nativeEvent; e && (e.preventDefault ? e.preventDefault() : "unknown" !== typeof e.returnValue && (e.returnValue = !1), this.isDefaultPrevented = nn) }, stopPropagation: function () { var e = this.nativeEvent; e && (e.stopPropagation ? e.stopPropagation() : "unknown" !== typeof e.cancelBubble && (e.cancelBubble = !0), this.isPropagationStopped = nn) }, persist: function () { }, isPersistent: nn }), t } var an, sn, ln, cn = { eventPhase: 0, bubbles: 0, cancelable: 0, timeStamp: function (e) { return e.timeStamp || Date.now() }, defaultPrevented: 0, isTrusted: 0 }, un = on(cn), hn = R({}, cn, { view: 0, detail: 0 }), fn = on(hn), dn = R({}, hn, { screenX: 0, screenY: 0, clientX: 0, clientY: 0, pageX: 0, pageY: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, getModifierState: On, button: 0, buttons: 0, relatedTarget: function (e) { return void 0 === e.relatedTarget ? e.fromElement === e.srcElement ? e.toElement : e.fromElement : e.relatedTarget }, movementX: function (e) { return "movementX" in e ? e.movementX : (e !== ln && (ln && "mousemove" === e.type ? (an = e.screenX - ln.screenX, sn = e.screenY - ln.screenY) : sn = an = 0, ln = e), an) }, movementY: function (e) { return "movementY" in e ? e.movementY : sn } }), pn = on(dn), gn = on(R({}, dn, { dataTransfer: 0 })), vn = on(R({}, hn, { relatedTarget: 0 })), mn = on(R({}, cn, { animationName: 0, elapsedTime: 0, pseudoElement: 0 })), bn = R({}, cn, { clipboardData: function (e) { return "clipboardData" in e ? e.clipboardData : window.clipboardData } }), yn = on(bn), xn = on(R({}, cn, { data: 0 })), wn = { Esc: "Escape", Spacebar: " ", Left: "ArrowLeft", Up: "ArrowUp", Right: "ArrowRight", Down: "ArrowDown", Del: "Delete", Win: "OS", Menu: "ContextMenu", Apps: "ContextMenu", Scroll: "ScrollLock", MozPrintableKey: "Unidentified" }, _n = { 8: "Backspace", 9: "Tab", 12: "Clear", 13: "Enter", 16: "Shift", 17: "Control", 18: "Alt", 19: "Pause", 20: "CapsLock", 27: "Escape", 32: " ", 33: "PageUp", 34: "PageDown", 35: "End", 36: "Home", 37: "ArrowLeft", 38: "ArrowUp", 39: "ArrowRight", 40: "ArrowDown", 45: "Insert", 46: "Delete", 112: "F1", 113: "F2", 114: "F3", 115: "F4", 116: "F5", 117: "F6", 118: "F7", 119: "F8", 120: "F9", 121: "F10", 122: "F11", 123: "F12", 144: "NumLock", 145: "ScrollLock", 224: "Meta" }, Sn = { Alt: "altKey", Control: "ctrlKey", Meta: "metaKey", Shift: "shiftKey" }; function Cn(e) { var t = this.nativeEvent; return t.getModifierState ? t.getModifierState(e) : !!(e = Sn[e]) && !!t[e] } function On() { return Cn } var kn = R({}, hn, { key: function (e) { if (e.key) { var t = wn[e.key] || e.key; if ("Unidentified" !== t) return t } return "keypress" === e.type ? 13 === (e = tn(e)) ? "Enter" : String.fromCharCode(e) : "keydown" === e.type || "keyup" === e.type ? _n[e.keyCode] || "Unidentified" : "" }, code: 0, location: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, repeat: 0, locale: 0, getModifierState: On, charCode: function (e) { return "keypress" === e.type ? tn(e) : 0 }, keyCode: function (e) { return "keydown" === e.type || "keyup" === e.type ? e.keyCode : 0 }, which: function (e) { return "keypress" === e.type ? tn(e) : "keydown" === e.type || "keyup" === e.type ? e.keyCode : 0 } }), jn = on(kn), En = on(R({}, dn, { pointerId: 0, width: 0, height: 0, pressure: 0, tangentialPressure: 0, tiltX: 0, tiltY: 0, twist: 0, pointerType: 0, isPrimary: 0 })), Tn = on(R({}, hn, { touches: 0, targetTouches: 0, changedTouches: 0, altKey: 0, metaKey: 0, ctrlKey: 0, shiftKey: 0, getModifierState: On })), Pn = on(R({}, cn, { propertyName: 0, elapsedTime: 0, pseudoElement: 0 })), An = R({}, dn, { deltaX: function (e) { return "deltaX" in e ? e.deltaX : "wheelDeltaX" in e ? -e.wheelDeltaX : 0 }, deltaY: function (e) { return "deltaY" in e ? e.deltaY : "wheelDeltaY" in e ? -e.wheelDeltaY : "wheelDelta" in e ? -e.wheelDelta : 0 }, deltaZ: 0, deltaMode: 0 }), Mn = on(An), Dn = [9, 13, 27, 32], In = u && "CompositionEvent" in window, Ln = null; u && "documentMode" in document && (Ln = document.documentMode); var Fn = u && "TextEvent" in window && !Ln, Rn = u && (!In || Ln && 8 < Ln && 11 >= Ln), Bn = String.fromCharCode(32), Nn = !1; function zn(e, t) { switch (e) { case "keyup": return -1 !== Dn.indexOf(t.keyCode); case "keydown": return 229 !== t.keyCode; case "keypress": case "mousedown": case "focusout": return !0; default: return !1 } } function Wn(e) { return "object" === typeof (e = e.detail) && "data" in e ? e.data : null } var Hn = !1; var Un = { color: !0, date: !0, datetime: !0, "datetime-local": !0, email: !0, month: !0, number: !0, password: !0, range: !0, search: !0, tel: !0, text: !0, time: !0, url: !0, week: !0 }; function Xn(e) { var t = e && e.nodeName && e.nodeName.toLowerCase(); return "input" === t ? !!Un[e.type] : "textarea" === t } function Vn(e, t, n, r) { ke(r), 0 < (t = Gr(t, "onChange")).length && (n = new un("onChange", "change", null, n, r), e.push({ event: n, listeners: t })) } var Gn = null, Yn = null; function qn(e) { Br(e, 0) } function Kn(e) { if (Y(xi(e))) return e } function $n(e, t) { if ("change" === e) return t } var Zn = !1; if (u) { var Qn; if (u) { var Jn = "oninput" in document; if (!Jn) { var er = document.createElement("div"); er.setAttribute("oninput", "return;"), Jn = "function" === typeof er.oninput } Qn = Jn } else Qn = !1; Zn = Qn && (!document.documentMode || 9 < document.documentMode) } function tr() { Gn && (Gn.detachEvent("onpropertychange", nr), Yn = Gn = null) } function nr(e) { if ("value" === e.propertyName && Kn(Yn)) { var t = []; Vn(t, Yn, e, we(e)), Ae(qn, t) } } function rr(e, t, n) { "focusin" === e ? (tr(), Yn = n, (Gn = t).attachEvent("onpropertychange", nr)) : "focusout" === e && tr() } function ir(e) { if ("selectionchange" === e || "keyup" === e || "keydown" === e) return Kn(Yn) } function or(e, t) { if ("click" === e) return Kn(t) } function ar(e, t) { if ("input" === e || "change" === e) return Kn(t) } var sr = "function" === typeof Object.is ? Object.is : function (e, t) { return e === t && (0 !== e || 1 / e === 1 / t) || e !== e && t !== t }; function lr(e, t) { if (sr(e, t)) return !0; if ("object" !== typeof e || null === e || "object" !== typeof t || null === t) return !1; var n = Object.keys(e), r = Object.keys(t); if (n.length !== r.length) return !1; for (r = 0; r < n.length; r++) { var i = n[r]; if (!h.call(t, i) || !sr(e[i], t[i])) return !1 } return !0 } function cr(e) { for (; e && e.firstChild;)e = e.firstChild; return e } function ur(e, t) { var n, r = cr(e); for (e = 0; r;) { if (3 === r.nodeType) { if (n = e + r.textContent.length, e <= t && n >= t) return { node: r, offset: t - e }; e = n } e: { for (; r;) { if (r.nextSibling) { r = r.nextSibling; break e } r = r.parentNode } r = void 0 } r = cr(r) } } function hr(e, t) { return !(!e || !t) && (e === t || (!e || 3 !== e.nodeType) && (t && 3 === t.nodeType ? hr(e, t.parentNode) : "contains" in e ? e.contains(t) : !!e.compareDocumentPosition && !!(16 & e.compareDocumentPosition(t)))) } function fr() { for (var e = window, t = q(); t instanceof e.HTMLIFrameElement;) { try { var n = "string" === typeof t.contentWindow.location.href } catch (r) { n = !1 } if (!n) break; t = q((e = t.contentWindow).document) } return t } function dr(e) { var t = e && e.nodeName && e.nodeName.toLowerCase(); return t && ("input" === t && ("text" === e.type || "search" === e.type || "tel" === e.type || "url" === e.type || "password" === e.type) || "textarea" === t || "true" === e.contentEditable) } function pr(e) { var t = fr(), n = e.focusedElem, r = e.selectionRange; if (t !== n && n && n.ownerDocument && hr(n.ownerDocument.documentElement, n)) { if (null !== r && dr(n)) if (t = r.start, void 0 === (e = r.end) && (e = t), "selectionStart" in n) n.selectionStart = t, n.selectionEnd = Math.min(e, n.value.length); else if ((e = (t = n.ownerDocument || document) && t.defaultView || window).getSelection) { e = e.getSelection(); var i = n.textContent.length, o = Math.min(r.start, i); r = void 0 === r.end ? o : Math.min(r.end, i), !e.extend && o > r && (i = r, r = o, o = i), i = ur(n, o); var a = ur(n, r); i && a && (1 !== e.rangeCount || e.anchorNode !== i.node || e.anchorOffset !== i.offset || e.focusNode !== a.node || e.focusOffset !== a.offset) && ((t = t.createRange()).setStart(i.node, i.offset), e.removeAllRanges(), o > r ? (e.addRange(t), e.extend(a.node, a.offset)) : (t.setEnd(a.node, a.offset), e.addRange(t))) } for (t = [], e = n; e = e.parentNode;)1 === e.nodeType && t.push({ element: e, left: e.scrollLeft, top: e.scrollTop }); for ("function" === typeof n.focus && n.focus(), n = 0; n < t.length; n++)(e = t[n]).element.scrollLeft = e.left, e.element.scrollTop = e.top } } var gr = u && "documentMode" in document && 11 >= document.documentMode, vr = null, mr = null, br = null, yr = !1; function xr(e, t, n) { var r = n.window === n ? n.document : 9 === n.nodeType ? n : n.ownerDocument; yr || null == vr || vr !== q(r) || ("selectionStart" in (r = vr) && dr(r) ? r = { start: r.selectionStart, end: r.selectionEnd } : r = { anchorNode: (r = (r.ownerDocument && r.ownerDocument.defaultView || window).getSelection()).anchorNode, anchorOffset: r.anchorOffset, focusNode: r.focusNode, focusOffset: r.focusOffset }, br && lr(br, r) || (br = r, 0 < (r = Gr(mr, "onSelect")).length && (t = new un("onSelect", "select", null, t, n), e.push({ event: t, listeners: r }), t.target = vr))) } function wr(e, t) { var n = {}; return n[e.toLowerCase()] = t.toLowerCase(), n["Webkit" + e] = "webkit" + t, n["Moz" + e] = "moz" + t, n } var _r = { animationend: wr("Animation", "AnimationEnd"), animationiteration: wr("Animation", "AnimationIteration"), animationstart: wr("Animation", "AnimationStart"), transitionend: wr("Transition", "TransitionEnd") }, Sr = {}, Cr = {}; function Or(e) { if (Sr[e]) return Sr[e]; if (!_r[e]) return e; var t, n = _r[e]; for (t in n) if (n.hasOwnProperty(t) && t in Cr) return Sr[e] = n[t]; return e } u && (Cr = document.createElement("div").style, "AnimationEvent" in window || (delete _r.animationend.animation, delete _r.animationiteration.animation, delete _r.animationstart.animation), "TransitionEvent" in window || delete _r.transitionend.transition); var kr = Or("animationend"), jr = Or("animationiteration"), Er = Or("animationstart"), Tr = Or("transitionend"), Pr = new Map, Ar = "abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" "); function Mr(e, t) { Pr.set(e, t), l(t, [e]) } for (var Dr = 0; Dr < Ar.length; Dr++) { var Ir = Ar[Dr]; Mr(Ir.toLowerCase(), "on" + (Ir[0].toUpperCase() + Ir.slice(1))) } Mr(kr, "onAnimationEnd"), Mr(jr, "onAnimationIteration"), Mr(Er, "onAnimationStart"), Mr("dblclick", "onDoubleClick"), Mr("focusin", "onFocus"), Mr("focusout", "onBlur"), Mr(Tr, "onTransitionEnd"), c("onMouseEnter", ["mouseout", "mouseover"]), c("onMouseLeave", ["mouseout", "mouseover"]), c("onPointerEnter", ["pointerout", "pointerover"]), c("onPointerLeave", ["pointerout", "pointerover"]), l("onChange", "change click focusin focusout input keydown keyup selectionchange".split(" ")), l("onSelect", "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")), l("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]), l("onCompositionEnd", "compositionend focusout keydown keypress keyup mousedown".split(" ")), l("onCompositionStart", "compositionstart focusout keydown keypress keyup mousedown".split(" ")), l("onCompositionUpdate", "compositionupdate focusout keydown keypress keyup mousedown".split(" ")); var Lr = "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "), Fr = new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr)); function Rr(e, t, n) { var r = e.type || "unknown-event"; e.currentTarget = n, function (e, t, n, r, i, a, s, l, c) { if (We.apply(this, arguments), Fe) { if (!Fe) throw Error(o(198)); var u = Re; Fe = !1, Re = null, Be || (Be = !0, Ne = u) } }(r, t, void 0, e), e.currentTarget = null } function Br(e, t) { t = 0 !== (4 & t); for (var n = 0; n < e.length; n++) { var r = e[n], i = r.event; r = r.listeners; e: { var o = void 0; if (t) for (var a = r.length - 1; 0 <= a; a--) { var s = r[a], l = s.instance, c = s.currentTarget; if (s = s.listener, l !== o && i.isPropagationStopped()) break e; Rr(i, s, c), o = l } else for (a = 0; a < r.length; a++) { if (l = (s = r[a]).instance, c = s.currentTarget, s = s.listener, l !== o && i.isPropagationStopped()) break e; Rr(i, s, c), o = l } } } if (Be) throw e = Ne, Be = !1, Ne = null, e } function Nr(e, t) { var n = t[gi]; void 0 === n && (n = t[gi] = new Set); var r = e + "__bubble"; n.has(r) || (Ur(t, e, 2, !1), n.add(r)) } function zr(e, t, n) { var r = 0; t && (r |= 4), Ur(n, e, r, t) } var Wr = "_reactListening" + Math.random().toString(36).slice(2); function Hr(e) { if (!e[Wr]) { e[Wr] = !0, a.forEach((function (t) { "selectionchange" !== t && (Fr.has(t) || zr(t, !1, e), zr(t, !0, e)) })); var t = 9 === e.nodeType ? e : e.ownerDocument; null === t || t[Wr] || (t[Wr] = !0, zr("selectionchange", !1, t)) } } function Ur(e, t, n, r) { switch ($t(t)) { case 1: var i = Vt; break; case 4: i = Gt; break; default: i = Yt }n = i.bind(null, t, n, e), i = void 0, !De || "touchstart" !== t && "touchmove" !== t && "wheel" !== t || (i = !0), r ? void 0 !== i ? e.addEventListener(t, n, { capture: !0, passive: i }) : e.addEventListener(t, n, !0) : void 0 !== i ? e.addEventListener(t, n, { passive: i }) : e.addEventListener(t, n, !1) } function Xr(e, t, n, r, i) { var o = r; if (0 === (1 & t) && 0 === (2 & t) && null !== r) e: for (; ;) { if (null === r) return; var a = r.tag; if (3 === a || 4 === a) { var s = r.stateNode.containerInfo; if (s === i || 8 === s.nodeType && s.parentNode === i) break; if (4 === a) for (a = r.return; null !== a;) { var l = a.tag; if ((3 === l || 4 === l) && ((l = a.stateNode.containerInfo) === i || 8 === l.nodeType && l.parentNode === i)) return; a = a.return } for (; null !== s;) { if (null === (a = bi(s))) return; if (5 === (l = a.tag) || 6 === l) { r = o = a; continue e } s = s.parentNode } } r = r.return } Ae((function () { var r = o, i = we(n), a = []; e: { var s = Pr.get(e); if (void 0 !== s) { var l = un, c = e; switch (e) { case "keypress": if (0 === tn(n)) break e; case "keydown": case "keyup": l = jn; break; case "focusin": c = "focus", l = vn; break; case "focusout": c = "blur", l = vn; break; case "beforeblur": case "afterblur": l = vn; break; case "click": if (2 === n.button) break e; case "auxclick": case "dblclick": case "mousedown": case "mousemove": case "mouseup": case "mouseout": case "mouseover": case "contextmenu": l = pn; break; case "drag": case "dragend": case "dragenter": case "dragexit": case "dragleave": case "dragover": case "dragstart": case "drop": l = gn; break; case "touchcancel": case "touchend": case "touchmove": case "touchstart": l = Tn; break; case kr: case jr: case Er: l = mn; break; case Tr: l = Pn; break; case "scroll": l = fn; break; case "wheel": l = Mn; break; case "copy": case "cut": case "paste": l = yn; break; case "gotpointercapture": case "lostpointercapture": case "pointercancel": case "pointerdown": case "pointermove": case "pointerout": case "pointerover": case "pointerup": l = En }var u = 0 !== (4 & t), h = !u && "scroll" === e, f = u ? null !== s ? s + "Capture" : null : s; u = []; for (var d, p = r; null !== p;) { var g = (d = p).stateNode; if (5 === d.tag && null !== g && (d = g, null !== f && (null != (g = Me(p, f)) && u.push(Vr(p, g, d)))), h) break; p = p.return } 0 < u.length && (s = new l(s, c, null, n, i), a.push({ event: s, listeners: u })) } } if (0 === (7 & t)) { if (l = "mouseout" === e || "pointerout" === e, (!(s = "mouseover" === e || "pointerover" === e) || n === xe || !(c = n.relatedTarget || n.fromElement) || !bi(c) && !c[pi]) && (l || s) && (s = i.window === i ? i : (s = i.ownerDocument) ? s.defaultView || s.parentWindow : window, l ? (l = r, null !== (c = (c = n.relatedTarget || n.toElement) ? bi(c) : null) && (c !== (h = He(c)) || 5 !== c.tag && 6 !== c.tag) && (c = null)) : (l = null, c = r), l !== c)) { if (u = pn, g = "onMouseLeave", f = "onMouseEnter", p = "mouse", "pointerout" !== e && "pointerover" !== e || (u = En, g = "onPointerLeave", f = "onPointerEnter", p = "pointer"), h = null == l ? s : xi(l), d = null == c ? s : xi(c), (s = new u(g, p + "leave", l, n, i)).target = h, s.relatedTarget = d, g = null, bi(i) === r && ((u = new u(f, p + "enter", c, n, i)).target = d, u.relatedTarget = h, g = u), h = g, l && c) e: { for (f = c, p = 0, d = u = l; d; d = Yr(d))p++; for (d = 0, g = f; g; g = Yr(g))d++; for (; 0 < p - d;)u = Yr(u), p--; for (; 0 < d - p;)f = Yr(f), d--; for (; p--;) { if (u === f || null !== f && u === f.alternate) break e; u = Yr(u), f = Yr(f) } u = null } else u = null; null !== l && qr(a, s, l, u, !1), null !== c && null !== h && qr(a, h, c, u, !0) } if ("select" === (l = (s = r ? xi(r) : window).nodeName && s.nodeName.toLowerCase()) || "input" === l && "file" === s.type) var v = $n; else if (Xn(s)) if (Zn) v = ar; else { v = ir; var m = rr } else (l = s.nodeName) && "input" === l.toLowerCase() && ("checkbox" === s.type || "radio" === s.type) && (v = or); switch (v && (v = v(e, r)) ? Vn(a, v, n, i) : (m && m(e, s, r), "focusout" === e && (m = s._wrapperState) && m.controlled && "number" === s.type && ee(s, "number", s.value)), m = r ? xi(r) : window, e) { case "focusin": (Xn(m) || "true" === m.contentEditable) && (vr = m, mr = r, br = null); break; case "focusout": br = mr = vr = null; break; case "mousedown": yr = !0; break; case "contextmenu": case "mouseup": case "dragend": yr = !1, xr(a, n, i); break; case "selectionchange": if (gr) break; case "keydown": case "keyup": xr(a, n, i) }var b; if (In) e: { switch (e) { case "compositionstart": var y = "onCompositionStart"; break e; case "compositionend": y = "onCompositionEnd"; break e; case "compositionupdate": y = "onCompositionUpdate"; break e }y = void 0 } else Hn ? zn(e, n) && (y = "onCompositionEnd") : "keydown" === e && 229 === n.keyCode && (y = "onCompositionStart"); y && (Rn && "ko" !== n.locale && (Hn || "onCompositionStart" !== y ? "onCompositionEnd" === y && Hn && (b = en()) : (Qt = "value" in (Zt = i) ? Zt.value : Zt.textContent, Hn = !0)), 0 < (m = Gr(r, y)).length && (y = new xn(y, e, null, n, i), a.push({ event: y, listeners: m }), b ? y.data = b : null !== (b = Wn(n)) && (y.data = b))), (b = Fn ? function (e, t) { switch (e) { case "compositionend": return Wn(t); case "keypress": return 32 !== t.which ? null : (Nn = !0, Bn); case "textInput": return (e = t.data) === Bn && Nn ? null : e; default: return null } }(e, n) : function (e, t) { if (Hn) return "compositionend" === e || !In && zn(e, t) ? (e = en(), Jt = Qt = Zt = null, Hn = !1, e) : null; switch (e) { case "paste": default: return null; case "keypress": if (!(t.ctrlKey || t.altKey || t.metaKey) || t.ctrlKey && t.altKey) { if (t.char && 1 < t.char.length) return t.char; if (t.which) return String.fromCharCode(t.which) } return null; case "compositionend": return Rn && "ko" !== t.locale ? null : t.data } }(e, n)) && (0 < (r = Gr(r, "onBeforeInput")).length && (i = new xn("onBeforeInput", "beforeinput", null, n, i), a.push({ event: i, listeners: r }), i.data = b)) } Br(a, t) })) } function Vr(e, t, n) { return { instance: e, listener: t, currentTarget: n } } function Gr(e, t) { for (var n = t + "Capture", r = []; null !== e;) { var i = e, o = i.stateNode; 5 === i.tag && null !== o && (i = o, null != (o = Me(e, n)) && r.unshift(Vr(e, o, i)), null != (o = Me(e, t)) && r.push(Vr(e, o, i))), e = e.return } return r } function Yr(e) { if (null === e) return null; do { e = e.return } while (e && 5 !== e.tag); return e || null } function qr(e, t, n, r, i) { for (var o = t._reactName, a = []; null !== n && n !== r;) { var s = n, l = s.alternate, c = s.stateNode; if (null !== l && l === r) break; 5 === s.tag && null !== c && (s = c, i ? null != (l = Me(n, o)) && a.unshift(Vr(n, l, s)) : i || null != (l = Me(n, o)) && a.push(Vr(n, l, s))), n = n.return } 0 !== a.length && e.push({ event: t, listeners: a }) } var Kr = /\r\n?/g, $r = /\u0000|\uFFFD/g; function Zr(e) { return ("string" === typeof e ? e : "" + e).replace(Kr, "\n").replace($r, "") } function Qr(e, t, n) { if (t = Zr(t), Zr(e) !== t && n) throw Error(o(425)) } function Jr() { } var ei = null, ti = null; function ni(e, t) { return "textarea" === e || "noscript" === e || "string" === typeof t.children || "number" === typeof t.children || "object" === typeof t.dangerouslySetInnerHTML && null !== t.dangerouslySetInnerHTML && null != t.dangerouslySetInnerHTML.__html } var ri = "function" === typeof setTimeout ? setTimeout : void 0, ii = "function" === typeof clearTimeout ? clearTimeout : void 0, oi = "function" === typeof Promise ? Promise : void 0, ai = "function" === typeof queueMicrotask ? queueMicrotask : "undefined" !== typeof oi ? function (e) { return oi.resolve(null).then(e).catch(si) } : ri; function si(e) { setTimeout((function () { throw e })) } function li(e, t) { var n = t, r = 0; do { var i = n.nextSibling; if (e.removeChild(n), i && 8 === i.nodeType) if ("/$" === (n = i.data)) { if (0 === r) return e.removeChild(i), void Ht(t); r-- } else "$" !== n && "$?" !== n && "$!" !== n || r++; n = i } while (n); Ht(t) } function ci(e) { for (; null != e; e = e.nextSibling) { var t = e.nodeType; if (1 === t || 3 === t) break; if (8 === t) { if ("$" === (t = e.data) || "$!" === t || "$?" === t) break; if ("/$" === t) return null } } return e } function ui(e) { e = e.previousSibling; for (var t = 0; e;) { if (8 === e.nodeType) { var n = e.data; if ("$" === n || "$!" === n || "$?" === n) { if (0 === t) return e; t-- } else "/$" === n && t++ } e = e.previousSibling } return null } var hi = Math.random().toString(36).slice(2), fi = "__reactFiber$" + hi, di = "__reactProps$" + hi, pi = "__reactContainer$" + hi, gi = "__reactEvents$" + hi, vi = "__reactListeners$" + hi, mi = "__reactHandles$" + hi; function bi(e) { var t = e[fi]; if (t) return t; for (var n = e.parentNode; n;) { if (t = n[pi] || n[fi]) { if (n = t.alternate, null !== t.child || null !== n && null !== n.child) for (e = ui(e); null !== e;) { if (n = e[fi]) return n; e = ui(e) } return t } n = (e = n).parentNode } return null } function yi(e) { return !(e = e[fi] || e[pi]) || 5 !== e.tag && 6 !== e.tag && 13 !== e.tag && 3 !== e.tag ? null : e } function xi(e) { if (5 === e.tag || 6 === e.tag) return e.stateNode; throw Error(o(33)) } function wi(e) { return e[di] || null } var _i = [], Si = -1; function Ci(e) { return { current: e } } function Oi(e) { 0 > Si || (e.current = _i[Si], _i[Si] = null, Si--) } function ki(e, t) { Si++, _i[Si] = e.current, e.current = t } var ji = {}, Ei = Ci(ji), Ti = Ci(!1), Pi = ji; function Ai(e, t) { var n = e.type.contextTypes; if (!n) return ji; var r = e.stateNode; if (r && r.__reactInternalMemoizedUnmaskedChildContext === t) return r.__reactInternalMemoizedMaskedChildContext; var i, o = {}; for (i in n) o[i] = t[i]; return r && ((e = e.stateNode).__reactInternalMemoizedUnmaskedChildContext = t, e.__reactInternalMemoizedMaskedChildContext = o), o } function Mi(e) { return null !== (e = e.childContextTypes) && void 0 !== e } function Di() { Oi(Ti), Oi(Ei) } function Ii(e, t, n) { if (Ei.current !== ji) throw Error(o(168)); ki(Ei, t), ki(Ti, n) } function Li(e, t, n) { var r = e.stateNode; if (t = t.childContextTypes, "function" !== typeof r.getChildContext) return n; for (var i in r = r.getChildContext()) if (!(i in t)) throw Error(o(108, U(e) || "Unknown", i)); return R({}, n, r) } function Fi(e) { return e = (e = e.stateNode) && e.__reactInternalMemoizedMergedChildContext || ji, Pi = Ei.current, ki(Ei, e), ki(Ti, Ti.current), !0 } function Ri(e, t, n) { var r = e.stateNode; if (!r) throw Error(o(169)); n ? (e = Li(e, t, Pi), r.__reactInternalMemoizedMergedChildContext = e, Oi(Ti), Oi(Ei), ki(Ei, e)) : Oi(Ti), ki(Ti, n) } var Bi = null, Ni = !1, zi = !1; function Wi(e) { null === Bi ? Bi = [e] : Bi.push(e) } function Hi() { if (!zi && null !== Bi) { zi = !0; var e = 0, t = yt; try { var n = Bi; for (yt = 1; e < n.length; e++) { var r = n[e]; do { r = r(!0) } while (null !== r) } Bi = null, Ni = !1 } catch (i) { throw null !== Bi && (Bi = Bi.slice(e + 1)), Ye(Je, Hi), i } finally { yt = t, zi = !1 } } return null } var Ui = [], Xi = 0, Vi = null, Gi = 0, Yi = [], qi = 0, Ki = null, $i = 1, Zi = ""; function Qi(e, t) { Ui[Xi++] = Gi, Ui[Xi++] = Vi, Vi = e, Gi = t } function Ji(e, t, n) { Yi[qi++] = $i, Yi[qi++] = Zi, Yi[qi++] = Ki, Ki = e; var r = $i; e = Zi; var i = 32 - at(r) - 1; r &= ~(1 << i), n += 1; var o = 32 - at(t) + i; if (30 < o) { var a = i - i % 5; o = (r & (1 << a) - 1).toString(32), r >>= a, i -= a, $i = 1 << 32 - at(t) + i | n << i | r, Zi = o + e } else $i = 1 << o | n << i | r, Zi = e } function eo(e) { null !== e.return && (Qi(e, 1), Ji(e, 1, 0)) } function to(e) { for (; e === Vi;)Vi = Ui[--Xi], Ui[Xi] = null, Gi = Ui[--Xi], Ui[Xi] = null; for (; e === Ki;)Ki = Yi[--qi], Yi[qi] = null, Zi = Yi[--qi], Yi[qi] = null, $i = Yi[--qi], Yi[qi] = null } var no = null, ro = null, io = !1, oo = null; function ao(e, t) { var n = Mc(5, null, null, 0); n.elementType = "DELETED", n.stateNode = t, n.return = e, null === (t = e.deletions) ? (e.deletions = [n], e.flags |= 16) : t.push(n) } function so(e, t) { switch (e.tag) { case 5: var n = e.type; return null !== (t = 1 !== t.nodeType || n.toLowerCase() !== t.nodeName.toLowerCase() ? null : t) && (e.stateNode = t, no = e, ro = ci(t.firstChild), !0); case 6: return null !== (t = "" === e.pendingProps || 3 !== t.nodeType ? null : t) && (e.stateNode = t, no = e, ro = null, !0); case 13: return null !== (t = 8 !== t.nodeType ? null : t) && (n = null !== Ki ? { id: $i, overflow: Zi } : null, e.memoizedState = { dehydrated: t, treeContext: n, retryLane: 1073741824 }, (n = Mc(18, null, null, 0)).stateNode = t, n.return = e, e.child = n, no = e, ro = null, !0); default: return !1 } } function lo(e) { return 0 !== (1 & e.mode) && 0 === (128 & e.flags) } function co(e) { if (io) { var t = ro; if (t) { var n = t; if (!so(e, t)) { if (lo(e)) throw Error(o(418)); t = ci(n.nextSibling); var r = no; t && so(e, t) ? ao(r, n) : (e.flags = -4097 & e.flags | 2, io = !1, no = e) } } else { if (lo(e)) throw Error(o(418)); e.flags = -4097 & e.flags | 2, io = !1, no = e } } } function uo(e) { for (e = e.return; null !== e && 5 !== e.tag && 3 !== e.tag && 13 !== e.tag;)e = e.return; no = e } function ho(e) { if (e !== no) return !1; if (!io) return uo(e), io = !0, !1; var t; if ((t = 3 !== e.tag) && !(t = 5 !== e.tag) && (t = "head" !== (t = e.type) && "body" !== t && !ni(e.type, e.memoizedProps)), t && (t = ro)) { if (lo(e)) throw fo(), Error(o(418)); for (; t;)ao(e, t), t = ci(t.nextSibling) } if (uo(e), 13 === e.tag) { if (!(e = null !== (e = e.memoizedState) ? e.dehydrated : null)) throw Error(o(317)); e: { for (e = e.nextSibling, t = 0; e;) { if (8 === e.nodeType) { var n = e.data; if ("/$" === n) { if (0 === t) { ro = ci(e.nextSibling); break e } t-- } else "$" !== n && "$!" !== n && "$?" !== n || t++ } e = e.nextSibling } ro = null } } else ro = no ? ci(e.stateNode.nextSibling) : null; return !0 } function fo() { for (var e = ro; e;)e = ci(e.nextSibling) } function po() { ro = no = null, io = !1 } function go(e) { null === oo ? oo = [e] : oo.push(e) } var vo = x.ReactCurrentBatchConfig; function mo(e, t) { if (e && e.defaultProps) { for (var n in t = R({}, t), e = e.defaultProps) void 0 === t[n] && (t[n] = e[n]); return t } return t } var bo = Ci(null), yo = null, xo = null, wo = null; function _o() { wo = xo = yo = null } function So(e) { var t = bo.current; Oi(bo), e._currentValue = t } function Co(e, t, n) { for (; null !== e;) { var r = e.alternate; if ((e.childLanes & t) !== t ? (e.childLanes |= t, null !== r && (r.childLanes |= t)) : null !== r && (r.childLanes & t) !== t && (r.childLanes |= t), e === n) break; e = e.return } } function Oo(e, t) { yo = e, wo = xo = null, null !== (e = e.dependencies) && null !== e.firstContext && (0 !== (e.lanes & t) && (xs = !0), e.firstContext = null) } function ko(e) { var t = e._currentValue; if (wo !== e) if (e = { context: e, memoizedValue: t, next: null }, null === xo) { if (null === yo) throw Error(o(308)); xo = e, yo.dependencies = { lanes: 0, firstContext: e } } else xo = xo.next = e; return t } var jo = null; function Eo(e) { null === jo ? jo = [e] : jo.push(e) } function To(e, t, n, r) { var i = t.interleaved; return null === i ? (n.next = n, Eo(t)) : (n.next = i.next, i.next = n), t.interleaved = n, Po(e, r) } function Po(e, t) { e.lanes |= t; var n = e.alternate; for (null !== n && (n.lanes |= t), n = e, e = e.return; null !== e;)e.childLanes |= t, null !== (n = e.alternate) && (n.childLanes |= t), n = e, e = e.return; return 3 === n.tag ? n.stateNode : null } var Ao = !1; function Mo(e) { e.updateQueue = { baseState: e.memoizedState, firstBaseUpdate: null, lastBaseUpdate: null, shared: { pending: null, interleaved: null, lanes: 0 }, effects: null } } function Do(e, t) { e = e.updateQueue, t.updateQueue === e && (t.updateQueue = { baseState: e.baseState, firstBaseUpdate: e.firstBaseUpdate, lastBaseUpdate: e.lastBaseUpdate, shared: e.shared, effects: e.effects }) } function Io(e, t) { return { eventTime: e, lane: t, tag: 0, payload: null, callback: null, next: null } } function Lo(e, t, n) { var r = e.updateQueue; if (null === r) return null; if (r = r.shared, 0 !== (2 & Tl)) { var i = r.pending; return null === i ? t.next = t : (t.next = i.next, i.next = t), r.pending = t, Po(e, n) } return null === (i = r.interleaved) ? (t.next = t, Eo(r)) : (t.next = i.next, i.next = t), r.interleaved = t, Po(e, n) } function Fo(e, t, n) { if (null !== (t = t.updateQueue) && (t = t.shared, 0 !== (4194240 & n))) { var r = t.lanes; n |= r &= e.pendingLanes, t.lanes = n, bt(e, n) } } function Ro(e, t) { var n = e.updateQueue, r = e.alternate; if (null !== r && n === (r = r.updateQueue)) { var i = null, o = null; if (null !== (n = n.firstBaseUpdate)) { do { var a = { eventTime: n.eventTime, lane: n.lane, tag: n.tag, payload: n.payload, callback: n.callback, next: null }; null === o ? i = o = a : o = o.next = a, n = n.next } while (null !== n); null === o ? i = o = t : o = o.next = t } else i = o = t; return n = { baseState: r.baseState, firstBaseUpdate: i, lastBaseUpdate: o, shared: r.shared, effects: r.effects }, void (e.updateQueue = n) } null === (e = n.lastBaseUpdate) ? n.firstBaseUpdate = t : e.next = t, n.lastBaseUpdate = t } function Bo(e, t, n, r) { var i = e.updateQueue; Ao = !1; var o = i.firstBaseUpdate, a = i.lastBaseUpdate, s = i.shared.pending; if (null !== s) { i.shared.pending = null; var l = s, c = l.next; l.next = null, null === a ? o = c : a.next = c, a = l; var u = e.alternate; null !== u && ((s = (u = u.updateQueue).lastBaseUpdate) !== a && (null === s ? u.firstBaseUpdate = c : s.next = c, u.lastBaseUpdate = l)) } if (null !== o) { var h = i.baseState; for (a = 0, u = c = l = null, s = o; ;) { var f = s.lane, d = s.eventTime; if ((r & f) === f) { null !== u && (u = u.next = { eventTime: d, lane: 0, tag: s.tag, payload: s.payload, callback: s.callback, next: null }); e: { var p = e, g = s; switch (f = t, d = n, g.tag) { case 1: if ("function" === typeof (p = g.payload)) { h = p.call(d, h, f); break e } h = p; break e; case 3: p.flags = -65537 & p.flags | 128; case 0: if (null === (f = "function" === typeof (p = g.payload) ? p.call(d, h, f) : p) || void 0 === f) break e; h = R({}, h, f); break e; case 2: Ao = !0 } } null !== s.callback && 0 !== s.lane && (e.flags |= 64, null === (f = i.effects) ? i.effects = [s] : f.push(s)) } else d = { eventTime: d, lane: f, tag: s.tag, payload: s.payload, callback: s.callback, next: null }, null === u ? (c = u = d, l = h) : u = u.next = d, a |= f; if (null === (s = s.next)) { if (null === (s = i.shared.pending)) break; s = (f = s).next, f.next = null, i.lastBaseUpdate = f, i.shared.pending = null } } if (null === u && (l = h), i.baseState = l, i.firstBaseUpdate = c, i.lastBaseUpdate = u, null !== (t = i.shared.interleaved)) { i = t; do { a |= i.lane, i = i.next } while (i !== t) } else null === o && (i.shared.lanes = 0); Rl |= a, e.lanes = a, e.memoizedState = h } } function No(e, t, n) { if (e = t.effects, t.effects = null, null !== e) for (t = 0; t < e.length; t++) { var r = e[t], i = r.callback; if (null !== i) { if (r.callback = null, r = n, "function" !== typeof i) throw Error(o(191, i)); i.call(r) } } } var zo = (new r.Component).refs; function Wo(e, t, n, r) { n = null === (n = n(r, t = e.memoizedState)) || void 0 === n ? t : R({}, t, n), e.memoizedState = n, 0 === e.lanes && (e.updateQueue.baseState = n) } var Ho = { isMounted: function (e) { return !!(e = e._reactInternals) && He(e) === e }, enqueueSetState: function (e, t, n) { e = e._reactInternals; var r = tc(), i = nc(e), o = Io(r, i); o.payload = t, void 0 !== n && null !== n && (o.callback = n), null !== (t = Lo(e, o, i)) && (rc(t, e, i, r), Fo(t, e, i)) }, enqueueReplaceState: function (e, t, n) { e = e._reactInternals; var r = tc(), i = nc(e), o = Io(r, i); o.tag = 1, o.payload = t, void 0 !== n && null !== n && (o.callback = n), null !== (t = Lo(e, o, i)) && (rc(t, e, i, r), Fo(t, e, i)) }, enqueueForceUpdate: function (e, t) { e = e._reactInternals; var n = tc(), r = nc(e), i = Io(n, r); i.tag = 2, void 0 !== t && null !== t && (i.callback = t), null !== (t = Lo(e, i, r)) && (rc(t, e, r, n), Fo(t, e, r)) } }; function Uo(e, t, n, r, i, o, a) { return "function" === typeof (e = e.stateNode).shouldComponentUpdate ? e.shouldComponentUpdate(r, o, a) : !t.prototype || !t.prototype.isPureReactComponent || (!lr(n, r) || !lr(i, o)) } function Xo(e, t, n) { var r = !1, i = ji, o = t.contextType; return "object" === typeof o && null !== o ? o = ko(o) : (i = Mi(t) ? Pi : Ei.current, o = (r = null !== (r = t.contextTypes) && void 0 !== r) ? Ai(e, i) : ji), t = new t(n, o), e.memoizedState = null !== t.state && void 0 !== t.state ? t.state : null, t.updater = Ho, e.stateNode = t, t._reactInternals = e, r && ((e = e.stateNode).__reactInternalMemoizedUnmaskedChildContext = i, e.__reactInternalMemoizedMaskedChildContext = o), t } function Vo(e, t, n, r) { e = t.state, "function" === typeof t.componentWillReceiveProps && t.componentWillReceiveProps(n, r), "function" === typeof t.UNSAFE_componentWillReceiveProps && t.UNSAFE_componentWillReceiveProps(n, r), t.state !== e && Ho.enqueueReplaceState(t, t.state, null) } function Go(e, t, n, r) { var i = e.stateNode; i.props = n, i.state = e.memoizedState, i.refs = zo, Mo(e); var o = t.contextType; "object" === typeof o && null !== o ? i.context = ko(o) : (o = Mi(t) ? Pi : Ei.current, i.context = Ai(e, o)), i.state = e.memoizedState, "function" === typeof (o = t.getDerivedStateFromProps) && (Wo(e, t, o, n), i.state = e.memoizedState), "function" === typeof t.getDerivedStateFromProps || "function" === typeof i.getSnapshotBeforeUpdate || "function" !== typeof i.UNSAFE_componentWillMount && "function" !== typeof i.componentWillMount || (t = i.state, "function" === typeof i.componentWillMount && i.componentWillMount(), "function" === typeof i.UNSAFE_componentWillMount && i.UNSAFE_componentWillMount(), t !== i.state && Ho.enqueueReplaceState(i, i.state, null), Bo(e, n, i, r), i.state = e.memoizedState), "function" === typeof i.componentDidMount && (e.flags |= 4194308) } function Yo(e, t, n) { if (null !== (e = n.ref) && "function" !== typeof e && "object" !== typeof e) { if (n._owner) { if (n = n._owner) { if (1 !== n.tag) throw Error(o(309)); var r = n.stateNode } if (!r) throw Error(o(147, e)); var i = r, a = "" + e; return null !== t && null !== t.ref && "function" === typeof t.ref && t.ref._stringRef === a ? t.ref : (t = function (e) { var t = i.refs; t === zo && (t = i.refs = {}), null === e ? delete t[a] : t[a] = e }, t._stringRef = a, t) } if ("string" !== typeof e) throw Error(o(284)); if (!n._owner) throw Error(o(290, e)) } return e } function qo(e, t) { throw e = Object.prototype.toString.call(t), Error(o(31, "[object Object]" === e ? "object with keys {" + Object.keys(t).join(", ") + "}" : e)) } function Ko(e) { return (0, e._init)(e._payload) } function $o(e) { function t(t, n) { if (e) { var r = t.deletions; null === r ? (t.deletions = [n], t.flags |= 16) : r.push(n) } } function n(n, r) { if (!e) return null; for (; null !== r;)t(n, r), r = r.sibling; return null } function r(e, t) { for (e = new Map; null !== t;)null !== t.key ? e.set(t.key, t) : e.set(t.index, t), t = t.sibling; return e } function i(e, t) { return (e = Ic(e, t)).index = 0, e.sibling = null, e } function a(t, n, r) { return t.index = r, e ? null !== (r = t.alternate) ? (r = r.index) < n ? (t.flags |= 2, n) : r : (t.flags |= 2, n) : (t.flags |= 1048576, n) } function s(t) { return e && null === t.alternate && (t.flags |= 2), t } function l(e, t, n, r) { return null === t || 6 !== t.tag ? ((t = Bc(n, e.mode, r)).return = e, t) : ((t = i(t, n)).return = e, t) } function c(e, t, n, r) { var o = n.type; return o === S ? h(e, t, n.props.children, r, n.key) : null !== t && (t.elementType === o || "object" === typeof o && null !== o && o.$$typeof === M && Ko(o) === t.type) ? ((r = i(t, n.props)).ref = Yo(e, t, n), r.return = e, r) : ((r = Lc(n.type, n.key, n.props, null, e.mode, r)).ref = Yo(e, t, n), r.return = e, r) } function u(e, t, n, r) { return null === t || 4 !== t.tag || t.stateNode.containerInfo !== n.containerInfo || t.stateNode.implementation !== n.implementation ? ((t = Nc(n, e.mode, r)).return = e, t) : ((t = i(t, n.children || [])).return = e, t) } function h(e, t, n, r, o) { return null === t || 7 !== t.tag ? ((t = Fc(n, e.mode, r, o)).return = e, t) : ((t = i(t, n)).return = e, t) } function f(e, t, n) { if ("string" === typeof t && "" !== t || "number" === typeof t) return (t = Bc("" + t, e.mode, n)).return = e, t; if ("object" === typeof t && null !== t) { switch (t.$$typeof) { case w: return (n = Lc(t.type, t.key, t.props, null, e.mode, n)).ref = Yo(e, null, t), n.return = e, n; case _: return (t = Nc(t, e.mode, n)).return = e, t; case M: return f(e, (0, t._init)(t._payload), n) }if (te(t) || L(t)) return (t = Fc(t, e.mode, n, null)).return = e, t; qo(e, t) } return null } function d(e, t, n, r) { var i = null !== t ? t.key : null; if ("string" === typeof n && "" !== n || "number" === typeof n) return null !== i ? null : l(e, t, "" + n, r); if ("object" === typeof n && null !== n) { switch (n.$$typeof) { case w: return n.key === i ? c(e, t, n, r) : null; case _: return n.key === i ? u(e, t, n, r) : null; case M: return d(e, t, (i = n._init)(n._payload), r) }if (te(n) || L(n)) return null !== i ? null : h(e, t, n, r, null); qo(e, n) } return null } function p(e, t, n, r, i) { if ("string" === typeof r && "" !== r || "number" === typeof r) return l(t, e = e.get(n) || null, "" + r, i); if ("object" === typeof r && null !== r) { switch (r.$$typeof) { case w: return c(t, e = e.get(null === r.key ? n : r.key) || null, r, i); case _: return u(t, e = e.get(null === r.key ? n : r.key) || null, r, i); case M: return p(e, t, n, (0, r._init)(r._payload), i) }if (te(r) || L(r)) return h(t, e = e.get(n) || null, r, i, null); qo(t, r) } return null } function g(i, o, s, l) { for (var c = null, u = null, h = o, g = o = 0, v = null; null !== h && g < s.length; g++) { h.index > g ? (v = h, h = null) : v = h.sibling; var m = d(i, h, s[g], l); if (null === m) { null === h && (h = v); break } e && h && null === m.alternate && t(i, h), o = a(m, o, g), null === u ? c = m : u.sibling = m, u = m, h = v } if (g === s.length) return n(i, h), io && Qi(i, g), c; if (null === h) { for (; g < s.length; g++)null !== (h = f(i, s[g], l)) && (o = a(h, o, g), null === u ? c = h : u.sibling = h, u = h); return io && Qi(i, g), c } for (h = r(i, h); g < s.length; g++)null !== (v = p(h, i, g, s[g], l)) && (e && null !== v.alternate && h.delete(null === v.key ? g : v.key), o = a(v, o, g), null === u ? c = v : u.sibling = v, u = v); return e && h.forEach((function (e) { return t(i, e) })), io && Qi(i, g), c } function v(i, s, l, c) { var u = L(l); if ("function" !== typeof u) throw Error(o(150)); if (null == (l = u.call(l))) throw Error(o(151)); for (var h = u = null, g = s, v = s = 0, m = null, b = l.next(); null !== g && !b.done; v++, b = l.next()) { g.index > v ? (m = g, g = null) : m = g.sibling; var y = d(i, g, b.value, c); if (null === y) { null === g && (g = m); break } e && g && null === y.alternate && t(i, g), s = a(y, s, v), null === h ? u = y : h.sibling = y, h = y, g = m } if (b.done) return n(i, g), io && Qi(i, v), u; if (null === g) { for (; !b.done; v++, b = l.next())null !== (b = f(i, b.value, c)) && (s = a(b, s, v), null === h ? u = b : h.sibling = b, h = b); return io && Qi(i, v), u } for (g = r(i, g); !b.done; v++, b = l.next())null !== (b = p(g, i, v, b.value, c)) && (e && null !== b.alternate && g.delete(null === b.key ? v : b.key), s = a(b, s, v), null === h ? u = b : h.sibling = b, h = b); return e && g.forEach((function (e) { return t(i, e) })), io && Qi(i, v), u } return function e(r, o, a, l) { if ("object" === typeof a && null !== a && a.type === S && null === a.key && (a = a.props.children), "object" === typeof a && null !== a) { switch (a.$$typeof) { case w: e: { for (var c = a.key, u = o; null !== u;) { if (u.key === c) { if ((c = a.type) === S) { if (7 === u.tag) { n(r, u.sibling), (o = i(u, a.props.children)).return = r, r = o; break e } } else if (u.elementType === c || "object" === typeof c && null !== c && c.$$typeof === M && Ko(c) === u.type) { n(r, u.sibling), (o = i(u, a.props)).ref = Yo(r, u, a), o.return = r, r = o; break e } n(r, u); break } t(r, u), u = u.sibling } a.type === S ? ((o = Fc(a.props.children, r.mode, l, a.key)).return = r, r = o) : ((l = Lc(a.type, a.key, a.props, null, r.mode, l)).ref = Yo(r, o, a), l.return = r, r = l) } return s(r); case _: e: { for (u = a.key; null !== o;) { if (o.key === u) { if (4 === o.tag && o.stateNode.containerInfo === a.containerInfo && o.stateNode.implementation === a.implementation) { n(r, o.sibling), (o = i(o, a.children || [])).return = r, r = o; break e } n(r, o); break } t(r, o), o = o.sibling } (o = Nc(a, r.mode, l)).return = r, r = o } return s(r); case M: return e(r, o, (u = a._init)(a._payload), l) }if (te(a)) return g(r, o, a, l); if (L(a)) return v(r, o, a, l); qo(r, a) } return "string" === typeof a && "" !== a || "number" === typeof a ? (a = "" + a, null !== o && 6 === o.tag ? (n(r, o.sibling), (o = i(o, a)).return = r, r = o) : (n(r, o), (o = Bc(a, r.mode, l)).return = r, r = o), s(r)) : n(r, o) } } var Zo = $o(!0), Qo = $o(!1), Jo = {}, ea = Ci(Jo), ta = Ci(Jo), na = Ci(Jo); function ra(e) { if (e === Jo) throw Error(o(174)); return e } function ia(e, t) { switch (ki(na, t), ki(ta, e), ki(ea, Jo), e = t.nodeType) { case 9: case 11: t = (t = t.documentElement) ? t.namespaceURI : le(null, ""); break; default: t = le(t = (e = 8 === e ? t.parentNode : t).namespaceURI || null, e = e.tagName) }Oi(ea), ki(ea, t) } function oa() { Oi(ea), Oi(ta), Oi(na) } function aa(e) { ra(na.current); var t = ra(ea.current), n = le(t, e.type); t !== n && (ki(ta, e), ki(ea, n)) } function sa(e) { ta.current === e && (Oi(ea), Oi(ta)) } var la = Ci(0); function ca(e) { for (var t = e; null !== t;) { if (13 === t.tag) { var n = t.memoizedState; if (null !== n && (null === (n = n.dehydrated) || "$?" === n.data || "$!" === n.data)) return t } else if (19 === t.tag && void 0 !== t.memoizedProps.revealOrder) { if (0 !== (128 & t.flags)) return t } else if (null !== t.child) { t.child.return = t, t = t.child; continue } if (t === e) break; for (; null === t.sibling;) { if (null === t.return || t.return === e) return null; t = t.return } t.sibling.return = t.return, t = t.sibling } return null } var ua = []; function ha() { for (var e = 0; e < ua.length; e++)ua[e]._workInProgressVersionPrimary = null; ua.length = 0 } var fa = x.ReactCurrentDispatcher, da = x.ReactCurrentBatchConfig, pa = 0, ga = null, va = null, ma = null, ba = !1, ya = !1, xa = 0, wa = 0; function _a() { throw Error(o(321)) } function Sa(e, t) { if (null === t) return !1; for (var n = 0; n < t.length && n < e.length; n++)if (!sr(e[n], t[n])) return !1; return !0 } function Ca(e, t, n, r, i, a) { if (pa = a, ga = t, t.memoizedState = null, t.updateQueue = null, t.lanes = 0, fa.current = null === e || null === e.memoizedState ? ss : ls, e = n(r, i), ya) { a = 0; do { if (ya = !1, xa = 0, 25 <= a) throw Error(o(301)); a += 1, ma = va = null, t.updateQueue = null, fa.current = cs, e = n(r, i) } while (ya) } if (fa.current = as, t = null !== va && null !== va.next, pa = 0, ma = va = ga = null, ba = !1, t) throw Error(o(300)); return e } function Oa() { var e = 0 !== xa; return xa = 0, e } function ka() { var e = { memoizedState: null, baseState: null, baseQueue: null, queue: null, next: null }; return null === ma ? ga.memoizedState = ma = e : ma = ma.next = e, ma } function ja() { if (null === va) { var e = ga.alternate; e = null !== e ? e.memoizedState : null } else e = va.next; var t = null === ma ? ga.memoizedState : ma.next; if (null !== t) ma = t, va = e; else { if (null === e) throw Error(o(310)); e = { memoizedState: (va = e).memoizedState, baseState: va.baseState, baseQueue: va.baseQueue, queue: va.queue, next: null }, null === ma ? ga.memoizedState = ma = e : ma = ma.next = e } return ma } function Ea(e, t) { return "function" === typeof t ? t(e) : t } function Ta(e) { var t = ja(), n = t.queue; if (null === n) throw Error(o(311)); n.lastRenderedReducer = e; var r = va, i = r.baseQueue, a = n.pending; if (null !== a) { if (null !== i) { var s = i.next; i.next = a.next, a.next = s } r.baseQueue = i = a, n.pending = null } if (null !== i) { a = i.next, r = r.baseState; var l = s = null, c = null, u = a; do { var h = u.lane; if ((pa & h) === h) null !== c && (c = c.next = { lane: 0, action: u.action, hasEagerState: u.hasEagerState, eagerState: u.eagerState, next: null }), r = u.hasEagerState ? u.eagerState : e(r, u.action); else { var f = { lane: h, action: u.action, hasEagerState: u.hasEagerState, eagerState: u.eagerState, next: null }; null === c ? (l = c = f, s = r) : c = c.next = f, ga.lanes |= h, Rl |= h } u = u.next } while (null !== u && u !== a); null === c ? s = r : c.next = l, sr(r, t.memoizedState) || (xs = !0), t.memoizedState = r, t.baseState = s, t.baseQueue = c, n.lastRenderedState = r } if (null !== (e = n.interleaved)) { i = e; do { a = i.lane, ga.lanes |= a, Rl |= a, i = i.next } while (i !== e) } else null === i && (n.lanes = 0); return [t.memoizedState, n.dispatch] } function Pa(e) { var t = ja(), n = t.queue; if (null === n) throw Error(o(311)); n.lastRenderedReducer = e; var r = n.dispatch, i = n.pending, a = t.memoizedState; if (null !== i) { n.pending = null; var s = i = i.next; do { a = e(a, s.action), s = s.next } while (s !== i); sr(a, t.memoizedState) || (xs = !0), t.memoizedState = a, null === t.baseQueue && (t.baseState = a), n.lastRenderedState = a } return [a, r] } function Aa() { } function Ma(e, t) { var n = ga, r = ja(), i = t(), a = !sr(r.memoizedState, i); if (a && (r.memoizedState = i, xs = !0), r = r.queue, Xa(La.bind(null, n, r, e), [e]), r.getSnapshot !== t || a || null !== ma && 1 & ma.memoizedState.tag) { if (n.flags |= 2048, Na(9, Ia.bind(null, n, r, i, t), void 0, null), null === Pl) throw Error(o(349)); 0 !== (30 & pa) || Da(n, t, i) } return i } function Da(e, t, n) { e.flags |= 16384, e = { getSnapshot: t, value: n }, null === (t = ga.updateQueue) ? (t = { lastEffect: null, stores: null }, ga.updateQueue = t, t.stores = [e]) : null === (n = t.stores) ? t.stores = [e] : n.push(e) } function Ia(e, t, n, r) { t.value = n, t.getSnapshot = r, Fa(t) && Ra(e) } function La(e, t, n) { return n((function () { Fa(t) && Ra(e) })) } function Fa(e) { var t = e.getSnapshot; e = e.value; try { var n = t(); return !sr(e, n) } catch (r) { return !0 } } function Ra(e) { var t = Po(e, 1); null !== t && rc(t, e, 1, -1) } function Ba(e) { var t = ka(); return "function" === typeof e && (e = e()), t.memoizedState = t.baseState = e, e = { pending: null, interleaved: null, lanes: 0, dispatch: null, lastRenderedReducer: Ea, lastRenderedState: e }, t.queue = e, e = e.dispatch = ns.bind(null, ga, e), [t.memoizedState, e] } function Na(e, t, n, r) { return e = { tag: e, create: t, destroy: n, deps: r, next: null }, null === (t = ga.updateQueue) ? (t = { lastEffect: null, stores: null }, ga.updateQueue = t, t.lastEffect = e.next = e) : null === (n = t.lastEffect) ? t.lastEffect = e.next = e : (r = n.next, n.next = e, e.next = r, t.lastEffect = e), e } function za() { return ja().memoizedState } function Wa(e, t, n, r) { var i = ka(); ga.flags |= e, i.memoizedState = Na(1 | t, n, void 0, void 0 === r ? null : r) } function Ha(e, t, n, r) { var i = ja(); r = void 0 === r ? null : r; var o = void 0; if (null !== va) { var a = va.memoizedState; if (o = a.destroy, null !== r && Sa(r, a.deps)) return void (i.memoizedState = Na(t, n, o, r)) } ga.flags |= e, i.memoizedState = Na(1 | t, n, o, r) } function Ua(e, t) { return Wa(8390656, 8, e, t) } function Xa(e, t) { return Ha(2048, 8, e, t) } function Va(e, t) { return Ha(4, 2, e, t) } function Ga(e, t) { return Ha(4, 4, e, t) } function Ya(e, t) { return "function" === typeof t ? (e = e(), t(e), function () { t(null) }) : null !== t && void 0 !== t ? (e = e(), t.current = e, function () { t.current = null }) : void 0 } function qa(e, t, n) { return n = null !== n && void 0 !== n ? n.concat([e]) : null, Ha(4, 4, Ya.bind(null, t, e), n) } function Ka() { } function $a(e, t) { var n = ja(); t = void 0 === t ? null : t; var r = n.memoizedState; return null !== r && null !== t && Sa(t, r[1]) ? r[0] : (n.memoizedState = [e, t], e) } function Za(e, t) { var n = ja(); t = void 0 === t ? null : t; var r = n.memoizedState; return null !== r && null !== t && Sa(t, r[1]) ? r[0] : (e = e(), n.memoizedState = [e, t], e) } function Qa(e, t, n) { return 0 === (21 & pa) ? (e.baseState && (e.baseState = !1, xs = !0), e.memoizedState = n) : (sr(n, t) || (n = gt(), ga.lanes |= n, Rl |= n, e.baseState = !0), t) } function Ja(e, t) { var n = yt; yt = 0 !== n && 4 > n ? n : 4, e(!0); var r = da.transition; da.transition = {}; try { e(!1), t() } finally { yt = n, da.transition = r } } function es() { return ja().memoizedState } function ts(e, t, n) { var r = nc(e); if (n = { lane: r, action: n, hasEagerState: !1, eagerState: null, next: null }, rs(e)) is(t, n); else if (null !== (n = To(e, t, n, r))) { rc(n, e, r, tc()), os(n, t, r) } } function ns(e, t, n) { var r = nc(e), i = { lane: r, action: n, hasEagerState: !1, eagerState: null, next: null }; if (rs(e)) is(t, i); else { var o = e.alternate; if (0 === e.lanes && (null === o || 0 === o.lanes) && null !== (o = t.lastRenderedReducer)) try { var a = t.lastRenderedState, s = o(a, n); if (i.hasEagerState = !0, i.eagerState = s, sr(s, a)) { var l = t.interleaved; return null === l ? (i.next = i, Eo(t)) : (i.next = l.next, l.next = i), void (t.interleaved = i) } } catch (c) { } null !== (n = To(e, t, i, r)) && (rc(n, e, r, i = tc()), os(n, t, r)) } } function rs(e) { var t = e.alternate; return e === ga || null !== t && t === ga } function is(e, t) { ya = ba = !0; var n = e.pending; null === n ? t.next = t : (t.next = n.next, n.next = t), e.pending = t } function os(e, t, n) { if (0 !== (4194240 & n)) { var r = t.lanes; n |= r &= e.pendingLanes, t.lanes = n, bt(e, n) } } var as = { readContext: ko, useCallback: _a, useContext: _a, useEffect: _a, useImperativeHandle: _a, useInsertionEffect: _a, useLayoutEffect: _a, useMemo: _a, useReducer: _a, useRef: _a, useState: _a, useDebugValue: _a, useDeferredValue: _a, useTransition: _a, useMutableSource: _a, useSyncExternalStore: _a, useId: _a, unstable_isNewReconciler: !1 }, ss = { readContext: ko, useCallback: function (e, t) { return ka().memoizedState = [e, void 0 === t ? null : t], e }, useContext: ko, useEffect: Ua, useImperativeHandle: function (e, t, n) { return n = null !== n && void 0 !== n ? n.concat([e]) : null, Wa(4194308, 4, Ya.bind(null, t, e), n) }, useLayoutEffect: function (e, t) { return Wa(4194308, 4, e, t) }, useInsertionEffect: function (e, t) { return Wa(4, 2, e, t) }, useMemo: function (e, t) { var n = ka(); return t = void 0 === t ? null : t, e = e(), n.memoizedState = [e, t], e }, useReducer: function (e, t, n) { var r = ka(); return t = void 0 !== n ? n(t) : t, r.memoizedState = r.baseState = t, e = { pending: null, interleaved: null, lanes: 0, dispatch: null, lastRenderedReducer: e, lastRenderedState: t }, r.queue = e, e = e.dispatch = ts.bind(null, ga, e), [r.memoizedState, e] }, useRef: function (e) { return e = { current: e }, ka().memoizedState = e }, useState: Ba, useDebugValue: Ka, useDeferredValue: function (e) { return ka().memoizedState = e }, useTransition: function () { var e = Ba(!1), t = e[0]; return e = Ja.bind(null, e[1]), ka().memoizedState = e, [t, e] }, useMutableSource: function () { }, useSyncExternalStore: function (e, t, n) { var r = ga, i = ka(); if (io) { if (void 0 === n) throw Error(o(407)); n = n() } else { if (n = t(), null === Pl) throw Error(o(349)); 0 !== (30 & pa) || Da(r, t, n) } i.memoizedState = n; var a = { value: n, getSnapshot: t }; return i.queue = a, Ua(La.bind(null, r, a, e), [e]), r.flags |= 2048, Na(9, Ia.bind(null, r, a, n, t), void 0, null), n }, useId: function () { var e = ka(), t = Pl.identifierPrefix; if (io) { var n = Zi; t = ":" + t + "R" + (n = ($i & ~(1 << 32 - at($i) - 1)).toString(32) + n), 0 < (n = xa++) && (t += "H" + n.toString(32)), t += ":" } else t = ":" + t + "r" + (n = wa++).toString(32) + ":"; return e.memoizedState = t }, unstable_isNewReconciler: !1 }, ls = { readContext: ko, useCallback: $a, useContext: ko, useEffect: Xa, useImperativeHandle: qa, useInsertionEffect: Va, useLayoutEffect: Ga, useMemo: Za, useReducer: Ta, useRef: za, useState: function () { return Ta(Ea) }, useDebugValue: Ka, useDeferredValue: function (e) { return Qa(ja(), va.memoizedState, e) }, useTransition: function () { return [Ta(Ea)[0], ja().memoizedState] }, useMutableSource: Aa, useSyncExternalStore: Ma, useId: es, unstable_isNewReconciler: !1 }, cs = { readContext: ko, useCallback: $a, useContext: ko, useEffect: Xa, useImperativeHandle: qa, useInsertionEffect: Va, useLayoutEffect: Ga, useMemo: Za, useReducer: Pa, useRef: za, useState: function () { return Pa(Ea) }, useDebugValue: Ka, useDeferredValue: function (e) { var t = ja(); return null === va ? t.memoizedState = e : Qa(t, va.memoizedState, e) }, useTransition: function () { return [Pa(Ea)[0], ja().memoizedState] }, useMutableSource: Aa, useSyncExternalStore: Ma, useId: es, unstable_isNewReconciler: !1 }; function us(e, t) { try { var n = "", r = t; do { n += W(r), r = r.return } while (r); var i = n } catch (o) { i = "\nError generating stack: " + o.message + "\n" + o.stack } return { value: e, source: t, stack: i, digest: null } } function hs(e, t, n) { return { value: e, source: null, stack: null != n ? n : null, digest: null != t ? t : null } } function fs(e, t) { try { console.error(t.value) } catch (n) { setTimeout((function () { throw n })) } } var ds = "function" === typeof WeakMap ? WeakMap : Map; function ps(e, t, n) { (n = Io(-1, n)).tag = 3, n.payload = { element: null }; var r = t.value; return n.callback = function () { Vl || (Vl = !0, Gl = r), fs(0, t) }, n } function gs(e, t, n) { (n = Io(-1, n)).tag = 3; var r = e.type.getDerivedStateFromError; if ("function" === typeof r) { var i = t.value; n.payload = function () { return r(i) }, n.callback = function () { fs(0, t) } } var o = e.stateNode; return null !== o && "function" === typeof o.componentDidCatch && (n.callback = function () { fs(0, t), "function" !== typeof r && (null === Yl ? Yl = new Set([this]) : Yl.add(this)); var e = t.stack; this.componentDidCatch(t.value, { componentStack: null !== e ? e : "" }) }), n } function vs(e, t, n) { var r = e.pingCache; if (null === r) { r = e.pingCache = new ds; var i = new Set; r.set(t, i) } else void 0 === (i = r.get(t)) && (i = new Set, r.set(t, i)); i.has(n) || (i.add(n), e = kc.bind(null, e, t, n), t.then(e, e)) } function ms(e) { do { var t; if ((t = 13 === e.tag) && (t = null === (t = e.memoizedState) || null !== t.dehydrated), t) return e; e = e.return } while (null !== e); return null } function bs(e, t, n, r, i) { return 0 === (1 & e.mode) ? (e === t ? e.flags |= 65536 : (e.flags |= 128, n.flags |= 131072, n.flags &= -52805, 1 === n.tag && (null === n.alternate ? n.tag = 17 : ((t = Io(-1, 1)).tag = 2, Lo(n, t, 1))), n.lanes |= 1), e) : (e.flags |= 65536, e.lanes = i, e) } var ys = x.ReactCurrentOwner, xs = !1; function ws(e, t, n, r) { t.child = null === e ? Qo(t, null, n, r) : Zo(t, e.child, n, r) } function _s(e, t, n, r, i) { n = n.render; var o = t.ref; return Oo(t, i), r = Ca(e, t, n, r, o, i), n = Oa(), null === e || xs ? (io && n && eo(t), t.flags |= 1, ws(e, t, r, i), t.child) : (t.updateQueue = e.updateQueue, t.flags &= -2053, e.lanes &= ~i, Vs(e, t, i)) } function Ss(e, t, n, r, i) { if (null === e) { var o = n.type; return "function" !== typeof o || Dc(o) || void 0 !== o.defaultProps || null !== n.compare || void 0 !== n.defaultProps ? ((e = Lc(n.type, null, r, t, t.mode, i)).ref = t.ref, e.return = t, t.child = e) : (t.tag = 15, t.type = o, Cs(e, t, o, r, i)) } if (o = e.child, 0 === (e.lanes & i)) { var a = o.memoizedProps; if ((n = null !== (n = n.compare) ? n : lr)(a, r) && e.ref === t.ref) return Vs(e, t, i) } return t.flags |= 1, (e = Ic(o, r)).ref = t.ref, e.return = t, t.child = e } function Cs(e, t, n, r, i) { if (null !== e) { var o = e.memoizedProps; if (lr(o, r) && e.ref === t.ref) { if (xs = !1, t.pendingProps = r = o, 0 === (e.lanes & i)) return t.lanes = e.lanes, Vs(e, t, i); 0 !== (131072 & e.flags) && (xs = !0) } } return js(e, t, n, r, i) } function Os(e, t, n) { var r = t.pendingProps, i = r.children, o = null !== e ? e.memoizedState : null; if ("hidden" === r.mode) if (0 === (1 & t.mode)) t.memoizedState = { baseLanes: 0, cachePool: null, transitions: null }, ki(Il, Dl), Dl |= n; else { if (0 === (1073741824 & n)) return e = null !== o ? o.baseLanes | n : n, t.lanes = t.childLanes = 1073741824, t.memoizedState = { baseLanes: e, cachePool: null, transitions: null }, t.updateQueue = null, ki(Il, Dl), Dl |= e, null; t.memoizedState = { baseLanes: 0, cachePool: null, transitions: null }, r = null !== o ? o.baseLanes : n, ki(Il, Dl), Dl |= r } else null !== o ? (r = o.baseLanes | n, t.memoizedState = null) : r = n, ki(Il, Dl), Dl |= r; return ws(e, t, i, n), t.child } function ks(e, t) { var n = t.ref; (null === e && null !== n || null !== e && e.ref !== n) && (t.flags |= 512, t.flags |= 2097152) } function js(e, t, n, r, i) { var o = Mi(n) ? Pi : Ei.current; return o = Ai(t, o), Oo(t, i), n = Ca(e, t, n, r, o, i), r = Oa(), null === e || xs ? (io && r && eo(t), t.flags |= 1, ws(e, t, n, i), t.child) : (t.updateQueue = e.updateQueue, t.flags &= -2053, e.lanes &= ~i, Vs(e, t, i)) } function Es(e, t, n, r, i) { if (Mi(n)) { var o = !0; Fi(t) } else o = !1; if (Oo(t, i), null === t.stateNode) Xs(e, t), Xo(t, n, r), Go(t, n, r, i), r = !0; else if (null === e) { var a = t.stateNode, s = t.memoizedProps; a.props = s; var l = a.context, c = n.contextType; "object" === typeof c && null !== c ? c = ko(c) : c = Ai(t, c = Mi(n) ? Pi : Ei.current); var u = n.getDerivedStateFromProps, h = "function" === typeof u || "function" === typeof a.getSnapshotBeforeUpdate; h || "function" !== typeof a.UNSAFE_componentWillReceiveProps && "function" !== typeof a.componentWillReceiveProps || (s !== r || l !== c) && Vo(t, a, r, c), Ao = !1; var f = t.memoizedState; a.state = f, Bo(t, r, a, i), l = t.memoizedState, s !== r || f !== l || Ti.current || Ao ? ("function" === typeof u && (Wo(t, n, u, r), l = t.memoizedState), (s = Ao || Uo(t, n, s, r, f, l, c)) ? (h || "function" !== typeof a.UNSAFE_componentWillMount && "function" !== typeof a.componentWillMount || ("function" === typeof a.componentWillMount && a.componentWillMount(), "function" === typeof a.UNSAFE_componentWillMount && a.UNSAFE_componentWillMount()), "function" === typeof a.componentDidMount && (t.flags |= 4194308)) : ("function" === typeof a.componentDidMount && (t.flags |= 4194308), t.memoizedProps = r, t.memoizedState = l), a.props = r, a.state = l, a.context = c, r = s) : ("function" === typeof a.componentDidMount && (t.flags |= 4194308), r = !1) } else { a = t.stateNode, Do(e, t), s = t.memoizedProps, c = t.type === t.elementType ? s : mo(t.type, s), a.props = c, h = t.pendingProps, f = a.context, "object" === typeof (l = n.contextType) && null !== l ? l = ko(l) : l = Ai(t, l = Mi(n) ? Pi : Ei.current); var d = n.getDerivedStateFromProps; (u = "function" === typeof d || "function" === typeof a.getSnapshotBeforeUpdate) || "function" !== typeof a.UNSAFE_componentWillReceiveProps && "function" !== typeof a.componentWillReceiveProps || (s !== h || f !== l) && Vo(t, a, r, l), Ao = !1, f = t.memoizedState, a.state = f, Bo(t, r, a, i); var p = t.memoizedState; s !== h || f !== p || Ti.current || Ao ? ("function" === typeof d && (Wo(t, n, d, r), p = t.memoizedState), (c = Ao || Uo(t, n, c, r, f, p, l) || !1) ? (u || "function" !== typeof a.UNSAFE_componentWillUpdate && "function" !== typeof a.componentWillUpdate || ("function" === typeof a.componentWillUpdate && a.componentWillUpdate(r, p, l), "function" === typeof a.UNSAFE_componentWillUpdate && a.UNSAFE_componentWillUpdate(r, p, l)), "function" === typeof a.componentDidUpdate && (t.flags |= 4), "function" === typeof a.getSnapshotBeforeUpdate && (t.flags |= 1024)) : ("function" !== typeof a.componentDidUpdate || s === e.memoizedProps && f === e.memoizedState || (t.flags |= 4), "function" !== typeof a.getSnapshotBeforeUpdate || s === e.memoizedProps && f === e.memoizedState || (t.flags |= 1024), t.memoizedProps = r, t.memoizedState = p), a.props = r, a.state = p, a.context = l, r = c) : ("function" !== typeof a.componentDidUpdate || s === e.memoizedProps && f === e.memoizedState || (t.flags |= 4), "function" !== typeof a.getSnapshotBeforeUpdate || s === e.memoizedProps && f === e.memoizedState || (t.flags |= 1024), r = !1) } return Ts(e, t, n, r, o, i) } function Ts(e, t, n, r, i, o) { ks(e, t); var a = 0 !== (128 & t.flags); if (!r && !a) return i && Ri(t, n, !1), Vs(e, t, o); r = t.stateNode, ys.current = t; var s = a && "function" !== typeof n.getDerivedStateFromError ? null : r.render(); return t.flags |= 1, null !== e && a ? (t.child = Zo(t, e.child, null, o), t.child = Zo(t, null, s, o)) : ws(e, t, s, o), t.memoizedState = r.state, i && Ri(t, n, !0), t.child } function Ps(e) { var t = e.stateNode; t.pendingContext ? Ii(0, t.pendingContext, t.pendingContext !== t.context) : t.context && Ii(0, t.context, !1), ia(e, t.containerInfo) } function As(e, t, n, r, i) { return po(), go(i), t.flags |= 256, ws(e, t, n, r), t.child } var Ms, Ds, Is, Ls, Fs = { dehydrated: null, treeContext: null, retryLane: 0 }; function Rs(e) { return { baseLanes: e, cachePool: null, transitions: null } } function Bs(e, t, n) { var r, i = t.pendingProps, a = la.current, s = !1, l = 0 !== (128 & t.flags); if ((r = l) || (r = (null === e || null !== e.memoizedState) && 0 !== (2 & a)), r ? (s = !0, t.flags &= -129) : null !== e && null === e.memoizedState || (a |= 1), ki(la, 1 & a), null === e) return co(t), null !== (e = t.memoizedState) && null !== (e = e.dehydrated) ? (0 === (1 & t.mode) ? t.lanes = 1 : "$!" === e.data ? t.lanes = 8 : t.lanes = 1073741824, null) : (l = i.children, e = i.fallback, s ? (i = t.mode, s = t.child, l = { mode: "hidden", children: l }, 0 === (1 & i) && null !== s ? (s.childLanes = 0, s.pendingProps = l) : s = Rc(l, i, 0, null), e = Fc(e, i, n, null), s.return = t, e.return = t, s.sibling = e, t.child = s, t.child.memoizedState = Rs(n), t.memoizedState = Fs, e) : Ns(t, l)); if (null !== (a = e.memoizedState) && null !== (r = a.dehydrated)) return function (e, t, n, r, i, a, s) { if (n) return 256 & t.flags ? (t.flags &= -257, zs(e, t, s, r = hs(Error(o(422))))) : null !== t.memoizedState ? (t.child = e.child, t.flags |= 128, null) : (a = r.fallback, i = t.mode, r = Rc({ mode: "visible", children: r.children }, i, 0, null), (a = Fc(a, i, s, null)).flags |= 2, r.return = t, a.return = t, r.sibling = a, t.child = r, 0 !== (1 & t.mode) && Zo(t, e.child, null, s), t.child.memoizedState = Rs(s), t.memoizedState = Fs, a); if (0 === (1 & t.mode)) return zs(e, t, s, null); if ("$!" === i.data) { if (r = i.nextSibling && i.nextSibling.dataset) var l = r.dgst; return r = l, zs(e, t, s, r = hs(a = Error(o(419)), r, void 0)) } if (l = 0 !== (s & e.childLanes), xs || l) { if (null !== (r = Pl)) { switch (s & -s) { case 4: i = 2; break; case 16: i = 8; break; case 64: case 128: case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: case 262144: case 524288: case 1048576: case 2097152: case 4194304: case 8388608: case 16777216: case 33554432: case 67108864: i = 32; break; case 536870912: i = 268435456; break; default: i = 0 }0 !== (i = 0 !== (i & (r.suspendedLanes | s)) ? 0 : i) && i !== a.retryLane && (a.retryLane = i, Po(e, i), rc(r, e, i, -1)) } return vc(), zs(e, t, s, r = hs(Error(o(421)))) } return "$?" === i.data ? (t.flags |= 128, t.child = e.child, t = Ec.bind(null, e), i._reactRetry = t, null) : (e = a.treeContext, ro = ci(i.nextSibling), no = t, io = !0, oo = null, null !== e && (Yi[qi++] = $i, Yi[qi++] = Zi, Yi[qi++] = Ki, $i = e.id, Zi = e.overflow, Ki = t), t = Ns(t, r.children), t.flags |= 4096, t) }(e, t, l, i, r, a, n); if (s) { s = i.fallback, l = t.mode, r = (a = e.child).sibling; var c = { mode: "hidden", children: i.children }; return 0 === (1 & l) && t.child !== a ? ((i = t.child).childLanes = 0, i.pendingProps = c, t.deletions = null) : (i = Ic(a, c)).subtreeFlags = 14680064 & a.subtreeFlags, null !== r ? s = Ic(r, s) : (s = Fc(s, l, n, null)).flags |= 2, s.return = t, i.return = t, i.sibling = s, t.child = i, i = s, s = t.child, l = null === (l = e.child.memoizedState) ? Rs(n) : { baseLanes: l.baseLanes | n, cachePool: null, transitions: l.transitions }, s.memoizedState = l, s.childLanes = e.childLanes & ~n, t.memoizedState = Fs, i } return e = (s = e.child).sibling, i = Ic(s, { mode: "visible", children: i.children }), 0 === (1 & t.mode) && (i.lanes = n), i.return = t, i.sibling = null, null !== e && (null === (n = t.deletions) ? (t.deletions = [e], t.flags |= 16) : n.push(e)), t.child = i, t.memoizedState = null, i } function Ns(e, t) { return (t = Rc({ mode: "visible", children: t }, e.mode, 0, null)).return = e, e.child = t } function zs(e, t, n, r) { return null !== r && go(r), Zo(t, e.child, null, n), (e = Ns(t, t.pendingProps.children)).flags |= 2, t.memoizedState = null, e } function Ws(e, t, n) { e.lanes |= t; var r = e.alternate; null !== r && (r.lanes |= t), Co(e.return, t, n) } function Hs(e, t, n, r, i) { var o = e.memoizedState; null === o ? e.memoizedState = { isBackwards: t, rendering: null, renderingStartTime: 0, last: r, tail: n, tailMode: i } : (o.isBackwards = t, o.rendering = null, o.renderingStartTime = 0, o.last = r, o.tail = n, o.tailMode = i) } function Us(e, t, n) { var r = t.pendingProps, i = r.revealOrder, o = r.tail; if (ws(e, t, r.children, n), 0 !== (2 & (r = la.current))) r = 1 & r | 2, t.flags |= 128; else { if (null !== e && 0 !== (128 & e.flags)) e: for (e = t.child; null !== e;) { if (13 === e.tag) null !== e.memoizedState && Ws(e, n, t); else if (19 === e.tag) Ws(e, n, t); else if (null !== e.child) { e.child.return = e, e = e.child; continue } if (e === t) break e; for (; null === e.sibling;) { if (null === e.return || e.return === t) break e; e = e.return } e.sibling.return = e.return, e = e.sibling } r &= 1 } if (ki(la, r), 0 === (1 & t.mode)) t.memoizedState = null; else switch (i) { case "forwards": for (n = t.child, i = null; null !== n;)null !== (e = n.alternate) && null === ca(e) && (i = n), n = n.sibling; null === (n = i) ? (i = t.child, t.child = null) : (i = n.sibling, n.sibling = null), Hs(t, !1, i, n, o); break; case "backwards": for (n = null, i = t.child, t.child = null; null !== i;) { if (null !== (e = i.alternate) && null === ca(e)) { t.child = i; break } e = i.sibling, i.sibling = n, n = i, i = e } Hs(t, !0, n, null, o); break; case "together": Hs(t, !1, null, null, void 0); break; default: t.memoizedState = null }return t.child } function Xs(e, t) { 0 === (1 & t.mode) && null !== e && (e.alternate = null, t.alternate = null, t.flags |= 2) } function Vs(e, t, n) { if (null !== e && (t.dependencies = e.dependencies), Rl |= t.lanes, 0 === (n & t.childLanes)) return null; if (null !== e && t.child !== e.child) throw Error(o(153)); if (null !== t.child) { for (n = Ic(e = t.child, e.pendingProps), t.child = n, n.return = t; null !== e.sibling;)e = e.sibling, (n = n.sibling = Ic(e, e.pendingProps)).return = t; n.sibling = null } return t.child } function Gs(e, t) { if (!io) switch (e.tailMode) { case "hidden": t = e.tail; for (var n = null; null !== t;)null !== t.alternate && (n = t), t = t.sibling; null === n ? e.tail = null : n.sibling = null; break; case "collapsed": n = e.tail; for (var r = null; null !== n;)null !== n.alternate && (r = n), n = n.sibling; null === r ? t || null === e.tail ? e.tail = null : e.tail.sibling = null : r.sibling = null } } function Ys(e) { var t = null !== e.alternate && e.alternate.child === e.child, n = 0, r = 0; if (t) for (var i = e.child; null !== i;)n |= i.lanes | i.childLanes, r |= 14680064 & i.subtreeFlags, r |= 14680064 & i.flags, i.return = e, i = i.sibling; else for (i = e.child; null !== i;)n |= i.lanes | i.childLanes, r |= i.subtreeFlags, r |= i.flags, i.return = e, i = i.sibling; return e.subtreeFlags |= r, e.childLanes = n, t } function qs(e, t, n) { var r = t.pendingProps; switch (to(t), t.tag) { case 2: case 16: case 15: case 0: case 11: case 7: case 8: case 12: case 9: case 14: return Ys(t), null; case 1: case 17: return Mi(t.type) && Di(), Ys(t), null; case 3: return r = t.stateNode, oa(), Oi(Ti), Oi(Ei), ha(), r.pendingContext && (r.context = r.pendingContext, r.pendingContext = null), null !== e && null !== e.child || (ho(t) ? t.flags |= 4 : null === e || e.memoizedState.isDehydrated && 0 === (256 & t.flags) || (t.flags |= 1024, null !== oo && (sc(oo), oo = null))), Ds(e, t), Ys(t), null; case 5: sa(t); var i = ra(na.current); if (n = t.type, null !== e && null != t.stateNode) Is(e, t, n, r, i), e.ref !== t.ref && (t.flags |= 512, t.flags |= 2097152); else { if (!r) { if (null === t.stateNode) throw Error(o(166)); return Ys(t), null } if (e = ra(ea.current), ho(t)) { r = t.stateNode, n = t.type; var a = t.memoizedProps; switch (r[fi] = t, r[di] = a, e = 0 !== (1 & t.mode), n) { case "dialog": Nr("cancel", r), Nr("close", r); break; case "iframe": case "object": case "embed": Nr("load", r); break; case "video": case "audio": for (i = 0; i < Lr.length; i++)Nr(Lr[i], r); break; case "source": Nr("error", r); break; case "img": case "image": case "link": Nr("error", r), Nr("load", r); break; case "details": Nr("toggle", r); break; case "input": $(r, a), Nr("invalid", r); break; case "select": r._wrapperState = { wasMultiple: !!a.multiple }, Nr("invalid", r); break; case "textarea": ie(r, a), Nr("invalid", r) }for (var l in be(n, a), i = null, a) if (a.hasOwnProperty(l)) { var c = a[l]; "children" === l ? "string" === typeof c ? r.textContent !== c && (!0 !== a.suppressHydrationWarning && Qr(r.textContent, c, e), i = ["children", c]) : "number" === typeof c && r.textContent !== "" + c && (!0 !== a.suppressHydrationWarning && Qr(r.textContent, c, e), i = ["children", "" + c]) : s.hasOwnProperty(l) && null != c && "onScroll" === l && Nr("scroll", r) } switch (n) { case "input": G(r), J(r, a, !0); break; case "textarea": G(r), ae(r); break; case "select": case "option": break; default: "function" === typeof a.onClick && (r.onclick = Jr) }r = i, t.updateQueue = r, null !== r && (t.flags |= 4) } else { l = 9 === i.nodeType ? i : i.ownerDocument, "http://www.w3.org/1999/xhtml" === e && (e = se(n)), "http://www.w3.org/1999/xhtml" === e ? "script" === n ? ((e = l.createElement("div")).innerHTML = "<script><\/script>", e = e.removeChild(e.firstChild)) : "string" === typeof r.is ? e = l.createElement(n, { is: r.is }) : (e = l.createElement(n), "select" === n && (l = e, r.multiple ? l.multiple = !0 : r.size && (l.size = r.size))) : e = l.createElementNS(e, n), e[fi] = t, e[di] = r, Ms(e, t, !1, !1), t.stateNode = e; e: { switch (l = ye(n, r), n) { case "dialog": Nr("cancel", e), Nr("close", e), i = r; break; case "iframe": case "object": case "embed": Nr("load", e), i = r; break; case "video": case "audio": for (i = 0; i < Lr.length; i++)Nr(Lr[i], e); i = r; break; case "source": Nr("error", e), i = r; break; case "img": case "image": case "link": Nr("error", e), Nr("load", e), i = r; break; case "details": Nr("toggle", e), i = r; break; case "input": $(e, r), i = K(e, r), Nr("invalid", e); break; case "option": default: i = r; break; case "select": e._wrapperState = { wasMultiple: !!r.multiple }, i = R({}, r, { value: void 0 }), Nr("invalid", e); break; case "textarea": ie(e, r), i = re(e, r), Nr("invalid", e) }for (a in be(n, i), c = i) if (c.hasOwnProperty(a)) { var u = c[a]; "style" === a ? ve(e, u) : "dangerouslySetInnerHTML" === a ? null != (u = u ? u.__html : void 0) && he(e, u) : "children" === a ? "string" === typeof u ? ("textarea" !== n || "" !== u) && fe(e, u) : "number" === typeof u && fe(e, "" + u) : "suppressContentEditableWarning" !== a && "suppressHydrationWarning" !== a && "autoFocus" !== a && (s.hasOwnProperty(a) ? null != u && "onScroll" === a && Nr("scroll", e) : null != u && y(e, a, u, l)) } switch (n) { case "input": G(e), J(e, r, !1); break; case "textarea": G(e), ae(e); break; case "option": null != r.value && e.setAttribute("value", "" + X(r.value)); break; case "select": e.multiple = !!r.multiple, null != (a = r.value) ? ne(e, !!r.multiple, a, !1) : null != r.defaultValue && ne(e, !!r.multiple, r.defaultValue, !0); break; default: "function" === typeof i.onClick && (e.onclick = Jr) }switch (n) { case "button": case "input": case "select": case "textarea": r = !!r.autoFocus; break e; case "img": r = !0; break e; default: r = !1 } } r && (t.flags |= 4) } null !== t.ref && (t.flags |= 512, t.flags |= 2097152) } return Ys(t), null; case 6: if (e && null != t.stateNode) Ls(e, t, e.memoizedProps, r); else { if ("string" !== typeof r && null === t.stateNode) throw Error(o(166)); if (n = ra(na.current), ra(ea.current), ho(t)) { if (r = t.stateNode, n = t.memoizedProps, r[fi] = t, (a = r.nodeValue !== n) && null !== (e = no)) switch (e.tag) { case 3: Qr(r.nodeValue, n, 0 !== (1 & e.mode)); break; case 5: !0 !== e.memoizedProps.suppressHydrationWarning && Qr(r.nodeValue, n, 0 !== (1 & e.mode)) }a && (t.flags |= 4) } else (r = (9 === n.nodeType ? n : n.ownerDocument).createTextNode(r))[fi] = t, t.stateNode = r } return Ys(t), null; case 13: if (Oi(la), r = t.memoizedState, null === e || null !== e.memoizedState && null !== e.memoizedState.dehydrated) { if (io && null !== ro && 0 !== (1 & t.mode) && 0 === (128 & t.flags)) fo(), po(), t.flags |= 98560, a = !1; else if (a = ho(t), null !== r && null !== r.dehydrated) { if (null === e) { if (!a) throw Error(o(318)); if (!(a = null !== (a = t.memoizedState) ? a.dehydrated : null)) throw Error(o(317)); a[fi] = t } else po(), 0 === (128 & t.flags) && (t.memoizedState = null), t.flags |= 4; Ys(t), a = !1 } else null !== oo && (sc(oo), oo = null), a = !0; if (!a) return 65536 & t.flags ? t : null } return 0 !== (128 & t.flags) ? (t.lanes = n, t) : ((r = null !== r) !== (null !== e && null !== e.memoizedState) && r && (t.child.flags |= 8192, 0 !== (1 & t.mode) && (null === e || 0 !== (1 & la.current) ? 0 === Ll && (Ll = 3) : vc())), null !== t.updateQueue && (t.flags |= 4), Ys(t), null); case 4: return oa(), Ds(e, t), null === e && Hr(t.stateNode.containerInfo), Ys(t), null; case 10: return So(t.type._context), Ys(t), null; case 19: if (Oi(la), null === (a = t.memoizedState)) return Ys(t), null; if (r = 0 !== (128 & t.flags), null === (l = a.rendering)) if (r) Gs(a, !1); else { if (0 !== Ll || null !== e && 0 !== (128 & e.flags)) for (e = t.child; null !== e;) { if (null !== (l = ca(e))) { for (t.flags |= 128, Gs(a, !1), null !== (r = l.updateQueue) && (t.updateQueue = r, t.flags |= 4), t.subtreeFlags = 0, r = n, n = t.child; null !== n;)e = r, (a = n).flags &= 14680066, null === (l = a.alternate) ? (a.childLanes = 0, a.lanes = e, a.child = null, a.subtreeFlags = 0, a.memoizedProps = null, a.memoizedState = null, a.updateQueue = null, a.dependencies = null, a.stateNode = null) : (a.childLanes = l.childLanes, a.lanes = l.lanes, a.child = l.child, a.subtreeFlags = 0, a.deletions = null, a.memoizedProps = l.memoizedProps, a.memoizedState = l.memoizedState, a.updateQueue = l.updateQueue, a.type = l.type, e = l.dependencies, a.dependencies = null === e ? null : { lanes: e.lanes, firstContext: e.firstContext }), n = n.sibling; return ki(la, 1 & la.current | 2), t.child } e = e.sibling } null !== a.tail && Ze() > Ul && (t.flags |= 128, r = !0, Gs(a, !1), t.lanes = 4194304) } else { if (!r) if (null !== (e = ca(l))) { if (t.flags |= 128, r = !0, null !== (n = e.updateQueue) && (t.updateQueue = n, t.flags |= 4), Gs(a, !0), null === a.tail && "hidden" === a.tailMode && !l.alternate && !io) return Ys(t), null } else 2 * Ze() - a.renderingStartTime > Ul && 1073741824 !== n && (t.flags |= 128, r = !0, Gs(a, !1), t.lanes = 4194304); a.isBackwards ? (l.sibling = t.child, t.child = l) : (null !== (n = a.last) ? n.sibling = l : t.child = l, a.last = l) } return null !== a.tail ? (t = a.tail, a.rendering = t, a.tail = t.sibling, a.renderingStartTime = Ze(), t.sibling = null, n = la.current, ki(la, r ? 1 & n | 2 : 1 & n), t) : (Ys(t), null); case 22: case 23: return fc(), r = null !== t.memoizedState, null !== e && null !== e.memoizedState !== r && (t.flags |= 8192), r && 0 !== (1 & t.mode) ? 0 !== (1073741824 & Dl) && (Ys(t), 6 & t.subtreeFlags && (t.flags |= 8192)) : Ys(t), null; case 24: case 25: return null }throw Error(o(156, t.tag)) } function Ks(e, t) { switch (to(t), t.tag) { case 1: return Mi(t.type) && Di(), 65536 & (e = t.flags) ? (t.flags = -65537 & e | 128, t) : null; case 3: return oa(), Oi(Ti), Oi(Ei), ha(), 0 !== (65536 & (e = t.flags)) && 0 === (128 & e) ? (t.flags = -65537 & e | 128, t) : null; case 5: return sa(t), null; case 13: if (Oi(la), null !== (e = t.memoizedState) && null !== e.dehydrated) { if (null === t.alternate) throw Error(o(340)); po() } return 65536 & (e = t.flags) ? (t.flags = -65537 & e | 128, t) : null; case 19: return Oi(la), null; case 4: return oa(), null; case 10: return So(t.type._context), null; case 22: case 23: return fc(), null; default: return null } } Ms = function (e, t) { for (var n = t.child; null !== n;) { if (5 === n.tag || 6 === n.tag) e.appendChild(n.stateNode); else if (4 !== n.tag && null !== n.child) { n.child.return = n, n = n.child; continue } if (n === t) break; for (; null === n.sibling;) { if (null === n.return || n.return === t) return; n = n.return } n.sibling.return = n.return, n = n.sibling } }, Ds = function () { }, Is = function (e, t, n, r) { var i = e.memoizedProps; if (i !== r) { e = t.stateNode, ra(ea.current); var o, a = null; switch (n) { case "input": i = K(e, i), r = K(e, r), a = []; break; case "select": i = R({}, i, { value: void 0 }), r = R({}, r, { value: void 0 }), a = []; break; case "textarea": i = re(e, i), r = re(e, r), a = []; break; default: "function" !== typeof i.onClick && "function" === typeof r.onClick && (e.onclick = Jr) }for (u in be(n, r), n = null, i) if (!r.hasOwnProperty(u) && i.hasOwnProperty(u) && null != i[u]) if ("style" === u) { var l = i[u]; for (o in l) l.hasOwnProperty(o) && (n || (n = {}), n[o] = "") } else "dangerouslySetInnerHTML" !== u && "children" !== u && "suppressContentEditableWarning" !== u && "suppressHydrationWarning" !== u && "autoFocus" !== u && (s.hasOwnProperty(u) ? a || (a = []) : (a = a || []).push(u, null)); for (u in r) { var c = r[u]; if (l = null != i ? i[u] : void 0, r.hasOwnProperty(u) && c !== l && (null != c || null != l)) if ("style" === u) if (l) { for (o in l) !l.hasOwnProperty(o) || c && c.hasOwnProperty(o) || (n || (n = {}), n[o] = ""); for (o in c) c.hasOwnProperty(o) && l[o] !== c[o] && (n || (n = {}), n[o] = c[o]) } else n || (a || (a = []), a.push(u, n)), n = c; else "dangerouslySetInnerHTML" === u ? (c = c ? c.__html : void 0, l = l ? l.__html : void 0, null != c && l !== c && (a = a || []).push(u, c)) : "children" === u ? "string" !== typeof c && "number" !== typeof c || (a = a || []).push(u, "" + c) : "suppressContentEditableWarning" !== u && "suppressHydrationWarning" !== u && (s.hasOwnProperty(u) ? (null != c && "onScroll" === u && Nr("scroll", e), a || l === c || (a = [])) : (a = a || []).push(u, c)) } n && (a = a || []).push("style", n); var u = a; (t.updateQueue = u) && (t.flags |= 4) } }, Ls = function (e, t, n, r) { n !== r && (t.flags |= 4) }; var $s = !1, Zs = !1, Qs = "function" === typeof WeakSet ? WeakSet : Set, Js = null; function el(e, t) { var n = e.ref; if (null !== n) if ("function" === typeof n) try { n(null) } catch (r) { Oc(e, t, r) } else n.current = null } function tl(e, t, n) { try { n() } catch (r) { Oc(e, t, r) } } var nl = !1; function rl(e, t, n) { var r = t.updateQueue; if (null !== (r = null !== r ? r.lastEffect : null)) { var i = r = r.next; do { if ((i.tag & e) === e) { var o = i.destroy; i.destroy = void 0, void 0 !== o && tl(t, n, o) } i = i.next } while (i !== r) } } function il(e, t) { if (null !== (t = null !== (t = t.updateQueue) ? t.lastEffect : null)) { var n = t = t.next; do { if ((n.tag & e) === e) { var r = n.create; n.destroy = r() } n = n.next } while (n !== t) } } function ol(e) { var t = e.ref; if (null !== t) { var n = e.stateNode; e.tag, e = n, "function" === typeof t ? t(e) : t.current = e } } function al(e) { var t = e.alternate; null !== t && (e.alternate = null, al(t)), e.child = null, e.deletions = null, e.sibling = null, 5 === e.tag && (null !== (t = e.stateNode) && (delete t[fi], delete t[di], delete t[gi], delete t[vi], delete t[mi])), e.stateNode = null, e.return = null, e.dependencies = null, e.memoizedProps = null, e.memoizedState = null, e.pendingProps = null, e.stateNode = null, e.updateQueue = null } function sl(e) { return 5 === e.tag || 3 === e.tag || 4 === e.tag } function ll(e) { e: for (; ;) { for (; null === e.sibling;) { if (null === e.return || sl(e.return)) return null; e = e.return } for (e.sibling.return = e.return, e = e.sibling; 5 !== e.tag && 6 !== e.tag && 18 !== e.tag;) { if (2 & e.flags) continue e; if (null === e.child || 4 === e.tag) continue e; e.child.return = e, e = e.child } if (!(2 & e.flags)) return e.stateNode } } function cl(e, t, n) { var r = e.tag; if (5 === r || 6 === r) e = e.stateNode, t ? 8 === n.nodeType ? n.parentNode.insertBefore(e, t) : n.insertBefore(e, t) : (8 === n.nodeType ? (t = n.parentNode).insertBefore(e, n) : (t = n).appendChild(e), null !== (n = n._reactRootContainer) && void 0 !== n || null !== t.onclick || (t.onclick = Jr)); else if (4 !== r && null !== (e = e.child)) for (cl(e, t, n), e = e.sibling; null !== e;)cl(e, t, n), e = e.sibling } function ul(e, t, n) { var r = e.tag; if (5 === r || 6 === r) e = e.stateNode, t ? n.insertBefore(e, t) : n.appendChild(e); else if (4 !== r && null !== (e = e.child)) for (ul(e, t, n), e = e.sibling; null !== e;)ul(e, t, n), e = e.sibling } var hl = null, fl = !1; function dl(e, t, n) { for (n = n.child; null !== n;)pl(e, t, n), n = n.sibling } function pl(e, t, n) { if (ot && "function" === typeof ot.onCommitFiberUnmount) try { ot.onCommitFiberUnmount(it, n) } catch (s) { } switch (n.tag) { case 5: Zs || el(n, t); case 6: var r = hl, i = fl; hl = null, dl(e, t, n), fl = i, null !== (hl = r) && (fl ? (e = hl, n = n.stateNode, 8 === e.nodeType ? e.parentNode.removeChild(n) : e.removeChild(n)) : hl.removeChild(n.stateNode)); break; case 18: null !== hl && (fl ? (e = hl, n = n.stateNode, 8 === e.nodeType ? li(e.parentNode, n) : 1 === e.nodeType && li(e, n), Ht(e)) : li(hl, n.stateNode)); break; case 4: r = hl, i = fl, hl = n.stateNode.containerInfo, fl = !0, dl(e, t, n), hl = r, fl = i; break; case 0: case 11: case 14: case 15: if (!Zs && (null !== (r = n.updateQueue) && null !== (r = r.lastEffect))) { i = r = r.next; do { var o = i, a = o.destroy; o = o.tag, void 0 !== a && (0 !== (2 & o) || 0 !== (4 & o)) && tl(n, t, a), i = i.next } while (i !== r) } dl(e, t, n); break; case 1: if (!Zs && (el(n, t), "function" === typeof (r = n.stateNode).componentWillUnmount)) try { r.props = n.memoizedProps, r.state = n.memoizedState, r.componentWillUnmount() } catch (s) { Oc(n, t, s) } dl(e, t, n); break; case 21: dl(e, t, n); break; case 22: 1 & n.mode ? (Zs = (r = Zs) || null !== n.memoizedState, dl(e, t, n), Zs = r) : dl(e, t, n); break; default: dl(e, t, n) } } function gl(e) { var t = e.updateQueue; if (null !== t) { e.updateQueue = null; var n = e.stateNode; null === n && (n = e.stateNode = new Qs), t.forEach((function (t) { var r = Tc.bind(null, e, t); n.has(t) || (n.add(t), t.then(r, r)) })) } } function vl(e, t) { var n = t.deletions; if (null !== n) for (var r = 0; r < n.length; r++) { var i = n[r]; try { var a = e, s = t, l = s; e: for (; null !== l;) { switch (l.tag) { case 5: hl = l.stateNode, fl = !1; break e; case 3: case 4: hl = l.stateNode.containerInfo, fl = !0; break e }l = l.return } if (null === hl) throw Error(o(160)); pl(a, s, i), hl = null, fl = !1; var c = i.alternate; null !== c && (c.return = null), i.return = null } catch (u) { Oc(i, t, u) } } if (12854 & t.subtreeFlags) for (t = t.child; null !== t;)ml(t, e), t = t.sibling } function ml(e, t) { var n = e.alternate, r = e.flags; switch (e.tag) { case 0: case 11: case 14: case 15: if (vl(t, e), bl(e), 4 & r) { try { rl(3, e, e.return), il(3, e) } catch (v) { Oc(e, e.return, v) } try { rl(5, e, e.return) } catch (v) { Oc(e, e.return, v) } } break; case 1: vl(t, e), bl(e), 512 & r && null !== n && el(n, n.return); break; case 5: if (vl(t, e), bl(e), 512 & r && null !== n && el(n, n.return), 32 & e.flags) { var i = e.stateNode; try { fe(i, "") } catch (v) { Oc(e, e.return, v) } } if (4 & r && null != (i = e.stateNode)) { var a = e.memoizedProps, s = null !== n ? n.memoizedProps : a, l = e.type, c = e.updateQueue; if (e.updateQueue = null, null !== c) try { "input" === l && "radio" === a.type && null != a.name && Z(i, a), ye(l, s); var u = ye(l, a); for (s = 0; s < c.length; s += 2) { var h = c[s], f = c[s + 1]; "style" === h ? ve(i, f) : "dangerouslySetInnerHTML" === h ? he(i, f) : "children" === h ? fe(i, f) : y(i, h, f, u) } switch (l) { case "input": Q(i, a); break; case "textarea": oe(i, a); break; case "select": var d = i._wrapperState.wasMultiple; i._wrapperState.wasMultiple = !!a.multiple; var p = a.value; null != p ? ne(i, !!a.multiple, p, !1) : d !== !!a.multiple && (null != a.defaultValue ? ne(i, !!a.multiple, a.defaultValue, !0) : ne(i, !!a.multiple, a.multiple ? [] : "", !1)) }i[di] = a } catch (v) { Oc(e, e.return, v) } } break; case 6: if (vl(t, e), bl(e), 4 & r) { if (null === e.stateNode) throw Error(o(162)); i = e.stateNode, a = e.memoizedProps; try { i.nodeValue = a } catch (v) { Oc(e, e.return, v) } } break; case 3: if (vl(t, e), bl(e), 4 & r && null !== n && n.memoizedState.isDehydrated) try { Ht(t.containerInfo) } catch (v) { Oc(e, e.return, v) } break; case 4: default: vl(t, e), bl(e); break; case 13: vl(t, e), bl(e), 8192 & (i = e.child).flags && (a = null !== i.memoizedState, i.stateNode.isHidden = a, !a || null !== i.alternate && null !== i.alternate.memoizedState || (Hl = Ze())), 4 & r && gl(e); break; case 22: if (h = null !== n && null !== n.memoizedState, 1 & e.mode ? (Zs = (u = Zs) || h, vl(t, e), Zs = u) : vl(t, e), bl(e), 8192 & r) { if (u = null !== e.memoizedState, (e.stateNode.isHidden = u) && !h && 0 !== (1 & e.mode)) for (Js = e, h = e.child; null !== h;) { for (f = Js = h; null !== Js;) { switch (p = (d = Js).child, d.tag) { case 0: case 11: case 14: case 15: rl(4, d, d.return); break; case 1: el(d, d.return); var g = d.stateNode; if ("function" === typeof g.componentWillUnmount) { r = d, n = d.return; try { t = r, g.props = t.memoizedProps, g.state = t.memoizedState, g.componentWillUnmount() } catch (v) { Oc(r, n, v) } } break; case 5: el(d, d.return); break; case 22: if (null !== d.memoizedState) { _l(f); continue } }null !== p ? (p.return = d, Js = p) : _l(f) } h = h.sibling } e: for (h = null, f = e; ;) { if (5 === f.tag) { if (null === h) { h = f; try { i = f.stateNode, u ? "function" === typeof (a = i.style).setProperty ? a.setProperty("display", "none", "important") : a.display = "none" : (l = f.stateNode, s = void 0 !== (c = f.memoizedProps.style) && null !== c && c.hasOwnProperty("display") ? c.display : null, l.style.display = ge("display", s)) } catch (v) { Oc(e, e.return, v) } } } else if (6 === f.tag) { if (null === h) try { f.stateNode.nodeValue = u ? "" : f.memoizedProps } catch (v) { Oc(e, e.return, v) } } else if ((22 !== f.tag && 23 !== f.tag || null === f.memoizedState || f === e) && null !== f.child) { f.child.return = f, f = f.child; continue } if (f === e) break e; for (; null === f.sibling;) { if (null === f.return || f.return === e) break e; h === f && (h = null), f = f.return } h === f && (h = null), f.sibling.return = f.return, f = f.sibling } } break; case 19: vl(t, e), bl(e), 4 & r && gl(e); case 21: } } function bl(e) { var t = e.flags; if (2 & t) { try { e: { for (var n = e.return; null !== n;) { if (sl(n)) { var r = n; break e } n = n.return } throw Error(o(160)) } switch (r.tag) { case 5: var i = r.stateNode; 32 & r.flags && (fe(i, ""), r.flags &= -33), ul(e, ll(e), i); break; case 3: case 4: var a = r.stateNode.containerInfo; cl(e, ll(e), a); break; default: throw Error(o(161)) } } catch (s) { Oc(e, e.return, s) } e.flags &= -3 } 4096 & t && (e.flags &= -4097) } function yl(e, t, n) { Js = e, xl(e, t, n) } function xl(e, t, n) { for (var r = 0 !== (1 & e.mode); null !== Js;) { var i = Js, o = i.child; if (22 === i.tag && r) { var a = null !== i.memoizedState || $s; if (!a) { var s = i.alternate, l = null !== s && null !== s.memoizedState || Zs; s = $s; var c = Zs; if ($s = a, (Zs = l) && !c) for (Js = i; null !== Js;)l = (a = Js).child, 22 === a.tag && null !== a.memoizedState ? Sl(i) : null !== l ? (l.return = a, Js = l) : Sl(i); for (; null !== o;)Js = o, xl(o, t, n), o = o.sibling; Js = i, $s = s, Zs = c } wl(e) } else 0 !== (8772 & i.subtreeFlags) && null !== o ? (o.return = i, Js = o) : wl(e) } } function wl(e) { for (; null !== Js;) { var t = Js; if (0 !== (8772 & t.flags)) { var n = t.alternate; try { if (0 !== (8772 & t.flags)) switch (t.tag) { case 0: case 11: case 15: Zs || il(5, t); break; case 1: var r = t.stateNode; if (4 & t.flags && !Zs) if (null === n) r.componentDidMount(); else { var i = t.elementType === t.type ? n.memoizedProps : mo(t.type, n.memoizedProps); r.componentDidUpdate(i, n.memoizedState, r.__reactInternalSnapshotBeforeUpdate) } var a = t.updateQueue; null !== a && No(t, a, r); break; case 3: var s = t.updateQueue; if (null !== s) { if (n = null, null !== t.child) switch (t.child.tag) { case 5: case 1: n = t.child.stateNode }No(t, s, n) } break; case 5: var l = t.stateNode; if (null === n && 4 & t.flags) { n = l; var c = t.memoizedProps; switch (t.type) { case "button": case "input": case "select": case "textarea": c.autoFocus && n.focus(); break; case "img": c.src && (n.src = c.src) } } break; case 6: case 4: case 12: case 19: case 17: case 21: case 22: case 23: case 25: break; case 13: if (null === t.memoizedState) { var u = t.alternate; if (null !== u) { var h = u.memoizedState; if (null !== h) { var f = h.dehydrated; null !== f && Ht(f) } } } break; default: throw Error(o(163)) }Zs || 512 & t.flags && ol(t) } catch (d) { Oc(t, t.return, d) } } if (t === e) { Js = null; break } if (null !== (n = t.sibling)) { n.return = t.return, Js = n; break } Js = t.return } } function _l(e) { for (; null !== Js;) { var t = Js; if (t === e) { Js = null; break } var n = t.sibling; if (null !== n) { n.return = t.return, Js = n; break } Js = t.return } } function Sl(e) { for (; null !== Js;) { var t = Js; try { switch (t.tag) { case 0: case 11: case 15: var n = t.return; try { il(4, t) } catch (l) { Oc(t, n, l) } break; case 1: var r = t.stateNode; if ("function" === typeof r.componentDidMount) { var i = t.return; try { r.componentDidMount() } catch (l) { Oc(t, i, l) } } var o = t.return; try { ol(t) } catch (l) { Oc(t, o, l) } break; case 5: var a = t.return; try { ol(t) } catch (l) { Oc(t, a, l) } } } catch (l) { Oc(t, t.return, l) } if (t === e) { Js = null; break } var s = t.sibling; if (null !== s) { s.return = t.return, Js = s; break } Js = t.return } } var Cl, Ol = Math.ceil, kl = x.ReactCurrentDispatcher, jl = x.ReactCurrentOwner, El = x.ReactCurrentBatchConfig, Tl = 0, Pl = null, Al = null, Ml = 0, Dl = 0, Il = Ci(0), Ll = 0, Fl = null, Rl = 0, Bl = 0, Nl = 0, zl = null, Wl = null, Hl = 0, Ul = 1 / 0, Xl = null, Vl = !1, Gl = null, Yl = null, ql = !1, Kl = null, $l = 0, Zl = 0, Ql = null, Jl = -1, ec = 0; function tc() { return 0 !== (6 & Tl) ? Ze() : -1 !== Jl ? Jl : Jl = Ze() } function nc(e) { return 0 === (1 & e.mode) ? 1 : 0 !== (2 & Tl) && 0 !== Ml ? Ml & -Ml : null !== vo.transition ? (0 === ec && (ec = gt()), ec) : 0 !== (e = yt) ? e : e = void 0 === (e = window.event) ? 16 : $t(e.type) } function rc(e, t, n, r) { if (50 < Zl) throw Zl = 0, Ql = null, Error(o(185)); mt(e, n, r), 0 !== (2 & Tl) && e === Pl || (e === Pl && (0 === (2 & Tl) && (Bl |= n), 4 === Ll && lc(e, Ml)), ic(e, r), 1 === n && 0 === Tl && 0 === (1 & t.mode) && (Ul = Ze() + 500, Ni && Hi())) } function ic(e, t) { var n = e.callbackNode; !function (e, t) { for (var n = e.suspendedLanes, r = e.pingedLanes, i = e.expirationTimes, o = e.pendingLanes; 0 < o;) { var a = 31 - at(o), s = 1 << a, l = i[a]; -1 === l ? 0 !== (s & n) && 0 === (s & r) || (i[a] = dt(s, t)) : l <= t && (e.expiredLanes |= s), o &= ~s } }(e, t); var r = ft(e, e === Pl ? Ml : 0); if (0 === r) null !== n && qe(n), e.callbackNode = null, e.callbackPriority = 0; else if (t = r & -r, e.callbackPriority !== t) { if (null != n && qe(n), 1 === t) 0 === e.tag ? function (e) { Ni = !0, Wi(e) }(cc.bind(null, e)) : Wi(cc.bind(null, e)), ai((function () { 0 === (6 & Tl) && Hi() })), n = null; else { switch (xt(r)) { case 1: n = Je; break; case 4: n = et; break; case 16: default: n = tt; break; case 536870912: n = rt }n = Pc(n, oc.bind(null, e)) } e.callbackPriority = t, e.callbackNode = n } } function oc(e, t) { if (Jl = -1, ec = 0, 0 !== (6 & Tl)) throw Error(o(327)); var n = e.callbackNode; if (Sc() && e.callbackNode !== n) return null; var r = ft(e, e === Pl ? Ml : 0); if (0 === r) return null; if (0 !== (30 & r) || 0 !== (r & e.expiredLanes) || t) t = mc(e, r); else { t = r; var i = Tl; Tl |= 2; var a = gc(); for (Pl === e && Ml === t || (Xl = null, Ul = Ze() + 500, dc(e, t)); ;)try { yc(); break } catch (l) { pc(e, l) } _o(), kl.current = a, Tl = i, null !== Al ? t = 0 : (Pl = null, Ml = 0, t = Ll) } if (0 !== t) { if (2 === t && (0 !== (i = pt(e)) && (r = i, t = ac(e, i))), 1 === t) throw n = Fl, dc(e, 0), lc(e, r), ic(e, Ze()), n; if (6 === t) lc(e, r); else { if (i = e.current.alternate, 0 === (30 & r) && !function (e) { for (var t = e; ;) { if (16384 & t.flags) { var n = t.updateQueue; if (null !== n && null !== (n = n.stores)) for (var r = 0; r < n.length; r++) { var i = n[r], o = i.getSnapshot; i = i.value; try { if (!sr(o(), i)) return !1 } catch (s) { return !1 } } } if (n = t.child, 16384 & t.subtreeFlags && null !== n) n.return = t, t = n; else { if (t === e) break; for (; null === t.sibling;) { if (null === t.return || t.return === e) return !0; t = t.return } t.sibling.return = t.return, t = t.sibling } } return !0 }(i) && (2 === (t = mc(e, r)) && (0 !== (a = pt(e)) && (r = a, t = ac(e, a))), 1 === t)) throw n = Fl, dc(e, 0), lc(e, r), ic(e, Ze()), n; switch (e.finishedWork = i, e.finishedLanes = r, t) { case 0: case 1: throw Error(o(345)); case 2: case 5: _c(e, Wl, Xl); break; case 3: if (lc(e, r), (130023424 & r) === r && 10 < (t = Hl + 500 - Ze())) { if (0 !== ft(e, 0)) break; if (((i = e.suspendedLanes) & r) !== r) { tc(), e.pingedLanes |= e.suspendedLanes & i; break } e.timeoutHandle = ri(_c.bind(null, e, Wl, Xl), t); break } _c(e, Wl, Xl); break; case 4: if (lc(e, r), (4194240 & r) === r) break; for (t = e.eventTimes, i = -1; 0 < r;) { var s = 31 - at(r); a = 1 << s, (s = t[s]) > i && (i = s), r &= ~a } if (r = i, 10 < (r = (120 > (r = Ze() - r) ? 120 : 480 > r ? 480 : 1080 > r ? 1080 : 1920 > r ? 1920 : 3e3 > r ? 3e3 : 4320 > r ? 4320 : 1960 * Ol(r / 1960)) - r)) { e.timeoutHandle = ri(_c.bind(null, e, Wl, Xl), r); break } _c(e, Wl, Xl); break; default: throw Error(o(329)) } } } return ic(e, Ze()), e.callbackNode === n ? oc.bind(null, e) : null } function ac(e, t) { var n = zl; return e.current.memoizedState.isDehydrated && (dc(e, t).flags |= 256), 2 !== (e = mc(e, t)) && (t = Wl, Wl = n, null !== t && sc(t)), e } function sc(e) { null === Wl ? Wl = e : Wl.push.apply(Wl, e) } function lc(e, t) { for (t &= ~Nl, t &= ~Bl, e.suspendedLanes |= t, e.pingedLanes &= ~t, e = e.expirationTimes; 0 < t;) { var n = 31 - at(t), r = 1 << n; e[n] = -1, t &= ~r } } function cc(e) { if (0 !== (6 & Tl)) throw Error(o(327)); Sc(); var t = ft(e, 0); if (0 === (1 & t)) return ic(e, Ze()), null; var n = mc(e, t); if (0 !== e.tag && 2 === n) { var r = pt(e); 0 !== r && (t = r, n = ac(e, r)) } if (1 === n) throw n = Fl, dc(e, 0), lc(e, t), ic(e, Ze()), n; if (6 === n) throw Error(o(345)); return e.finishedWork = e.current.alternate, e.finishedLanes = t, _c(e, Wl, Xl), ic(e, Ze()), null } function uc(e, t) { var n = Tl; Tl |= 1; try { return e(t) } finally { 0 === (Tl = n) && (Ul = Ze() + 500, Ni && Hi()) } } function hc(e) { null !== Kl && 0 === Kl.tag && 0 === (6 & Tl) && Sc(); var t = Tl; Tl |= 1; var n = El.transition, r = yt; try { if (El.transition = null, yt = 1, e) return e() } finally { yt = r, El.transition = n, 0 === (6 & (Tl = t)) && Hi() } } function fc() { Dl = Il.current, Oi(Il) } function dc(e, t) { e.finishedWork = null, e.finishedLanes = 0; var n = e.timeoutHandle; if (-1 !== n && (e.timeoutHandle = -1, ii(n)), null !== Al) for (n = Al.return; null !== n;) { var r = n; switch (to(r), r.tag) { case 1: null !== (r = r.type.childContextTypes) && void 0 !== r && Di(); break; case 3: oa(), Oi(Ti), Oi(Ei), ha(); break; case 5: sa(r); break; case 4: oa(); break; case 13: case 19: Oi(la); break; case 10: So(r.type._context); break; case 22: case 23: fc() }n = n.return } if (Pl = e, Al = e = Ic(e.current, null), Ml = Dl = t, Ll = 0, Fl = null, Nl = Bl = Rl = 0, Wl = zl = null, null !== jo) { for (t = 0; t < jo.length; t++)if (null !== (r = (n = jo[t]).interleaved)) { n.interleaved = null; var i = r.next, o = n.pending; if (null !== o) { var a = o.next; o.next = i, r.next = a } n.pending = r } jo = null } return e } function pc(e, t) { for (; ;) { var n = Al; try { if (_o(), fa.current = as, ba) { for (var r = ga.memoizedState; null !== r;) { var i = r.queue; null !== i && (i.pending = null), r = r.next } ba = !1 } if (pa = 0, ma = va = ga = null, ya = !1, xa = 0, jl.current = null, null === n || null === n.return) { Ll = 1, Fl = t, Al = null; break } e: { var a = e, s = n.return, l = n, c = t; if (t = Ml, l.flags |= 32768, null !== c && "object" === typeof c && "function" === typeof c.then) { var u = c, h = l, f = h.tag; if (0 === (1 & h.mode) && (0 === f || 11 === f || 15 === f)) { var d = h.alternate; d ? (h.updateQueue = d.updateQueue, h.memoizedState = d.memoizedState, h.lanes = d.lanes) : (h.updateQueue = null, h.memoizedState = null) } var p = ms(s); if (null !== p) { p.flags &= -257, bs(p, s, l, 0, t), 1 & p.mode && vs(a, u, t), c = u; var g = (t = p).updateQueue; if (null === g) { var v = new Set; v.add(c), t.updateQueue = v } else g.add(c); break e } if (0 === (1 & t)) { vs(a, u, t), vc(); break e } c = Error(o(426)) } else if (io && 1 & l.mode) { var m = ms(s); if (null !== m) { 0 === (65536 & m.flags) && (m.flags |= 256), bs(m, s, l, 0, t), go(us(c, l)); break e } } a = c = us(c, l), 4 !== Ll && (Ll = 2), null === zl ? zl = [a] : zl.push(a), a = s; do { switch (a.tag) { case 3: a.flags |= 65536, t &= -t, a.lanes |= t, Ro(a, ps(0, c, t)); break e; case 1: l = c; var b = a.type, y = a.stateNode; if (0 === (128 & a.flags) && ("function" === typeof b.getDerivedStateFromError || null !== y && "function" === typeof y.componentDidCatch && (null === Yl || !Yl.has(y)))) { a.flags |= 65536, t &= -t, a.lanes |= t, Ro(a, gs(a, l, t)); break e } }a = a.return } while (null !== a) } wc(n) } catch (x) { t = x, Al === n && null !== n && (Al = n = n.return); continue } break } } function gc() { var e = kl.current; return kl.current = as, null === e ? as : e } function vc() { 0 !== Ll && 3 !== Ll && 2 !== Ll || (Ll = 4), null === Pl || 0 === (268435455 & Rl) && 0 === (268435455 & Bl) || lc(Pl, Ml) } function mc(e, t) { var n = Tl; Tl |= 2; var r = gc(); for (Pl === e && Ml === t || (Xl = null, dc(e, t)); ;)try { bc(); break } catch (i) { pc(e, i) } if (_o(), Tl = n, kl.current = r, null !== Al) throw Error(o(261)); return Pl = null, Ml = 0, Ll } function bc() { for (; null !== Al;)xc(Al) } function yc() { for (; null !== Al && !Ke();)xc(Al) } function xc(e) { var t = Cl(e.alternate, e, Dl); e.memoizedProps = e.pendingProps, null === t ? wc(e) : Al = t, jl.current = null } function wc(e) { var t = e; do { var n = t.alternate; if (e = t.return, 0 === (32768 & t.flags)) { if (null !== (n = qs(n, t, Dl))) return void (Al = n) } else { if (null !== (n = Ks(n, t))) return n.flags &= 32767, void (Al = n); if (null === e) return Ll = 6, void (Al = null); e.flags |= 32768, e.subtreeFlags = 0, e.deletions = null } if (null !== (t = t.sibling)) return void (Al = t); Al = t = e } while (null !== t); 0 === Ll && (Ll = 5) } function _c(e, t, n) { var r = yt, i = El.transition; try { El.transition = null, yt = 1, function (e, t, n, r) { do { Sc() } while (null !== Kl); if (0 !== (6 & Tl)) throw Error(o(327)); n = e.finishedWork; var i = e.finishedLanes; if (null === n) return null; if (e.finishedWork = null, e.finishedLanes = 0, n === e.current) throw Error(o(177)); e.callbackNode = null, e.callbackPriority = 0; var a = n.lanes | n.childLanes; if (function (e, t) { var n = e.pendingLanes & ~t; e.pendingLanes = t, e.suspendedLanes = 0, e.pingedLanes = 0, e.expiredLanes &= t, e.mutableReadLanes &= t, e.entangledLanes &= t, t = e.entanglements; var r = e.eventTimes; for (e = e.expirationTimes; 0 < n;) { var i = 31 - at(n), o = 1 << i; t[i] = 0, r[i] = -1, e[i] = -1, n &= ~o } }(e, a), e === Pl && (Al = Pl = null, Ml = 0), 0 === (2064 & n.subtreeFlags) && 0 === (2064 & n.flags) || ql || (ql = !0, Pc(tt, (function () { return Sc(), null }))), a = 0 !== (15990 & n.flags), 0 !== (15990 & n.subtreeFlags) || a) { a = El.transition, El.transition = null; var s = yt; yt = 1; var l = Tl; Tl |= 4, jl.current = null, function (e, t) { if (ei = Xt, dr(e = fr())) { if ("selectionStart" in e) var n = { start: e.selectionStart, end: e.selectionEnd }; else e: { var r = (n = (n = e.ownerDocument) && n.defaultView || window).getSelection && n.getSelection(); if (r && 0 !== r.rangeCount) { n = r.anchorNode; var i = r.anchorOffset, a = r.focusNode; r = r.focusOffset; try { n.nodeType, a.nodeType } catch (w) { n = null; break e } var s = 0, l = -1, c = -1, u = 0, h = 0, f = e, d = null; t: for (; ;) { for (var p; f !== n || 0 !== i && 3 !== f.nodeType || (l = s + i), f !== a || 0 !== r && 3 !== f.nodeType || (c = s + r), 3 === f.nodeType && (s += f.nodeValue.length), null !== (p = f.firstChild);)d = f, f = p; for (; ;) { if (f === e) break t; if (d === n && ++u === i && (l = s), d === a && ++h === r && (c = s), null !== (p = f.nextSibling)) break; d = (f = d).parentNode } f = p } n = -1 === l || -1 === c ? null : { start: l, end: c } } else n = null } n = n || { start: 0, end: 0 } } else n = null; for (ti = { focusedElem: e, selectionRange: n }, Xt = !1, Js = t; null !== Js;)if (e = (t = Js).child, 0 !== (1028 & t.subtreeFlags) && null !== e) e.return = t, Js = e; else for (; null !== Js;) { t = Js; try { var g = t.alternate; if (0 !== (1024 & t.flags)) switch (t.tag) { case 0: case 11: case 15: case 5: case 6: case 4: case 17: break; case 1: if (null !== g) { var v = g.memoizedProps, m = g.memoizedState, b = t.stateNode, y = b.getSnapshotBeforeUpdate(t.elementType === t.type ? v : mo(t.type, v), m); b.__reactInternalSnapshotBeforeUpdate = y } break; case 3: var x = t.stateNode.containerInfo; 1 === x.nodeType ? x.textContent = "" : 9 === x.nodeType && x.documentElement && x.removeChild(x.documentElement); break; default: throw Error(o(163)) } } catch (w) { Oc(t, t.return, w) } if (null !== (e = t.sibling)) { e.return = t.return, Js = e; break } Js = t.return } g = nl, nl = !1 }(e, n), ml(n, e), pr(ti), Xt = !!ei, ti = ei = null, e.current = n, yl(n, e, i), $e(), Tl = l, yt = s, El.transition = a } else e.current = n; if (ql && (ql = !1, Kl = e, $l = i), a = e.pendingLanes, 0 === a && (Yl = null), function (e) { if (ot && "function" === typeof ot.onCommitFiberRoot) try { ot.onCommitFiberRoot(it, e, void 0, 128 === (128 & e.current.flags)) } catch (t) { } }(n.stateNode), ic(e, Ze()), null !== t) for (r = e.onRecoverableError, n = 0; n < t.length; n++)i = t[n], r(i.value, { componentStack: i.stack, digest: i.digest }); if (Vl) throw Vl = !1, e = Gl, Gl = null, e; 0 !== (1 & $l) && 0 !== e.tag && Sc(), a = e.pendingLanes, 0 !== (1 & a) ? e === Ql ? Zl++ : (Zl = 0, Ql = e) : Zl = 0, Hi() }(e, t, n, r) } finally { El.transition = i, yt = r } return null } function Sc() { if (null !== Kl) { var e = xt($l), t = El.transition, n = yt; try { if (El.transition = null, yt = 16 > e ? 16 : e, null === Kl) var r = !1; else { if (e = Kl, Kl = null, $l = 0, 0 !== (6 & Tl)) throw Error(o(331)); var i = Tl; for (Tl |= 4, Js = e.current; null !== Js;) { var a = Js, s = a.child; if (0 !== (16 & Js.flags)) { var l = a.deletions; if (null !== l) { for (var c = 0; c < l.length; c++) { var u = l[c]; for (Js = u; null !== Js;) { var h = Js; switch (h.tag) { case 0: case 11: case 15: rl(8, h, a) }var f = h.child; if (null !== f) f.return = h, Js = f; else for (; null !== Js;) { var d = (h = Js).sibling, p = h.return; if (al(h), h === u) { Js = null; break } if (null !== d) { d.return = p, Js = d; break } Js = p } } } var g = a.alternate; if (null !== g) { var v = g.child; if (null !== v) { g.child = null; do { var m = v.sibling; v.sibling = null, v = m } while (null !== v) } } Js = a } } if (0 !== (2064 & a.subtreeFlags) && null !== s) s.return = a, Js = s; else e: for (; null !== Js;) { if (0 !== (2048 & (a = Js).flags)) switch (a.tag) { case 0: case 11: case 15: rl(9, a, a.return) }var b = a.sibling; if (null !== b) { b.return = a.return, Js = b; break e } Js = a.return } } var y = e.current; for (Js = y; null !== Js;) { var x = (s = Js).child; if (0 !== (2064 & s.subtreeFlags) && null !== x) x.return = s, Js = x; else e: for (s = y; null !== Js;) { if (0 !== (2048 & (l = Js).flags)) try { switch (l.tag) { case 0: case 11: case 15: il(9, l) } } catch (_) { Oc(l, l.return, _) } if (l === s) { Js = null; break e } var w = l.sibling; if (null !== w) { w.return = l.return, Js = w; break e } Js = l.return } } if (Tl = i, Hi(), ot && "function" === typeof ot.onPostCommitFiberRoot) try { ot.onPostCommitFiberRoot(it, e) } catch (_) { } r = !0 } return r } finally { yt = n, El.transition = t } } return !1 } function Cc(e, t, n) { e = Lo(e, t = ps(0, t = us(n, t), 1), 1), t = tc(), null !== e && (mt(e, 1, t), ic(e, t)) } function Oc(e, t, n) { if (3 === e.tag) Cc(e, e, n); else for (; null !== t;) { if (3 === t.tag) { Cc(t, e, n); break } if (1 === t.tag) { var r = t.stateNode; if ("function" === typeof t.type.getDerivedStateFromError || "function" === typeof r.componentDidCatch && (null === Yl || !Yl.has(r))) { t = Lo(t, e = gs(t, e = us(n, e), 1), 1), e = tc(), null !== t && (mt(t, 1, e), ic(t, e)); break } } t = t.return } } function kc(e, t, n) { var r = e.pingCache; null !== r && r.delete(t), t = tc(), e.pingedLanes |= e.suspendedLanes & n, Pl === e && (Ml & n) === n && (4 === Ll || 3 === Ll && (130023424 & Ml) === Ml && 500 > Ze() - Hl ? dc(e, 0) : Nl |= n), ic(e, t) } function jc(e, t) { 0 === t && (0 === (1 & e.mode) ? t = 1 : (t = ut, 0 === (130023424 & (ut <<= 1)) && (ut = 4194304))); var n = tc(); null !== (e = Po(e, t)) && (mt(e, t, n), ic(e, n)) } function Ec(e) { var t = e.memoizedState, n = 0; null !== t && (n = t.retryLane), jc(e, n) } function Tc(e, t) { var n = 0; switch (e.tag) { case 13: var r = e.stateNode, i = e.memoizedState; null !== i && (n = i.retryLane); break; case 19: r = e.stateNode; break; default: throw Error(o(314)) }null !== r && r.delete(t), jc(e, n) } function Pc(e, t) { return Ye(e, t) } function Ac(e, t, n, r) { this.tag = e, this.key = n, this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null, this.index = 0, this.ref = null, this.pendingProps = t, this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null, this.mode = r, this.subtreeFlags = this.flags = 0, this.deletions = null, this.childLanes = this.lanes = 0, this.alternate = null } function Mc(e, t, n, r) { return new Ac(e, t, n, r) } function Dc(e) { return !(!(e = e.prototype) || !e.isReactComponent) } function Ic(e, t) { var n = e.alternate; return null === n ? ((n = Mc(e.tag, t, e.key, e.mode)).elementType = e.elementType, n.type = e.type, n.stateNode = e.stateNode, n.alternate = e, e.alternate = n) : (n.pendingProps = t, n.type = e.type, n.flags = 0, n.subtreeFlags = 0, n.deletions = null), n.flags = 14680064 & e.flags, n.childLanes = e.childLanes, n.lanes = e.lanes, n.child = e.child, n.memoizedProps = e.memoizedProps, n.memoizedState = e.memoizedState, n.updateQueue = e.updateQueue, t = e.dependencies, n.dependencies = null === t ? null : { lanes: t.lanes, firstContext: t.firstContext }, n.sibling = e.sibling, n.index = e.index, n.ref = e.ref, n } function Lc(e, t, n, r, i, a) { var s = 2; if (r = e, "function" === typeof e) Dc(e) && (s = 1); else if ("string" === typeof e) s = 5; else e: switch (e) { case S: return Fc(n.children, i, a, t); case C: s = 8, i |= 8; break; case O: return (e = Mc(12, n, t, 2 | i)).elementType = O, e.lanes = a, e; case T: return (e = Mc(13, n, t, i)).elementType = T, e.lanes = a, e; case P: return (e = Mc(19, n, t, i)).elementType = P, e.lanes = a, e; case D: return Rc(n, i, a, t); default: if ("object" === typeof e && null !== e) switch (e.$$typeof) { case k: s = 10; break e; case j: s = 9; break e; case E: s = 11; break e; case A: s = 14; break e; case M: s = 16, r = null; break e }throw Error(o(130, null == e ? e : typeof e, "")) }return (t = Mc(s, n, t, i)).elementType = e, t.type = r, t.lanes = a, t } function Fc(e, t, n, r) { return (e = Mc(7, e, r, t)).lanes = n, e } function Rc(e, t, n, r) { return (e = Mc(22, e, r, t)).elementType = D, e.lanes = n, e.stateNode = { isHidden: !1 }, e } function Bc(e, t, n) { return (e = Mc(6, e, null, t)).lanes = n, e } function Nc(e, t, n) { return (t = Mc(4, null !== e.children ? e.children : [], e.key, t)).lanes = n, t.stateNode = { containerInfo: e.containerInfo, pendingChildren: null, implementation: e.implementation }, t } function zc(e, t, n, r, i) { this.tag = t, this.containerInfo = e, this.finishedWork = this.pingCache = this.current = this.pendingChildren = null, this.timeoutHandle = -1, this.callbackNode = this.pendingContext = this.context = null, this.callbackPriority = 0, this.eventTimes = vt(0), this.expirationTimes = vt(-1), this.entangledLanes = this.finishedLanes = this.mutableReadLanes = this.expiredLanes = this.pingedLanes = this.suspendedLanes = this.pendingLanes = 0, this.entanglements = vt(0), this.identifierPrefix = r, this.onRecoverableError = i, this.mutableSourceEagerHydrationData = null } function Wc(e, t, n, r, i, o, a, s, l) { return e = new zc(e, t, n, s, l), 1 === t ? (t = 1, !0 === o && (t |= 8)) : t = 0, o = Mc(3, null, null, t), e.current = o, o.stateNode = e, o.memoizedState = { element: r, isDehydrated: n, cache: null, transitions: null, pendingSuspenseBoundaries: null }, Mo(o), e } function Hc(e) { if (!e) return ji; e: { if (He(e = e._reactInternals) !== e || 1 !== e.tag) throw Error(o(170)); var t = e; do { switch (t.tag) { case 3: t = t.stateNode.context; break e; case 1: if (Mi(t.type)) { t = t.stateNode.__reactInternalMemoizedMergedChildContext; break e } }t = t.return } while (null !== t); throw Error(o(171)) } if (1 === e.tag) { var n = e.type; if (Mi(n)) return Li(e, n, t) } return t } function Uc(e, t, n, r, i, o, a, s, l) { return (e = Wc(n, r, !0, e, 0, o, 0, s, l)).context = Hc(null), n = e.current, (o = Io(r = tc(), i = nc(n))).callback = void 0 !== t && null !== t ? t : null, Lo(n, o, i), e.current.lanes = i, mt(e, i, r), ic(e, r), e } function Xc(e, t, n, r) { var i = t.current, o = tc(), a = nc(i); return n = Hc(n), null === t.context ? t.context = n : t.pendingContext = n, (t = Io(o, a)).payload = { element: e }, null !== (r = void 0 === r ? null : r) && (t.callback = r), null !== (e = Lo(i, t, a)) && (rc(e, i, a, o), Fo(e, i, a)), a } function Vc(e) { return (e = e.current).child ? (e.child.tag, e.child.stateNode) : null } function Gc(e, t) { if (null !== (e = e.memoizedState) && null !== e.dehydrated) { var n = e.retryLane; e.retryLane = 0 !== n && n < t ? n : t } } function Yc(e, t) { Gc(e, t), (e = e.alternate) && Gc(e, t) } Cl = function (e, t, n) { if (null !== e) if (e.memoizedProps !== t.pendingProps || Ti.current) xs = !0; else { if (0 === (e.lanes & n) && 0 === (128 & t.flags)) return xs = !1, function (e, t, n) { switch (t.tag) { case 3: Ps(t), po(); break; case 5: aa(t); break; case 1: Mi(t.type) && Fi(t); break; case 4: ia(t, t.stateNode.containerInfo); break; case 10: var r = t.type._context, i = t.memoizedProps.value; ki(bo, r._currentValue), r._currentValue = i; break; case 13: if (null !== (r = t.memoizedState)) return null !== r.dehydrated ? (ki(la, 1 & la.current), t.flags |= 128, null) : 0 !== (n & t.child.childLanes) ? Bs(e, t, n) : (ki(la, 1 & la.current), null !== (e = Vs(e, t, n)) ? e.sibling : null); ki(la, 1 & la.current); break; case 19: if (r = 0 !== (n & t.childLanes), 0 !== (128 & e.flags)) { if (r) return Us(e, t, n); t.flags |= 128 } if (null !== (i = t.memoizedState) && (i.rendering = null, i.tail = null, i.lastEffect = null), ki(la, la.current), r) break; return null; case 22: case 23: return t.lanes = 0, Os(e, t, n) }return Vs(e, t, n) }(e, t, n); xs = 0 !== (131072 & e.flags) } else xs = !1, io && 0 !== (1048576 & t.flags) && Ji(t, Gi, t.index); switch (t.lanes = 0, t.tag) { case 2: var r = t.type; Xs(e, t), e = t.pendingProps; var i = Ai(t, Ei.current); Oo(t, n), i = Ca(null, t, r, e, i, n); var a = Oa(); return t.flags |= 1, "object" === typeof i && null !== i && "function" === typeof i.render && void 0 === i.$$typeof ? (t.tag = 1, t.memoizedState = null, t.updateQueue = null, Mi(r) ? (a = !0, Fi(t)) : a = !1, t.memoizedState = null !== i.state && void 0 !== i.state ? i.state : null, Mo(t), i.updater = Ho, t.stateNode = i, i._reactInternals = t, Go(t, r, e, n), t = Ts(null, t, r, !0, a, n)) : (t.tag = 0, io && a && eo(t), ws(null, t, i, n), t = t.child), t; case 16: r = t.elementType; e: { switch (Xs(e, t), e = t.pendingProps, r = (i = r._init)(r._payload), t.type = r, i = t.tag = function (e) { if ("function" === typeof e) return Dc(e) ? 1 : 0; if (void 0 !== e && null !== e) { if ((e = e.$$typeof) === E) return 11; if (e === A) return 14 } return 2 }(r), e = mo(r, e), i) { case 0: t = js(null, t, r, e, n); break e; case 1: t = Es(null, t, r, e, n); break e; case 11: t = _s(null, t, r, e, n); break e; case 14: t = Ss(null, t, r, mo(r.type, e), n); break e }throw Error(o(306, r, "")) } return t; case 0: return r = t.type, i = t.pendingProps, js(e, t, r, i = t.elementType === r ? i : mo(r, i), n); case 1: return r = t.type, i = t.pendingProps, Es(e, t, r, i = t.elementType === r ? i : mo(r, i), n); case 3: e: { if (Ps(t), null === e) throw Error(o(387)); r = t.pendingProps, i = (a = t.memoizedState).element, Do(e, t), Bo(t, r, null, n); var s = t.memoizedState; if (r = s.element, a.isDehydrated) { if (a = { element: r, isDehydrated: !1, cache: s.cache, pendingSuspenseBoundaries: s.pendingSuspenseBoundaries, transitions: s.transitions }, t.updateQueue.baseState = a, t.memoizedState = a, 256 & t.flags) { t = As(e, t, r, n, i = us(Error(o(423)), t)); break e } if (r !== i) { t = As(e, t, r, n, i = us(Error(o(424)), t)); break e } for (ro = ci(t.stateNode.containerInfo.firstChild), no = t, io = !0, oo = null, n = Qo(t, null, r, n), t.child = n; n;)n.flags = -3 & n.flags | 4096, n = n.sibling } else { if (po(), r === i) { t = Vs(e, t, n); break e } ws(e, t, r, n) } t = t.child } return t; case 5: return aa(t), null === e && co(t), r = t.type, i = t.pendingProps, a = null !== e ? e.memoizedProps : null, s = i.children, ni(r, i) ? s = null : null !== a && ni(r, a) && (t.flags |= 32), ks(e, t), ws(e, t, s, n), t.child; case 6: return null === e && co(t), null; case 13: return Bs(e, t, n); case 4: return ia(t, t.stateNode.containerInfo), r = t.pendingProps, null === e ? t.child = Zo(t, null, r, n) : ws(e, t, r, n), t.child; case 11: return r = t.type, i = t.pendingProps, _s(e, t, r, i = t.elementType === r ? i : mo(r, i), n); case 7: return ws(e, t, t.pendingProps, n), t.child; case 8: case 12: return ws(e, t, t.pendingProps.children, n), t.child; case 10: e: { if (r = t.type._context, i = t.pendingProps, a = t.memoizedProps, s = i.value, ki(bo, r._currentValue), r._currentValue = s, null !== a) if (sr(a.value, s)) { if (a.children === i.children && !Ti.current) { t = Vs(e, t, n); break e } } else for (null !== (a = t.child) && (a.return = t); null !== a;) { var l = a.dependencies; if (null !== l) { s = a.child; for (var c = l.firstContext; null !== c;) { if (c.context === r) { if (1 === a.tag) { (c = Io(-1, n & -n)).tag = 2; var u = a.updateQueue; if (null !== u) { var h = (u = u.shared).pending; null === h ? c.next = c : (c.next = h.next, h.next = c), u.pending = c } } a.lanes |= n, null !== (c = a.alternate) && (c.lanes |= n), Co(a.return, n, t), l.lanes |= n; break } c = c.next } } else if (10 === a.tag) s = a.type === t.type ? null : a.child; else if (18 === a.tag) { if (null === (s = a.return)) throw Error(o(341)); s.lanes |= n, null !== (l = s.alternate) && (l.lanes |= n), Co(s, n, t), s = a.sibling } else s = a.child; if (null !== s) s.return = a; else for (s = a; null !== s;) { if (s === t) { s = null; break } if (null !== (a = s.sibling)) { a.return = s.return, s = a; break } s = s.return } a = s } ws(e, t, i.children, n), t = t.child } return t; case 9: return i = t.type, r = t.pendingProps.children, Oo(t, n), r = r(i = ko(i)), t.flags |= 1, ws(e, t, r, n), t.child; case 14: return i = mo(r = t.type, t.pendingProps), Ss(e, t, r, i = mo(r.type, i), n); case 15: return Cs(e, t, t.type, t.pendingProps, n); case 17: return r = t.type, i = t.pendingProps, i = t.elementType === r ? i : mo(r, i), Xs(e, t), t.tag = 1, Mi(r) ? (e = !0, Fi(t)) : e = !1, Oo(t, n), Xo(t, r, i), Go(t, r, i, n), Ts(null, t, r, !0, e, n); case 19: return Us(e, t, n); case 22: return Os(e, t, n) }throw Error(o(156, t.tag)) }; var qc = "function" === typeof reportError ? reportError : function (e) { console.error(e) }; function Kc(e) { this._internalRoot = e } function $c(e) { this._internalRoot = e } function Zc(e) { return !(!e || 1 !== e.nodeType && 9 !== e.nodeType && 11 !== e.nodeType) } function Qc(e) { return !(!e || 1 !== e.nodeType && 9 !== e.nodeType && 11 !== e.nodeType && (8 !== e.nodeType || " react-mount-point-unstable " !== e.nodeValue)) } function Jc() { } function eu(e, t, n, r, i) { var o = n._reactRootContainer; if (o) { var a = o; if ("function" === typeof i) { var s = i; i = function () { var e = Vc(a); s.call(e) } } Xc(t, a, e, i) } else a = function (e, t, n, r, i) { if (i) { if ("function" === typeof r) { var o = r; r = function () { var e = Vc(a); o.call(e) } } var a = Uc(t, r, e, 0, null, !1, 0, "", Jc); return e._reactRootContainer = a, e[pi] = a.current, Hr(8 === e.nodeType ? e.parentNode : e), hc(), a } for (; i = e.lastChild;)e.removeChild(i); if ("function" === typeof r) { var s = r; r = function () { var e = Vc(l); s.call(e) } } var l = Wc(e, 0, !1, null, 0, !1, 0, "", Jc); return e._reactRootContainer = l, e[pi] = l.current, Hr(8 === e.nodeType ? e.parentNode : e), hc((function () { Xc(t, l, n, r) })), l }(n, t, e, i, r); return Vc(a) } $c.prototype.render = Kc.prototype.render = function (e) { var t = this._internalRoot; if (null === t) throw Error(o(409)); Xc(e, t, null, null) }, $c.prototype.unmount = Kc.prototype.unmount = function () { var e = this._internalRoot; if (null !== e) { this._internalRoot = null; var t = e.containerInfo; hc((function () { Xc(null, e, null, null) })), t[pi] = null } }, $c.prototype.unstable_scheduleHydration = function (e) { if (e) { var t = Ct(); e = { blockedOn: null, target: e, priority: t }; for (var n = 0; n < Dt.length && 0 !== t && t < Dt[n].priority; n++); Dt.splice(n, 0, e), 0 === n && Rt(e) } }, wt = function (e) { switch (e.tag) { case 3: var t = e.stateNode; if (t.current.memoizedState.isDehydrated) { var n = ht(t.pendingLanes); 0 !== n && (bt(t, 1 | n), ic(t, Ze()), 0 === (6 & Tl) && (Ul = Ze() + 500, Hi())) } break; case 13: hc((function () { var t = Po(e, 1); if (null !== t) { var n = tc(); rc(t, e, 1, n) } })), Yc(e, 1) } }, _t = function (e) { if (13 === e.tag) { var t = Po(e, 134217728); if (null !== t) rc(t, e, 134217728, tc()); Yc(e, 134217728) } }, St = function (e) { if (13 === e.tag) { var t = nc(e), n = Po(e, t); if (null !== n) rc(n, e, t, tc()); Yc(e, t) } }, Ct = function () { return yt }, Ot = function (e, t) { var n = yt; try { return yt = e, t() } finally { yt = n } }, _e = function (e, t, n) { switch (t) { case "input": if (Q(e, n), t = n.name, "radio" === n.type && null != t) { for (n = e; n.parentNode;)n = n.parentNode; for (n = n.querySelectorAll("input[name=" + JSON.stringify("" + t) + '][type="radio"]'), t = 0; t < n.length; t++) { var r = n[t]; if (r !== e && r.form === e.form) { var i = wi(r); if (!i) throw Error(o(90)); Y(r), Q(r, i) } } } break; case "textarea": oe(e, n); break; case "select": null != (t = n.value) && ne(e, !!n.multiple, t, !1) } }, Ee = uc, Te = hc; var tu = { usingClientEntryPoint: !1, Events: [yi, xi, wi, ke, je, uc] }, nu = { findFiberByHostInstance: bi, bundleType: 0, version: "18.2.0", rendererPackageName: "react-dom" }, ru = { bundleType: nu.bundleType, version: nu.version, rendererPackageName: nu.rendererPackageName, rendererConfig: nu.rendererConfig, overrideHookState: null, overrideHookStateDeletePath: null, overrideHookStateRenamePath: null, overrideProps: null, overridePropsDeletePath: null, overridePropsRenamePath: null, setErrorHandler: null, setSuspenseHandler: null, scheduleUpdate: null, currentDispatcherRef: x.ReactCurrentDispatcher, findHostInstanceByFiber: function (e) { return null === (e = Ve(e)) ? null : e.stateNode }, findFiberByHostInstance: nu.findFiberByHostInstance || function () { return null }, findHostInstancesForRefresh: null, scheduleRefresh: null, scheduleRoot: null, setRefreshHandler: null, getCurrentFiber: null, reconcilerVersion: "18.2.0-next-9e3b772b8-20220608" }; if ("undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) { var iu = __REACT_DEVTOOLS_GLOBAL_HOOK__; if (!iu.isDisabled && iu.supportsFiber) try { it = iu.inject(ru), ot = iu } catch (ue) { } } t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = tu, t.createPortal = function (e, t) { var n = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null; if (!Zc(t)) throw Error(o(200)); return function (e, t, n) { var r = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null; return { $$typeof: _, key: null == r ? null : "" + r, children: e, containerInfo: t, implementation: n } }(e, t, null, n) }, t.createRoot = function (e, t) { if (!Zc(e)) throw Error(o(299)); var n = !1, r = "", i = qc; return null !== t && void 0 !== t && (!0 === t.unstable_strictMode && (n = !0), void 0 !== t.identifierPrefix && (r = t.identifierPrefix), void 0 !== t.onRecoverableError && (i = t.onRecoverableError)), t = Wc(e, 1, !1, null, 0, n, 0, r, i), e[pi] = t.current, Hr(8 === e.nodeType ? e.parentNode : e), new Kc(t) }, t.findDOMNode = function (e) { if (null == e) return null; if (1 === e.nodeType) return e; var t = e._reactInternals; if (void 0 === t) { if ("function" === typeof e.render) throw Error(o(188)); throw e = Object.keys(e).join(","), Error(o(268, e)) } return e = null === (e = Ve(t)) ? null : e.stateNode }, t.flushSync = function (e) { return hc(e) }, t.hydrate = function (e, t, n) { if (!Qc(t)) throw Error(o(200)); return eu(null, e, t, !0, n) }, t.hydrateRoot = function (e, t, n) { if (!Zc(e)) throw Error(o(405)); var r = null != n && n.hydratedSources || null, i = !1, a = "", s = qc; if (null !== n && void 0 !== n && (!0 === n.unstable_strictMode && (i = !0), void 0 !== n.identifierPrefix && (a = n.identifierPrefix), void 0 !== n.onRecoverableError && (s = n.onRecoverableError)), t = Uc(t, null, e, 1, null != n ? n : null, i, 0, a, s), e[pi] = t.current, Hr(e), r) for (e = 0; e < r.length; e++)i = (i = (n = r[e])._getVersion)(n._source), null == t.mutableSourceEagerHydrationData ? t.mutableSourceEagerHydrationData = [n, i] : t.mutableSourceEagerHydrationData.push(n, i); return new $c(t) }, t.render = function (e, t, n) { if (!Qc(t)) throw Error(o(200)); return eu(null, e, t, !1, n) }, t.unmountComponentAtNode = function (e) { if (!Qc(e)) throw Error(o(40)); return !!e._reactRootContainer && (hc((function () { eu(null, null, e, !1, (function () { e._reactRootContainer = null, e[pi] = null })) })), !0) }, t.unstable_batchedUpdates = uc, t.unstable_renderSubtreeIntoContainer = function (e, t, n, r) { if (!Qc(n)) throw Error(o(200)); if (null == e || void 0 === e._reactInternals) throw Error(o(38)); return eu(e, t, n, !1, r) }, t.version = "18.2.0-next-9e3b772b8-20220608" }, 1250: function (e, t, n) { "use strict"; var r = n(4164); t.s = r.createRoot, r.hydrateRoot }, 4164: function (e, t, n) { "use strict"; !function e() { if ("undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ && "function" === typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE) try { __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e) } catch (t) { console.error(t) } }(), e.exports = n(4463) }, 6374: function (e, t, n) { "use strict"; var r = n(2791), i = Symbol.for("react.element"), o = Symbol.for("react.fragment"), a = Object.prototype.hasOwnProperty, s = r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner, l = { key: !0, ref: !0, __self: !0, __source: !0 }; function c(e, t, n) { var r, o = {}, c = null, u = null; for (r in void 0 !== n && (c = "" + n), void 0 !== t.key && (c = "" + t.key), void 0 !== t.ref && (u = t.ref), t) a.call(t, r) && !l.hasOwnProperty(r) && (o[r] = t[r]); if (e && e.defaultProps) for (r in t = e.defaultProps) void 0 === o[r] && (o[r] = t[r]); return { $$typeof: i, type: e, key: c, ref: u, props: o, _owner: s.current } } t.Fragment = o, t.jsx = c, t.jsxs = c }, 9117: function (e, t) { "use strict"; var n = Symbol.for("react.element"), r = Symbol.for("react.portal"), i = Symbol.for("react.fragment"), o = Symbol.for("react.strict_mode"), a = Symbol.for("react.profiler"), s = Symbol.for("react.provider"), l = Symbol.for("react.context"), c = Symbol.for("react.forward_ref"), u = Symbol.for("react.suspense"), h = Symbol.for("react.memo"), f = Symbol.for("react.lazy"), d = Symbol.iterator; var p = { isMounted: function () { return !1 }, enqueueForceUpdate: function () { }, enqueueReplaceState: function () { }, enqueueSetState: function () { } }, g = Object.assign, v = {}; function m(e, t, n) { this.props = e, this.context = t, this.refs = v, this.updater = n || p } function b() { } function y(e, t, n) { this.props = e, this.context = t, this.refs = v, this.updater = n || p } m.prototype.isReactComponent = {}, m.prototype.setState = function (e, t) { if ("object" !== typeof e && "function" !== typeof e && null != e) throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables."); this.updater.enqueueSetState(this, e, t, "setState") }, m.prototype.forceUpdate = function (e) { this.updater.enqueueForceUpdate(this, e, "forceUpdate") }, b.prototype = m.prototype; var x = y.prototype = new b; x.constructor = y, g(x, m.prototype), x.isPureReactComponent = !0; var w = Array.isArray, _ = Object.prototype.hasOwnProperty, S = { current: null }, C = { key: !0, ref: !0, __self: !0, __source: !0 }; function O(e, t, r) { var i, o = {}, a = null, s = null; if (null != t) for (i in void 0 !== t.ref && (s = t.ref), void 0 !== t.key && (a = "" + t.key), t) _.call(t, i) && !C.hasOwnProperty(i) && (o[i] = t[i]); var l = arguments.length - 2; if (1 === l) o.children = r; else if (1 < l) { for (var c = Array(l), u = 0; u < l; u++)c[u] = arguments[u + 2]; o.children = c } if (e && e.defaultProps) for (i in l = e.defaultProps) void 0 === o[i] && (o[i] = l[i]); return { $$typeof: n, type: e, key: a, ref: s, props: o, _owner: S.current } } function k(e) { return "object" === typeof e && null !== e && e.$$typeof === n } var j = /\/+/g; function E(e, t) { return "object" === typeof e && null !== e && null != e.key ? function (e) { var t = { "=": "=0", ":": "=2" }; return "$" + e.replace(/[=:]/g, (function (e) { return t[e] })) }("" + e.key) : t.toString(36) } function T(e, t, i, o, a) { var s = typeof e; "undefined" !== s && "boolean" !== s || (e = null); var l = !1; if (null === e) l = !0; else switch (s) { case "string": case "number": l = !0; break; case "object": switch (e.$$typeof) { case n: case r: l = !0 } }if (l) return a = a(l = e), e = "" === o ? "." + E(l, 0) : o, w(a) ? (i = "", null != e && (i = e.replace(j, "$&/") + "/"), T(a, t, i, "", (function (e) { return e }))) : null != a && (k(a) && (a = function (e, t) { return { $$typeof: n, type: e.type, key: t, ref: e.ref, props: e.props, _owner: e._owner } }(a, i + (!a.key || l && l.key === a.key ? "" : ("" + a.key).replace(j, "$&/") + "/") + e)), t.push(a)), 1; if (l = 0, o = "" === o ? "." : o + ":", w(e)) for (var c = 0; c < e.length; c++) { var u = o + E(s = e[c], c); l += T(s, t, i, u, a) } else if (u = function (e) { return null === e || "object" !== typeof e ? null : "function" === typeof (e = d && e[d] || e["@@iterator"]) ? e : null }(e), "function" === typeof u) for (e = u.call(e), c = 0; !(s = e.next()).done;)l += T(s = s.value, t, i, u = o + E(s, c++), a); else if ("object" === s) throw t = String(e), Error("Objects are not valid as a React child (found: " + ("[object Object]" === t ? "object with keys {" + Object.keys(e).join(", ") + "}" : t) + "). If you meant to render a collection of children, use an array instead."); return l } function P(e, t, n) { if (null == e) return e; var r = [], i = 0; return T(e, r, "", "", (function (e) { return t.call(n, e, i++) })), r } function A(e) { if (-1 === e._status) { var t = e._result; (t = t()).then((function (t) { 0 !== e._status && -1 !== e._status || (e._status = 1, e._result = t) }), (function (t) { 0 !== e._status && -1 !== e._status || (e._status = 2, e._result = t) })), -1 === e._status && (e._status = 0, e._result = t) } if (1 === e._status) return e._result.default; throw e._result } var M = { current: null }, D = { transition: null }, I = { ReactCurrentDispatcher: M, ReactCurrentBatchConfig: D, ReactCurrentOwner: S }; t.Children = { map: P, forEach: function (e, t, n) { P(e, (function () { t.apply(this, arguments) }), n) }, count: function (e) { var t = 0; return P(e, (function () { t++ })), t }, toArray: function (e) { return P(e, (function (e) { return e })) || [] }, only: function (e) { if (!k(e)) throw Error("React.Children.only expected to receive a single React element child."); return e } }, t.Component = m, t.Fragment = i, t.Profiler = a, t.PureComponent = y, t.StrictMode = o, t.Suspense = u, t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = I, t.cloneElement = function (e, t, r) { if (null === e || void 0 === e) throw Error("React.cloneElement(...): The argument must be a React element, but you passed " + e + "."); var i = g({}, e.props), o = e.key, a = e.ref, s = e._owner; if (null != t) { if (void 0 !== t.ref && (a = t.ref, s = S.current), void 0 !== t.key && (o = "" + t.key), e.type && e.type.defaultProps) var l = e.type.defaultProps; for (c in t) _.call(t, c) && !C.hasOwnProperty(c) && (i[c] = void 0 === t[c] && void 0 !== l ? l[c] : t[c]) } var c = arguments.length - 2; if (1 === c) i.children = r; else if (1 < c) { l = Array(c); for (var u = 0; u < c; u++)l[u] = arguments[u + 2]; i.children = l } return { $$typeof: n, type: e.type, key: o, ref: a, props: i, _owner: s } }, t.createContext = function (e) { return (e = { $$typeof: l, _currentValue: e, _currentValue2: e, _threadCount: 0, Provider: null, Consumer: null, _defaultValue: null, _globalName: null }).Provider = { $$typeof: s, _context: e }, e.Consumer = e }, t.createElement = O, t.createFactory = function (e) { var t = O.bind(null, e); return t.type = e, t }, t.createRef = function () { return { current: null } }, t.forwardRef = function (e) { return { $$typeof: c, render: e } }, t.isValidElement = k, t.lazy = function (e) { return { $$typeof: f, _payload: { _status: -1, _result: e }, _init: A } }, t.memo = function (e, t) { return { $$typeof: h, type: e, compare: void 0 === t ? null : t } }, t.startTransition = function (e) { var t = D.transition; D.transition = {}; try { e() } finally { D.transition = t } }, t.unstable_act = function () { throw Error("act(...) is not supported in production builds of React.") }, t.useCallback = function (e, t) { return M.current.useCallback(e, t) }, t.useContext = function (e) { return M.current.useContext(e) }, t.useDebugValue = function () { }, t.useDeferredValue = function (e) { return M.current.useDeferredValue(e) }, t.useEffect = function (e, t) { return M.current.useEffect(e, t) }, t.useId = function () { return M.current.useId() }, t.useImperativeHandle = function (e, t, n) { return M.current.useImperativeHandle(e, t, n) }, t.useInsertionEffect = function (e, t) { return M.current.useInsertionEffect(e, t) }, t.useLayoutEffect = function (e, t) { return M.current.useLayoutEffect(e, t) }, t.useMemo = function (e, t) { return M.current.useMemo(e, t) }, t.useReducer = function (e, t, n) { return M.current.useReducer(e, t, n) }, t.useRef = function (e) { return M.current.useRef(e) }, t.useState = function (e) { return M.current.useState(e) }, t.useSyncExternalStore = function (e, t, n) { return M.current.useSyncExternalStore(e, t, n) }, t.useTransition = function () { return M.current.useTransition() }, t.version = "18.2.0" }, 2791: function (e, t, n) { "use strict"; e.exports = n(9117) }, 184: function (e, t, n) { "use strict"; e.exports = n(6374) }, 124: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.autoprefix = void 0; var r, i = n(4689), o = (r = i) && r.__esModule ? r : { default: r }, a = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }; var s = { borderRadius: function (e) { return { msBorderRadius: e, MozBorderRadius: e, OBorderRadius: e, WebkitBorderRadius: e, borderRadius: e } }, boxShadow: function (e) { return { msBoxShadow: e, MozBoxShadow: e, OBoxShadow: e, WebkitBoxShadow: e, boxShadow: e } }, userSelect: function (e) { return { WebkitTouchCallout: e, KhtmlUserSelect: e, MozUserSelect: e, msUserSelect: e, WebkitUserSelect: e, userSelect: e } }, flex: function (e) { return { WebkitBoxFlex: e, MozBoxFlex: e, WebkitFlex: e, msFlex: e, flex: e } }, flexBasis: function (e) { return { WebkitFlexBasis: e, flexBasis: e } }, justifyContent: function (e) { return { WebkitJustifyContent: e, justifyContent: e } }, transition: function (e) { return { msTransition: e, MozTransition: e, OTransition: e, WebkitTransition: e, transition: e } }, transform: function (e) { return { msTransform: e, MozTransform: e, OTransform: e, WebkitTransform: e, transform: e } }, absolute: function (e) { var t = e && e.split(" "); return { position: "absolute", top: t && t[0], right: t && t[1], bottom: t && t[2], left: t && t[3] } }, extend: function (e, t) { var n = t[e]; return n || { extend: e } } }, l = t.autoprefix = function (e) { var t = {}; return (0, o.default)(e, (function (e, n) { var r = {}; (0, o.default)(e, (function (e, t) { var n = s[t]; n ? r = a({}, r, n(e)) : r[t] = e })), t[n] = r })), t }; t.default = l }, 8438: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.active = void 0; var r, i = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, o = n(2791), a = (r = o) && r.__esModule ? r : { default: r }; function s(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" !== typeof t && "function" !== typeof t ? e : t } var l = t.active = function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "span"; return function (n) { function r() { var n, o, l; !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, r); for (var c = arguments.length, u = Array(c), h = 0; h < c; h++)u[h] = arguments[h]; return o = l = s(this, (n = r.__proto__ || Object.getPrototypeOf(r)).call.apply(n, [this].concat(u))), l.state = { active: !1 }, l.handleMouseDown = function () { return l.setState({ active: !0 }) }, l.handleMouseUp = function () { return l.setState({ active: !1 }) }, l.render = function () { return a.default.createElement(t, { onMouseDown: l.handleMouseDown, onMouseUp: l.handleMouseUp }, a.default.createElement(e, i({}, l.props, l.state))) }, s(l, o) } return function (e, t) { if ("function" !== typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(r, n), r }(a.default.Component) }; t.default = l }, 296: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.hover = void 0; var r, i = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, o = n(2791), a = (r = o) && r.__esModule ? r : { default: r }; function s(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" !== typeof t && "function" !== typeof t ? e : t } var l = t.hover = function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "span"; return function (n) { function r() { var n, o, l; !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, r); for (var c = arguments.length, u = Array(c), h = 0; h < c; h++)u[h] = arguments[h]; return o = l = s(this, (n = r.__proto__ || Object.getPrototypeOf(r)).call.apply(n, [this].concat(u))), l.state = { hover: !1 }, l.handleMouseOver = function () { return l.setState({ hover: !0 }) }, l.handleMouseOut = function () { return l.setState({ hover: !1 }) }, l.render = function () { return a.default.createElement(t, { onMouseOver: l.handleMouseOver, onMouseOut: l.handleMouseOut }, a.default.createElement(e, i({}, l.props, l.state))) }, s(l, o) } return function (e, t) { if ("function" !== typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(r, n), r }(a.default.Component) }; t.default = l }, 9198: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.flattenNames = void 0; var r = s(n(6769)), i = s(n(4689)), o = s(n(3977)), a = s(n(2034)); function s(e) { return e && e.__esModule ? e : { default: e } } var l = t.flattenNames = function e() { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [], n = []; return (0, a.default)(t, (function (t) { Array.isArray(t) ? e(t).map((function (e) { return n.push(e) })) : (0, o.default)(t) ? (0, i.default)(t, (function (e, t) { !0 === e && n.push(t), n.push(t + "-" + e) })) : (0, r.default)(t) && n.push(t) })), n }; t.default = l }, 4093: function (e, t, n) { "use strict"; t.tz = void 0; var r = c(n(9198)), i = c(n(8351)), o = c(n(124)), a = c(n(296)), s = c(n(8438)), l = c(n(2196)); function c(e) { return e && e.__esModule ? e : { default: e } } a.default, t.tz = a.default, s.default, l.default; var u = function (e) { for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), a = 1; a < t; a++)n[a - 1] = arguments[a]; var s = (0, r.default)(n), l = (0, i.default)(e, s); return (0, o.default)(l) }; t.ZP = u }, 2196: function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); t.default = function (e, t) { var n = {}, r = function (e) { var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]; n[e] = t }; return 0 === e && r("first-child"), e === t - 1 && r("last-child"), (0 === e || e % 2 === 0) && r("even"), 1 === Math.abs(e % 2) && r("odd"), r("nth-child", e), n } }, 8351: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.mergeClasses = void 0; var r = a(n(4689)), i = a(n(8121)), o = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }; function a(e) { return e && e.__esModule ? e : { default: e } } var s = t.mergeClasses = function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [], n = e.default && (0, i.default)(e.default) || {}; return t.map((function (t) { var i = e[t]; return i && (0, r.default)(i, (function (e, t) { n[t] || (n[t] = {}), n[t] = o({}, n[t], i[t]) })), t })), n }; t.default = s }, 6813: function (e, t) { "use strict"; function n(e, t) { var n = e.length; e.push(t); e: for (; 0 < n;) { var r = n - 1 >>> 1, i = e[r]; if (!(0 < o(i, t))) break e; e[r] = t, e[n] = i, n = r } } function r(e) { return 0 === e.length ? null : e[0] } function i(e) { if (0 === e.length) return null; var t = e[0], n = e.pop(); if (n !== t) { e[0] = n; e: for (var r = 0, i = e.length, a = i >>> 1; r < a;) { var s = 2 * (r + 1) - 1, l = e[s], c = s + 1, u = e[c]; if (0 > o(l, n)) c < i && 0 > o(u, l) ? (e[r] = u, e[c] = n, r = c) : (e[r] = l, e[s] = n, r = s); else { if (!(c < i && 0 > o(u, n))) break e; e[r] = u, e[c] = n, r = c } } } return t } function o(e, t) { var n = e.sortIndex - t.sortIndex; return 0 !== n ? n : e.id - t.id } if ("object" === typeof performance && "function" === typeof performance.now) { var a = performance; t.unstable_now = function () { return a.now() } } else { var s = Date, l = s.now(); t.unstable_now = function () { return s.now() - l } } var c = [], u = [], h = 1, f = null, d = 3, p = !1, g = !1, v = !1, m = "function" === typeof setTimeout ? setTimeout : null, b = "function" === typeof clearTimeout ? clearTimeout : null, y = "undefined" !== typeof setImmediate ? setImmediate : null; function x(e) { for (var t = r(u); null !== t;) { if (null === t.callback) i(u); else { if (!(t.startTime <= e)) break; i(u), t.sortIndex = t.expirationTime, n(c, t) } t = r(u) } } function w(e) { if (v = !1, x(e), !g) if (null !== r(c)) g = !0, D(_); else { var t = r(u); null !== t && I(w, t.startTime - e) } } function _(e, n) { g = !1, v && (v = !1, b(k), k = -1), p = !0; var o = d; try { for (x(n), f = r(c); null !== f && (!(f.expirationTime > n) || e && !T());) { var a = f.callback; if ("function" === typeof a) { f.callback = null, d = f.priorityLevel; var s = a(f.expirationTime <= n); n = t.unstable_now(), "function" === typeof s ? f.callback = s : f === r(c) && i(c), x(n) } else i(c); f = r(c) } if (null !== f) var l = !0; else { var h = r(u); null !== h && I(w, h.startTime - n), l = !1 } return l } finally { f = null, d = o, p = !1 } } "undefined" !== typeof navigator && void 0 !== navigator.scheduling && void 0 !== navigator.scheduling.isInputPending && navigator.scheduling.isInputPending.bind(navigator.scheduling); var S, C = !1, O = null, k = -1, j = 5, E = -1; function T() { return !(t.unstable_now() - E < j) } function P() { if (null !== O) { var e = t.unstable_now(); E = e; var n = !0; try { n = O(!0, e) } finally { n ? S() : (C = !1, O = null) } } else C = !1 } if ("function" === typeof y) S = function () { y(P) }; else if ("undefined" !== typeof MessageChannel) { var A = new MessageChannel, M = A.port2; A.port1.onmessage = P, S = function () { M.postMessage(null) } } else S = function () { m(P, 0) }; function D(e) { O = e, C || (C = !0, S()) } function I(e, n) { k = m((function () { e(t.unstable_now()) }), n) } t.unstable_IdlePriority = 5, t.unstable_ImmediatePriority = 1, t.unstable_LowPriority = 4, t.unstable_NormalPriority = 3, t.unstable_Profiling = null, t.unstable_UserBlockingPriority = 2, t.unstable_cancelCallback = function (e) { e.callback = null }, t.unstable_continueExecution = function () { g || p || (g = !0, D(_)) }, t.unstable_forceFrameRate = function (e) { 0 > e || 125 < e ? console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported") : j = 0 < e ? Math.floor(1e3 / e) : 5 }, t.unstable_getCurrentPriorityLevel = function () { return d }, t.unstable_getFirstCallbackNode = function () { return r(c) }, t.unstable_next = function (e) { switch (d) { case 1: case 2: case 3: var t = 3; break; default: t = d }var n = d; d = t; try { return e() } finally { d = n } }, t.unstable_pauseExecution = function () { }, t.unstable_requestPaint = function () { }, t.unstable_runWithPriority = function (e, t) { switch (e) { case 1: case 2: case 3: case 4: case 5: break; default: e = 3 }var n = d; d = e; try { return t() } finally { d = n } }, t.unstable_scheduleCallback = function (e, i, o) { var a = t.unstable_now(); switch ("object" === typeof o && null !== o ? o = "number" === typeof (o = o.delay) && 0 < o ? a + o : a : o = a, e) { case 1: var s = -1; break; case 2: s = 250; break; case 5: s = 1073741823; break; case 4: s = 1e4; break; default: s = 5e3 }return e = { id: h++, callback: i, priorityLevel: e, startTime: o, expirationTime: s = o + s, sortIndex: -1 }, o > a ? (e.sortIndex = o, n(u, e), null === r(c) && e === r(u) && (v ? (b(k), k = -1) : v = !0, I(w, o - a))) : (e.sortIndex = s, n(c, e), g || p || (g = !0, D(_))), e }, t.unstable_shouldYield = T, t.unstable_wrapCallback = function (e) { var t = d; return function () { var n = d; d = t; try { return e.apply(this, arguments) } finally { d = n } } } }, 5296: function (e, t, n) { "use strict"; e.exports = n(6813) }, 4960: function () { }, 6759: function () { }, 6272: function () { } }, t = {}; function n(r) { var i = t[r]; if (void 0 !== i) return i.exports; var o = t[r] = { id: r, loaded: !1, exports: {} }; return e[r](o, o.exports, n), o.loaded = !0, o.exports } n.n = function (e) { var t = e && e.__esModule ? function () { return e.default } : function () { return e }; return n.d(t, { a: t }), t }, n.d = function (e, t) { for (var r in t) n.o(t, r) && !n.o(e, r) && Object.defineProperty(e, r, { enumerable: !0, get: t[r] }) }, n.g = function () { if ("object" === typeof globalThis) return globalThis; try { return this || new Function("return this")() } catch (e) { if ("object" === typeof window) return window } }(), n.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, n.nmd = function (e) { return e.paths = [], e.children || (e.children = []), e }, n.p = "/editor/", function () { "use strict"; var e = n(2791), t = n(1250); function r(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = new Array(t); n < t; n++)r[n] = e[n]; return r } function i(e, t) { if (e) { if ("string" === typeof e) return r(e, t); var n = Object.prototype.toString.call(e).slice(8, -1); return "Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? r(e, t) : void 0 } } function o(e) { return function (e) { if (Array.isArray(e)) return r(e) }(e) || function (e) { if ("undefined" !== typeof Symbol && null != e[Symbol.iterator] || null != e["@@iterator"]) return Array.from(e) }(e) || i(e) || function () { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function a(e, t) { return function (e) { if (Array.isArray(e)) return e }(e) || function (e, t) { var n = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (null != n) { var r, i, o, a, s = [], l = !0, c = !1; try { if (o = (n = n.call(e)).next, 0 === t) { if (Object(n) !== n) return; l = !1 } else for (; !(l = (r = o.call(n)).done) && (s.push(r.value), s.length !== t); l = !0); } catch (u) { c = !0, i = u } finally { try { if (!l && null != n.return && (a = n.return(), Object(a) !== a)) return } finally { if (c) throw i } } return s } }(e, t) || i(e, t) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } var s = n(184), l = function (e) { var t = e.notification, n = e.setNotification; if (!t.message) return null; var r = t.type || "info"; return t.seconds && setTimeout((function () { n({ message: null, type: null, seconds: null }) }), 1e3 * t.seconds), (0, s.jsx)("div", { className: "notification " + r, children: t.message }) }, c = function (e) { return (0, s.jsxs)("header", { children: [(0, s.jsx)("img", { src: e.logo, alt: "logo" }), (0, s.jsx)("div", { className: "menu", children: e.children })] }) }, u = function (e) { return (0, s.jsx)("button", { onClick: e.handleClick, title: e.title, className: e.className, children: e.children }) }, h = function (t) { var n = (0, e.useRef)(null); (0, e.useEffect)((function () { if (t.setVisible) { var e = function (e) { t.visible && n.current && !n.current.contains(e.target) && "download" !== e.target.className && t.setVisible(!1) }; return document.addEventListener("click", e, !1), function () { document.removeEventListener("click", e, !1) } } }), [t]); var r = { display: t.visible ? "block" : "none" }; return (0, s.jsx)("div", { className: "floating-menu", ref: n, style: r, children: t.children }) }, f = function (e) { return (0, s.jsx)("div", { className: e.className, onClick: e.handleClick, children: e.children }) }, d = function (t) { var n = e.Children.map(t.children, (function (n) { return t.activeTool === n.props.name ? e.cloneElement(n, { className: n.props.className + " active" }) : e.cloneElement(n) })); return (0, s.jsx)("div", { className: "toolbar", children: n }) }, p = n(3050), g = JSON.parse('{"SVG Editor":"SVG Editor","We found a project saved in this browser! Do you want to load it?":"We found a project saved in this browser! Do you want to load it?","Are you sure you want to leave?":"Are you sure you want to leave?","Undo":"Undo","Save (to browser)":"Save (to browser)","Project is saved in this browser!":"Project is saved in this browser!","Download as..":"Download as..","Close and open new":"Close and open new","This will clear the canvas! Are you sure?":"This will clear the canvas! Are you sure?","Download as SVG":"Download as SVG","Download as PNG":"Download as PNG","Download as JPG":"Download as JPG","Select/move object (V)":"Select/move object (V)","Shapes":"Shapes","Line":"Line","Connectable lines & curves":"Connectable lines & curves","Free draw":"Free draw","Text box":"Text box","Upload image":"Upload image","Canvas options":"Canvas options","CANVAS SETTINGS":"CANVAS SETTINGS","Canvas size":"Canvas size","Width":"Width","Height":"Height","Keep aspect ratio":"Keep aspect ratio","Fit to content":"Fit to content","Color fill":"Color fill","Gradient fill":"Gradient fill","SHAPES":"SHAPES","FREE DRAW":"FREE DRAW","Brush width":"Brush width","Brush style":"Brush style","Pencil":"Pencil","Circle":"Circle","Spray":"Spray","Brush color":"Brush color","Tip:":"Tip:","you can select and style each line you drew. Use <b>Shift + Click</b> to select multiple lines and group them into one object.":"you can select and style each line you drew. Use <b>Shift + Click</b> to select multiple lines and group them into one object.","Tip: hold Shift key for 15\xb0 angle jumps!":"Tip: hold Shift key for 15\xb0 angle jumps!","Drag up or down to remove":"Drag up or down to remove","Orientation":"Orientation","Linear":"Linear","Radial":"Radial","Angle":"Angle","Align left":"Align left","Align center horizontally":"Align center horizontally","Align right":"Align right","Align top":"Align top","Align center vertically":"Align center vertically","Align bottom":"Align bottom","Corner type":"Corner type","Square":"Square","Round":"Round","Color":"Color","Opacity":"Opacity","Blur":"Blur","Brightness":"Brightness","Saturation":"Saturation","Gamma":"Gamma","Red":"Red","Green":"Green","Blue":"Blue","Flip horizontally":"Flip horizontally","Flip vertically":"Flip vertically","Bring object forwards":"Bring object forwards","Bring object backwards":"Bring object backwards","Duplicate":"Duplicate","Remove":"Remove","Group selected objects":"Group selected objects","Ungroup selected objects":"Ungroup selected objects","SELECTION SETTINGS":"SELECTION SETTINGS","Font style":"Font style","Border":"Border","Alignment":"Alignment","Object options":"Object options","Effects":"Effects","Bold":"Bold","Italic":"Italic","Underline":"Underline","Linethrough":"Linethrough","Subscript":"Subscript","Superscript":"Superscript","Font family":"Font family","Font size":"Font size","Line height":"Line height","Letter spacing":"Letter spacing","Text alignment":"Text alignment","Left":"Left","Center":"Center","Right":"Right","Justify":"Justify","Your browser doesn\'t support file upload. Please upgrade to a modern browser, for example:":"Your browser doesn\'t support file upload. Please upgrade to a modern browser, for example:","UPLOAD IMAGE":"UPLOAD IMAGE","File upload happens via HTML5 File API, so we don\'t use the server to store user images. You can also copy paste an image from the clipboard!":"File upload happens via HTML5 File API, so we don\'t use the server to store user images. You can also copy paste an image from the clipboard!","Drag & drop files":"Drag & drop files","or click to browse.":"or click to browse.","JPG, PNG or SVG only!":"JPG, PNG or SVG only!","Your browser is out of date!":"Your browser is out of date!","Please update to a modern browser, for example:":"Please update to a modern browser, for example:","Tip: use arrows to move a selected object by 1 pixel!":"Tip: use arrows to move a selected object by 1 pixel!","Tip: Shift + Click to select and modify multiple objects!":"Tip: Shift + Click to select and modify multiple objects!","Tip: hold Shift when rotating an object for 15\xb0 angle jumps!":"Tip: hold Shift when rotating an object for 15\xb0 angle jumps!","Tip: hold Shift when drawing a line for 15\xb0 angle jumps!":"Tip: hold Shift when drawing a line for 15\xb0 angle jumps!","Tip: click to place points, press and pull for curves! Click outside or press Esc to cancel!":"Tip: click to place points, press and pull for curves! Click outside or press Esc to cancel!","Browser storage is not supported in this browser!":"Browser storage is not supported in this browser!","Your text goes here...":"Your text goes here..."}'), v = function (e) { return g && g[e] ? g[e] : e }, m = function (e, t) { document.addEventListener("copy", (function (t) { if (e.getActiveObject()) return e.getActiveObject().isEditing ? (t.preventDefault(), void t.clipboardData.setData("text/plain", e.getActiveObject().getSelectedText())) : "image" === e.getActiveObject().type ? (t.preventDefault(), void t.clipboardData.setData("text/plain", e.getActiveObject().toDataURL())) : "image" !== e.getActiveObject().type ? (t.preventDefault(), void e.getActiveObject().clone((function (e) { t.clipboardData.setData("text/plain", JSON.stringify(e.toJSON())) }))) : void 0 })); document.addEventListener("paste", (function (n) { var r = n.clipboardData.getData("text"); if (r && function (e) { try { return e = e.split("base64,").pop(), window.atob(e), !0 } catch (n) { return !1 } }(r)) t.Image.fromURL(r, (function (t) { t.set({ left: 0, top: 0 }), t.scaleToHeight(100), t.scaleToWidth(100), e.add(t), e.setActiveObject(t), e.trigger("object:modified") })); else { if (n.clipboardData.items.length > 0) for (var i = 0; i < n.clipboardData.items.length; i++)if (0 === n.clipboardData.items[i].type.indexOf("image")) { var o = n.clipboardData.items[i].getAsFile(); if (null !== o) { var a = new FileReader; a.onload = function (n) { t.Image.fromURL(n.target.result, (function (t) { t.set({ left: 0, top: 0 }), t.scaleToHeight(100), t.scaleToWidth(100), e.add(t), e.setActiveObject(t), e.trigger("object:modified") })) }, a.readAsDataURL(o) } } if (function (e) { try { var t = JSON.parse(e); return !!t && "object" === typeof t && !Array.isArray(t) } catch (n) { return !1 } }(r)) { var s = JSON.parse(r); if (!["rect", "circle", "line", "path", "polygon", "polyline", "textbox", "group"].includes(s.type)) return; t.util.enlivenObjects([s], (function (t) { t.forEach((function (t) { "textbox" === t.type && t.set({ uId: Date.now() + Math.random() }), t.set({ left: 0, top: 0 }), e.add(t), t.setCoords(), e.setActiveObject(t) })), e.renderAll(), e.trigger("object:modified") })) } } })) }, b = function (e, t) { var n, r, i, o = !1; e.on("mouse:down", (function (a) { e.isDrawingLineMode && (o = !0, r = e.getPointer(a.e), i = [r.x, r.y, r.x, r.y], (n = new t.Line(i, { strokeWidth: 2, stroke: "#000000" })).selectable = !1, n.evented = !1, n.strokeUniform = !0, e.add(n)) })), e.on("mouse:move", (function (t) { if (o) { if (r = e.getPointer(t.e), t.e.shiftKey) { var a = i[0], s = i[1], l = r.x - a, c = r.y - s, u = Math.sqrt(l * l + c * c), h = Math.atan2(c, l) / Math.PI * 180; h = 15 * parseInt((h + 7.5) % 360 / 15); var f = u * Math.cos(h * Math.PI / 180), d = u * Math.sin(h * Math.PI / 180); n.set({ x2: f + a, y2: d + s }) } else n.set({ x2: r.x, y2: r.y }); e.renderAll() } })), e.on("mouse:up", (function () { o && (n.setCoords(), o = !1, e.trigger("object:modified")) })) }; function y(e, t) { var n = "undefined" !== typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (!n) { if (Array.isArray(e) || (n = i(e)) || t && e && "number" === typeof e.length) { n && (e = n); var r = 0, o = function () { }; return { s: o, n: function () { return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] } }, e: function (e) { throw e }, f: o } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var a, s = !0, l = !1; return { s: function () { n = n.call(e) }, n: function () { var e = n.next(); return s = e.done, e }, e: function (e) { l = !0, a = e }, f: function () { try { s || null == n.return || n.return() } finally { if (l) throw a } } } } var x, w = function (e, t, n, r, i) { return Math.abs(t - r) <= e && Math.abs(n - i) <= e }, _ = function (e, t) { var n, r, i, a, s, l = !1, c = !1, u = !1; e.on("mouse:down", (function (i) { if (e.isDrawingPathMode) { if (c = !0, l = !0, r = e.getPointer(i.e), !n) return (n = new t.Path("M".concat(r.x, " ").concat(r.y, " L").concat(r.x, " ").concat(r.y), { strokeWidth: 2, stroke: "#000000", fill: !1 })).selectable = !1, n.evented = !1, n.strokeUniform = !0, void e.add(n); if (n) { n.path.push(["L", r.x, r.y]); var o = n._calcDimensions(); return n.set({ width: o.width, height: o.height, left: o.left, top: o.top, pathOffset: { x: o.width / 2 + o.left, y: o.height / 2 + o.top }, dirty: !0 }), n.setCoords(), void e.renderAll() } } })), e.on("mouse:move", (function (t) { if (e.isDrawingPathMode && l) { if (r = e.getPointer(t.e), u || (i = ["L", r.x, r.y]), n.path.pop(), t.e.shiftKey && !u) { var h = o(n.path).pop(), f = h[1], d = h[2], p = r.x - f, g = r.y - d, v = Math.sqrt(p * p + g * g), m = Math.atan2(g, p) / Math.PI * 180; m = 15 * parseInt((m + 7.5) % 360 / 15); var b = v * Math.cos(m * Math.PI / 180), x = v * Math.sin(m * Math.PI / 180); i[1] = b + f, i[2] = x + d } if (n.path.length > 1 && !u) { var _ = o(n.path); _.pop(); var S, C = y(_); try { for (C.s(); !(S = C.n()).done;) { var O = S.value; if (("L" === O[0] || "M" === O[0]) && w(10, r.x, r.y, O[1], O[2])) { i[1] = O[1], i[2] = O[2]; break } if ("Q" === O[0] && w(10, r.x, r.y, O[3], O[4])) { i[1] = O[3], i[2] = O[4]; break } } } catch (P) { C.e(P) } finally { C.f() } } if (c) if (!u && n.path.length > 1) { u = !0; var k = n.path.pop(); "Q" === k[0] ? (i = ["Q", k[3], k[4], k[3], k[4]], a = k[3], s = k[4]) : (i = ["Q", k[1], k[2], k[1], k[2]], a = k[1], s = k[2]) } else if (u) { var j = r.x - i[3], E = r.y - i[4]; i = ["Q", a - j, s - E, a, s] } n.path.push(i); var T = n._calcDimensions(); n.set({ width: T.width, height: T.height, left: T.left, top: T.top, pathOffset: { x: T.width / 2 + T.left, y: T.height / 2 + T.top }, dirty: !0 }), e.renderAll() } })), e.on("mouse:up", (function (t) { if (!e.isDrawingPathMode) return c = !1, void (u = !1); if (c = !1, u) { r = e.getPointer(t.e), n.path.push(["L", r.x, r.y]); var i = n._calcDimensions(); n.set({ width: i.width, height: i.height, left: i.left, top: i.top, pathOffset: { x: i.width / 2 + i.left, y: i.height / 2 + i.top }, dirty: !0 }), n.setCoords(), e.renderAll() } u = !1 })); var h = function () { if (n.path.pop(), n.path.length > 1) { var t = n._calcDimensions(); n.set({ width: t.width, height: t.height, left: t.left, top: t.top, pathOffset: { x: t.width / 2 + t.left, y: t.height / 2 + t.top }, dirty: !0 }) } else e.remove(n); e.renderAll(), e.trigger("object:modified"), n = null, l = !1 }; document.addEventListener("keydown", (function (e) { l && (27 === (e.which || e.keyCode) && h()) })), document.addEventListener("mousedown", (function (e) { l && (document.querySelector(".canvas-container").contains(e.target) || h()) })) }, S = function (e, t) { var n, r, i, o, a = !1; e.on("mouse:down", (function (s) { e.isDrawingTextMode && (a = !0, o = e.getPointer(s.e), r = o.x, i = o.y, n = new t.Rect({ left: r, top: i, width: o.x - r, height: o.y - i, strokeWidth: 1, stroke: "#C00000", fill: "rgba(192, 0, 0, 0.2)", transparentCorners: !1 }), e.add(n)) })), e.on("mouse:move", (function (t) { a && (o = e.getPointer(t.e), r > o.x && n.set({ left: Math.abs(o.x) }), i > o.y && n.set({ top: Math.abs(o.y) }), n.set({ width: Math.abs(r - o.x) }), n.set({ height: Math.abs(i - o.y) }), e.renderAll()) })), e.on("mouse:up", (function () { if (a) { a = !1; var r = new t.Textbox(v("Your text goes here..."), { left: n.left, top: n.top, width: n.width < 80 ? 80 : n.width, fontSize: 18, fontFamily: "'Open Sans', sans-serif", uId: Date.now() + Math.random() }); e.remove(n), e.add(r).setActiveObject(r), r.setControlsVisibility({ mb: !1 }), e.trigger("object:modified") } })) }, C = function (e, t) { var n = new t.Textbox("Lorem ipsum dolor sit amet", { left: 450, top: 220, width: 130, fontSize: 20, fontFamily: "'Open Sans', sans-serif" }); n.setSelectionStyles({ fontWeight: "bold", fontStyle: "italic" }, 6, 11), n.setSelectionStyles({ fontFamily: "Impact", fill: "red" }, 18, 21), n.setControlsVisibility({ mb: !1 }), e.add(n); var r = new t.Rect({ left: 180, top: 50, width: 90, height: 50 }); r.setGradient("fill", { type: "linear", x1: 0, y1: 0, x2: r.width, y2: 0, colorStops: { 0: "red", 1: "orange" } }), e.add(r); var i = new t.Circle({ left: 440, top: 300, radius: 65 }); i.setGradient("fill", { type: "linear", x1: 0, y1: 0, x2: i.width, y2: i.height, colorStops: { 0: "#D150FF", 1: "rgba(0,0,255,1)" } }), e.add(i), t.Image.fromURL("https://placekitten.com/110/150", (function (t) { t.set({ left: 350, top: 25 }), e.add(t) }), { crossOrigin: "Anonymous" }); var o = new t.Polyline([{ x: 10, y: 10 }, { x: 50, y: 30 }, { x: 40, y: 70 }, { x: 60, y: 50 }, { x: 100, y: 150 }, { x: 40, y: 100 }], { stroke: "red", left: 100, top: 100 }); e.add(o), t.loadSVGFromURL("test.svg", (function (n) { var r = t.util.groupSVGElements(n); r.set({ left: 230, top: 190 }), e.add(r).renderAll() })); var a = new t.Path("M 0 0 L 200 100 L 170 200 z"); a.set({ left: 120, top: 320, fill: "rgba(0, 128, 0, 0.5)", stroke: "#000", strokeWidth: 4, strokeLineCap: "square", strokeDashArray: [15, 15] }), e.add(a) }, O = function (t) { return (0, e.useEffect)((function () { if (!t.canvas) { var e = new p.fabric.Canvas("c").setDimensions({ width: 640, height: 480 }); e.originalW = e.width, e.originalH = e.height, p.fabric.Object.prototype.transparentCorners = !1, p.fabric.Object.prototype.cornerStyle = "circle", p.fabric.Object.prototype.borderColor = "#C00000", p.fabric.Object.prototype.cornerColor = "#C00000", p.fabric.Object.prototype.cornerStrokeColor = "#FFF", p.fabric.Object.prototype.padding = 0, e.on("selection:created", (function (e) { return t.setActiveSelection(e.target) })), e.on("selection:updated", (function (e) { return t.setActiveSelection(e.target) })), e.on("selection:cleared", (function (e) { return t.setActiveSelection(null) })), e.on("object:rotating", (function (e) { e.e.shiftKey ? e.target.snapAngle = 15 : e.target.snapAngle = !1 })), e.on("object:scaling", (function (e) { var n = e.target; t.setSelectionInfo("".concat(v("width"), ": ").concat(Math.round(n.getScaledWidth()), "px |\n       ").concat(v("height"), ": ").concat(Math.round(n.getScaledHeight()), "px")) })), e.on("object:scaled", (function (e) { return t.setSelectionInfo(null) })), e.on("object:rotating", (function (e) { return t.setSelectionInfo(v("Tip: hold Shift key for 15\xb0 angle jumps!")) })), e.on("object:rotated ", (function (e) { return t.setSelectionInfo(null) })), e.on("object:moving", (function (e) { var t = e.target; if (!(t.currentHeight > t.canvas.height || t.currentWidth > t.canvas.width)) { var n = t.getBoundingRect().width - 20, r = t.getBoundingRect().height - 20; t.setCoords(), (t.getBoundingRect().top < -r || t.getBoundingRect().left < -n) && (t.top = Math.max(t.top, t.top - (t.getBoundingRect().top + r)), t.left = Math.max(t.left, t.left - (t.getBoundingRect().left + n))), (t.getBoundingRect().top + t.getBoundingRect().height > t.canvas.height + r || t.getBoundingRect().left + t.getBoundingRect().width > t.canvas.width + n) && (t.top = Math.min(t.top, t.canvas.height - t.getBoundingRect().height + t.top - t.getBoundingRect().top + r), t.left = Math.min(t.left, t.canvas.width - t.getBoundingRect().width + t.left - t.getBoundingRect().left + n)) } })), document.addEventListener("keydown", (function (t) { var n, r = t.which || t.keyCode; document.querySelectorAll("textarea:focus, input:focus").length > 0 || (37 !== r && 38 !== r && 39 !== r && 40 !== r || (t.preventDefault(), n = e.getActiveObject())) && (37 === r ? n.left -= 1 : 39 === r ? n.left += 1 : 38 === r ? n.top -= 1 : 40 === r && (n.top += 1), 37 !== r && 38 !== r && 39 !== r && 40 !== r || (n.setCoords(), e.renderAll(), e.trigger("object:modified"))) })); var n = function (t) { "app" === t.target.id && e.discardActiveObject().requestRenderAll() }; document.addEventListener("mousedown", n), document.addEventListener("touchstart", n), m(e, p.fabric), document.addEventListener("keydown", (function (t) { 46 === (t.which || t.keyCode) && 0 === document.querySelectorAll("textarea:focus, input:focus").length && (e.getActiveObjects().forEach((function (t) { e.remove(t) })), e.discardActiveObject().requestRenderAll(), e.trigger("object:modified")) })), b(e, p.fabric), _(e, p.fabric), S(e, p.fabric), e.on("text:editing:entered", (function () { return t.setIsTextEditing(!0) })), e.on("text:editing:exited", (function () { return t.setIsTextEditing(!1) })), C(e, p.fabric), setTimeout((function () { var n = []; n.push(e.toJSON()), t.setHistory({ index: 0, states: n }) }), 800), t.setCanvas(e) } }), [t]), (0, s.jsxs)("div", { className: "canvas-holder", children: [(0, s.jsx)("canvas", { id: "c" }), t.canvas && (0, s.jsx)("div", { className: "canvas-info", children: t.selectionInfo })] }) }, k = function (t) { var n = a((0, e.useState)(!1), 2), r = n[0], i = n[1], o = "toolpanel"; return o += t.visible ? " visible" : "", o += r ? " minimized" : "", (0, s.jsxs)("div", { className: o, children: [(0, s.jsx)("div", { className: "minimizer", onClick: function () { return i(!r) } }), (0, s.jsx)("div", { className: "holder sbar", children: t.children })] }) }; function j(e) { return j = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, j(e) } function E(e) { var t = function (e, t) { if ("object" !== j(e) || null === e) return e; var n = e[Symbol.toPrimitive]; if (void 0 !== n) { var r = n.call(e, t || "default"); if ("object" !== j(r)) return r; throw new TypeError("@@toPrimitive must return a primitive value.") } return ("string" === t ? String : Number)(e) }(e, "string"); return "symbol" === j(t) ? t : String(t) } function T(e, t, n) { return (t = E(t)) in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } function P(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function A(e) { for (var t = 1; t < arguments.length; t++) { var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? P(Object(n), !0).forEach((function (t) { T(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : P(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } var M = function (e, t) { clearTimeout(x), x = setTimeout((function () { t() }), e) }, D = function (e, t, n, r) { var i = e; if ("percentage" !== r) { var o = t / 100, a = n / 100; i = { x1: e.x1 / o / 100, y1: e.y1 / a / 100, x2: e.x2 / o / 100, y2: e.y2 / a / 100 } } var s = i.x2 - i.x1, l = i.y2 - i.y1, c = Math.atan2(l, s); return (Math.round(c * (180 / Math.PI)) + 90 + 360) % 360 }, I = function (e, t, n, r) { var i = e.colorStops.map((function (e, t) { var n = new r.Color(e.color), i = e.opacity || n._source[3] || 1; return { offset: e.offset, color: "rgba(".concat(n._source[0], ", ").concat(n._source[1], ", ").concat(n._source[2], ", ").concat(i, ")"), id: t } })); return i.sort((function (e, t) { return e.offset - t.offset })), { type: e.type, angle: D(e.coords, t, n, e.gradientUnits), colorStops: i } }, L = function (e, t, n, r) { var i; if ("linear" === e.type) { var o = function (e) { var t = -parseInt(e, 10) * (Math.PI / 180); return { x1: Math.round(50 + 50 * Math.sin(t)) / 100, y1: Math.round(50 + 50 * Math.cos(t)) / 100, x2: Math.round(50 + 50 * Math.sin(t + Math.PI)) / 100, y2: Math.round(50 + 50 * Math.cos(t + Math.PI)) / 100 } }(e.angle); i = new r.Gradient({ type: "linear", coords: { x1: o.x1 * t, y1: o.y1 * n, x2: o.x2 * t, y2: o.y2 * n }, colorStops: e.colorStops }) } return "radial" === e.type && (i = new r.Gradient({ type: "radial", coords: { x1: t / 2, y1: n / 2, r1: 0, x2: t / 2, y2: n / 2, r2: t / 2 }, colorStops: e.colorStops })), i }, F = function (t) { var n = a((0, e.useState)(t.defaultTab || null), 2), r = n[0], i = n[1]; (0, e.useEffect)((function () { i(t.defaultTab) }), [t.defaultTab]); return (0, s.jsxs)("div", { className: "tabs", children: [(0, s.jsx)("div", { className: "tablist", children: function () { var n, o, a = []; return t.children.forEach((function (e, t) { var n = r === e.props.name || !r && 0 === t ? "button active" : "button"; a.push((0, s.jsx)("div", { className: n, onClick: function () { return i(e.props.name) }, children: e.props.title })) })), n = a, o = (0, s.jsx)("div", { className: "sep", children: "|" }), n.length > 0 ? n.reduce((function (t, n) { return (0, s.jsxs)(e.Fragment, { children: [t, o, n] }) })) : null }() }), function () { var e = []; return t.children.forEach((function (t, n) { var i = r === t.props.name ? "tab active" : "tab"; e.push((0, s.jsx)("div", { className: i, children: t.props.children }, n)) })), e }()] }) }, R = function (e) { return (0, s.jsx)("div", { className: "tab", children: e.children }) }, B = n(4093), N = function (e, t, n, r, i) { var o = i.clientWidth, a = i.clientHeight, s = "number" === typeof e.pageX ? e.pageX : e.touches[0].pageX, l = "number" === typeof e.pageY ? e.pageY : e.touches[0].pageY, c = s - (i.getBoundingClientRect().left + window.pageXOffset), u = l - (i.getBoundingClientRect().top + window.pageYOffset); if ("vertical" === n) { var h = void 0; if (h = u < 0 ? 0 : u > a ? 1 : Math.round(100 * u / a) / 100, t.a !== h) return { h: t.h, s: t.s, l: t.l, a: h, source: "rgb" } } else { var f = void 0; if (r !== (f = c < 0 ? 0 : c > o ? 1 : Math.round(100 * c / o) / 100)) return { h: t.h, s: t.s, l: t.l, a: f, source: "rgb" } } return null }, z = {}, W = function (e, t, n, r) { var i = e + "-" + t + "-" + n + (r ? "-server" : ""); if (z[i]) return z[i]; var o = function (e, t, n, r) { if ("undefined" === typeof document && !r) return null; var i = r ? new r : document.createElement("canvas"); i.width = 2 * n, i.height = 2 * n; var o = i.getContext("2d"); return o ? (o.fillStyle = e, o.fillRect(0, 0, i.width, i.height), o.fillStyle = t, o.fillRect(0, 0, n, n), o.translate(n, n), o.fillRect(0, 0, n, n), i.toDataURL()) : null }(e, t, n, r); return z[i] = o, o }, H = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, U = function (t) { var n = t.white, r = t.grey, i = t.size, o = t.renderers, a = t.borderRadius, s = t.boxShadow, l = t.children, c = (0, B.ZP)({ default: { grid: { borderRadius: a, boxShadow: s, absolute: "0px 0px 0px 0px", background: "url(" + W(n, r, i, o.canvas) + ") center left" } } }); return (0, e.isValidElement)(l) ? e.cloneElement(l, H({}, l.props, { style: H({}, l.props.style, c.grid) })) : e.createElement("div", { style: c.grid }) }; U.defaultProps = { size: 8, white: "transparent", grey: "rgba(0,0,0,.08)", renderers: {} }; var X = U, V = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, G = function () { function e(e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } } return function (t, n, r) { return n && e(t.prototype, n), r && e(t, r), t } }(); function Y(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" !== typeof t && "function" !== typeof t ? e : t } var q = function (t) { function n() { var e, t, r; !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, n); for (var i = arguments.length, o = Array(i), a = 0; a < i; a++)o[a] = arguments[a]; return t = r = Y(this, (e = n.__proto__ || Object.getPrototypeOf(n)).call.apply(e, [this].concat(o))), r.handleChange = function (e) { var t = N(e, r.props.hsl, r.props.direction, r.props.a, r.container); t && "function" === typeof r.props.onChange && r.props.onChange(t, e) }, r.handleMouseDown = function (e) { r.handleChange(e), window.addEventListener("mousemove", r.handleChange), window.addEventListener("mouseup", r.handleMouseUp) }, r.handleMouseUp = function () { r.unbindEventListeners() }, r.unbindEventListeners = function () { window.removeEventListener("mousemove", r.handleChange), window.removeEventListener("mouseup", r.handleMouseUp) }, Y(r, t) } return function (e, t) { if ("function" !== typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(n, t), G(n, [{ key: "componentWillUnmount", value: function () { this.unbindEventListeners() } }, { key: "render", value: function () { var t = this, n = this.props.rgb, r = (0, B.ZP)({ default: { alpha: { absolute: "0px 0px 0px 0px", borderRadius: this.props.radius }, checkboard: { absolute: "0px 0px 0px 0px", overflow: "hidden", borderRadius: this.props.radius }, gradient: { absolute: "0px 0px 0px 0px", background: "linear-gradient(to right, rgba(" + n.r + "," + n.g + "," + n.b + ", 0) 0%,\n           rgba(" + n.r + "," + n.g + "," + n.b + ", 1) 100%)", boxShadow: this.props.shadow, borderRadius: this.props.radius }, container: { position: "relative", height: "100%", margin: "0 3px" }, pointer: { position: "absolute", left: 100 * n.a + "%" }, slider: { width: "4px", borderRadius: "1px", height: "8px", boxShadow: "0 0 2px rgba(0, 0, 0, .6)", background: "#fff", marginTop: "1px", transform: "translateX(-2px)" } }, vertical: { gradient: { background: "linear-gradient(to bottom, rgba(" + n.r + "," + n.g + "," + n.b + ", 0) 0%,\n           rgba(" + n.r + "," + n.g + "," + n.b + ", 1) 100%)" }, pointer: { left: 0, top: 100 * n.a + "%" } }, overwrite: V({}, this.props.style) }, { vertical: "vertical" === this.props.direction, overwrite: !0 }); return e.createElement("div", { style: r.alpha }, e.createElement("div", { style: r.checkboard }, e.createElement(X, { renderers: this.props.renderers })), e.createElement("div", { style: r.gradient }), e.createElement("div", { style: r.container, ref: function (e) { return t.container = e }, onMouseDown: this.handleMouseDown, onTouchMove: this.handleChange, onTouchStart: this.handleChange }, e.createElement("div", { style: r.pointer }, this.props.pointer ? e.createElement(this.props.pointer, this.props) : e.createElement("div", { style: r.slider })))) } }]), n }(e.PureComponent || e.Component), K = q, $ = function () { function e(e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } } return function (t, n, r) { return n && e(t.prototype, n), r && e(t, r), t } }(); var Z = 38, Q = [Z, 40], J = function (e) { return Q.indexOf(e) > -1 }, ee = function (e) { return Number(String(e).replace(/%/g, "")) }, te = 1, ne = function (t) { function n(e) { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, n); var t = function (e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" !== typeof t && "function" !== typeof t ? e : t }(this, (n.__proto__ || Object.getPrototypeOf(n)).call(this)); return t.handleBlur = function () { t.state.blurValue && t.setState({ value: t.state.blurValue, blurValue: null }) }, t.handleChange = function (e) { t.setUpdatedValue(e.target.value, e) }, t.handleKeyDown = function (e) { var n = ee(e.target.value); if (!isNaN(n) && J(e.keyCode)) { var r = t.getArrowOffset(), i = e.keyCode === Z ? n + r : n - r; t.setUpdatedValue(i, e) } }, t.handleDrag = function (e) { if (t.props.dragLabel) { var n = Math.round(t.props.value + e.movementX); n >= 0 && n <= t.props.dragMax && t.props.onChange && t.props.onChange(t.getValueObjectWithLabel(n), e) } }, t.handleMouseDown = function (e) { t.props.dragLabel && (e.preventDefault(), t.handleDrag(e), window.addEventListener("mousemove", t.handleDrag), window.addEventListener("mouseup", t.handleMouseUp)) }, t.handleMouseUp = function () { t.unbindEventListeners() }, t.unbindEventListeners = function () { window.removeEventListener("mousemove", t.handleDrag), window.removeEventListener("mouseup", t.handleMouseUp) }, t.state = { value: String(e.value).toUpperCase(), blurValue: String(e.value).toUpperCase() }, t.inputId = "rc-editable-input-" + te++, t } return function (e, t) { if ("function" !== typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(n, t), $(n, [{ key: "componentDidUpdate", value: function (e, t) { this.props.value === this.state.value || e.value === this.props.value && t.value === this.state.value || (this.input === document.activeElement ? this.setState({ blurValue: String(this.props.value).toUpperCase() }) : this.setState({ value: String(this.props.value).toUpperCase(), blurValue: !this.state.blurValue && String(this.props.value).toUpperCase() })) } }, { key: "componentWillUnmount", value: function () { this.unbindEventListeners() } }, { key: "getValueObjectWithLabel", value: function (e) { return function (e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e }({}, this.props.label, e) } }, { key: "getArrowOffset", value: function () { return this.props.arrowOffset || 1 } }, { key: "setUpdatedValue", value: function (e, t) { var n = this.props.label ? this.getValueObjectWithLabel(e) : e; this.props.onChange && this.props.onChange(n, t), this.setState({ value: e }) } }, { key: "render", value: function () { var t = this, n = (0, B.ZP)({ default: { wrap: { position: "relative" } }, "user-override": { wrap: this.props.style && this.props.style.wrap ? this.props.style.wrap : {}, input: this.props.style && this.props.style.input ? this.props.style.input : {}, label: this.props.style && this.props.style.label ? this.props.style.label : {} }, "dragLabel-true": { label: { cursor: "ew-resize" } } }, { "user-override": !0 }, this.props); return e.createElement("div", { style: n.wrap }, e.createElement("input", { id: this.inputId, style: n.input, ref: function (e) { return t.input = e }, value: this.state.value, onKeyDown: this.handleKeyDown, onChange: this.handleChange, onBlur: this.handleBlur, placeholder: this.props.placeholder, spellCheck: "false" }), this.props.label && !this.props.hideLabel ? e.createElement("label", { htmlFor: this.inputId, style: n.label, onMouseDown: this.handleMouseDown }, this.props.label) : null) } }]), n }(e.PureComponent || e.Component), re = function (e, t, n, r) { var i = r.clientWidth, o = r.clientHeight, a = "number" === typeof e.pageX ? e.pageX : e.touches[0].pageX, s = "number" === typeof e.pageY ? e.pageY : e.touches[0].pageY, l = a - (r.getBoundingClientRect().left + window.pageXOffset), c = s - (r.getBoundingClientRect().top + window.pageYOffset); if ("vertical" === t) { var u = void 0; if (c < 0) u = 359; else if (c > o) u = 0; else { u = 360 * (-100 * c / o + 100) / 100 } if (n.h !== u) return { h: u, s: n.s, l: n.l, a: n.a, source: "hsl" } } else { var h = void 0; if (l < 0) h = 0; else if (l > i) h = 359; else { h = 360 * (100 * l / i) / 100 } if (n.h !== h) return { h: h, s: n.s, l: n.l, a: n.a, source: "hsl" } } return null }, ie = function () { function e(e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } } return function (t, n, r) { return n && e(t.prototype, n), r && e(t, r), t } }(); function oe(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" !== typeof t && "function" !== typeof t ? e : t } var ae = function (t) { function n() { var e, t, r; !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, n); for (var i = arguments.length, o = Array(i), a = 0; a < i; a++)o[a] = arguments[a]; return t = r = oe(this, (e = n.__proto__ || Object.getPrototypeOf(n)).call.apply(e, [this].concat(o))), r.handleChange = function (e) { var t = re(e, r.props.direction, r.props.hsl, r.container); t && "function" === typeof r.props.onChange && r.props.onChange(t, e) }, r.handleMouseDown = function (e) { r.handleChange(e), window.addEventListener("mousemove", r.handleChange), window.addEventListener("mouseup", r.handleMouseUp) }, r.handleMouseUp = function () { r.unbindEventListeners() }, oe(r, t) } return function (e, t) { if ("function" !== typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(n, t), ie(n, [{ key: "componentWillUnmount", value: function () { this.unbindEventListeners() } }, { key: "unbindEventListeners", value: function () { window.removeEventListener("mousemove", this.handleChange), window.removeEventListener("mouseup", this.handleMouseUp) } }, { key: "render", value: function () { var t = this, n = this.props.direction, r = void 0 === n ? "horizontal" : n, i = (0, B.ZP)({ default: { hue: { absolute: "0px 0px 0px 0px", borderRadius: this.props.radius, boxShadow: this.props.shadow }, container: { padding: "0 2px", position: "relative", height: "100%", borderRadius: this.props.radius }, pointer: { position: "absolute", left: 100 * this.props.hsl.h / 360 + "%" }, slider: { marginTop: "1px", width: "4px", borderRadius: "1px", height: "8px", boxShadow: "0 0 2px rgba(0, 0, 0, .6)", background: "#fff", transform: "translateX(-2px)" } }, vertical: { pointer: { left: "0px", top: -100 * this.props.hsl.h / 360 + 100 + "%" } } }, { vertical: "vertical" === r }); return e.createElement("div", { style: i.hue }, e.createElement("div", { className: "hue-" + r, style: i.container, ref: function (e) { return t.container = e }, onMouseDown: this.handleMouseDown, onTouchMove: this.handleChange, onTouchStart: this.handleChange }, e.createElement("style", null, "\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "), e.createElement("div", { style: i.pointer }, this.props.pointer ? e.createElement(this.props.pointer, this.props) : e.createElement("div", { style: i.slider })))) } }]), n }(e.PureComponent || e.Component), se = ae, le = n(2007), ce = n.n(le); var ue = function () { this.__data__ = [], this.size = 0 }; var he = function (e, t) { return e === t || e !== e && t !== t }; var fe = function (e, t) { for (var n = e.length; n--;)if (he(e[n][0], t)) return n; return -1 }, de = Array.prototype.splice; var pe = function (e) { var t = this.__data__, n = fe(t, e); return !(n < 0) && (n == t.length - 1 ? t.pop() : de.call(t, n, 1), --this.size, !0) }; var ge = function (e) { var t = this.__data__, n = fe(t, e); return n < 0 ? void 0 : t[n][1] }; var ve = function (e) { return fe(this.__data__, e) > -1 }; var me = function (e, t) { var n = this.__data__, r = fe(n, e); return r < 0 ? (++this.size, n.push([e, t])) : n[r][1] = t, this }; function be(e) { var t = -1, n = null == e ? 0 : e.length; for (this.clear(); ++t < n;) { var r = e[t]; this.set(r[0], r[1]) } } be.prototype.clear = ue, be.prototype.delete = pe, be.prototype.get = ge, be.prototype.has = ve, be.prototype.set = me; var ye = be; var xe = function () { this.__data__ = new ye, this.size = 0 }; var we = function (e) { var t = this.__data__, n = t.delete(e); return this.size = t.size, n }; var _e = function (e) { return this.__data__.get(e) }; var Se = function (e) { return this.__data__.has(e) }, Ce = "object" == typeof global && global && global.Object === Object && global, Oe = "object" == typeof self && self && self.Object === Object && self, ke = Ce || Oe || Function("return this")(), je = ke.Symbol, Ee = Object.prototype, Te = Ee.hasOwnProperty, Pe = Ee.toString, Ae = je ? je.toStringTag : void 0; var Me = function (e) { var t = Te.call(e, Ae), n = e[Ae]; try { e[Ae] = void 0; var r = !0 } catch (o) { } var i = Pe.call(e); return r && (t ? e[Ae] = n : delete e[Ae]), i }, De = Object.prototype.toString; var Ie = function (e) { return De.call(e) }, Le = "[object Null]", Fe = "[object Undefined]", Re = je ? je.toStringTag : void 0; var Be = function (e) { return null == e ? void 0 === e ? Fe : Le : Re && Re in Object(e) ? Me(e) : Ie(e) }; var Ne = function (e) { var t = typeof e; return null != e && ("object" == t || "function" == t) }, ze = "[object AsyncFunction]", We = "[object Function]", He = "[object GeneratorFunction]", Ue = "[object Proxy]"; var Xe = function (e) { if (!Ne(e)) return !1; var t = Be(e); return t == We || t == He || t == ze || t == Ue }, Ve = ke["__core-js_shared__"], Ge = function () { var e = /[^.]+$/.exec(Ve && Ve.keys && Ve.keys.IE_PROTO || ""); return e ? "Symbol(src)_1." + e : "" }(); var Ye = function (e) { return !!Ge && Ge in e }, qe = Function.prototype.toString; var Ke = function (e) { if (null != e) { try { return qe.call(e) } catch (t) { } try { return e + "" } catch (t) { } } return "" }, $e = /^\[object .+?Constructor\]$/, Ze = Function.prototype, Qe = Object.prototype, Je = Ze.toString, et = Qe.hasOwnProperty, tt = RegExp("^" + Je.call(et).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"); var nt = function (e) { return !(!Ne(e) || Ye(e)) && (Xe(e) ? tt : $e).test(Ke(e)) }; var rt = function (e, t) { return null == e ? void 0 : e[t] }; var it = function (e, t) { var n = rt(e, t); return nt(n) ? n : void 0 }, ot = it(ke, "Map"), at = it(Object, "create"); var st = function () { this.__data__ = at ? at(null) : {}, this.size = 0 }; var lt = function (e) { var t = this.has(e) && delete this.__data__[e]; return this.size -= t ? 1 : 0, t }, ct = "__lodash_hash_undefined__", ut = Object.prototype.hasOwnProperty; var ht = function (e) { var t = this.__data__; if (at) { var n = t[e]; return n === ct ? void 0 : n } return ut.call(t, e) ? t[e] : void 0 }, ft = Object.prototype.hasOwnProperty; var dt = function (e) { var t = this.__data__; return at ? void 0 !== t[e] : ft.call(t, e) }, pt = "__lodash_hash_undefined__"; var gt = function (e, t) { var n = this.__data__; return this.size += this.has(e) ? 0 : 1, n[e] = at && void 0 === t ? pt : t, this }; function vt(e) { var t = -1, n = null == e ? 0 : e.length; for (this.clear(); ++t < n;) { var r = e[t]; this.set(r[0], r[1]) } } vt.prototype.clear = st, vt.prototype.delete = lt, vt.prototype.get = ht, vt.prototype.has = dt, vt.prototype.set = gt; var mt = vt; var bt = function () { this.size = 0, this.__data__ = { hash: new mt, map: new (ot || ye), string: new mt } }; var yt = function (e) { var t = typeof e; return "string" == t || "number" == t || "symbol" == t || "boolean" == t ? "__proto__" !== e : null === e }; var xt = function (e, t) { var n = e.__data__; return yt(t) ? n["string" == typeof t ? "string" : "hash"] : n.map }; var wt = function (e) { var t = xt(this, e).delete(e); return this.size -= t ? 1 : 0, t }; var _t = function (e) { return xt(this, e).get(e) }; var St = function (e) { return xt(this, e).has(e) }; var Ct = function (e, t) { var n = xt(this, e), r = n.size; return n.set(e, t), this.size += n.size == r ? 0 : 1, this }; function Ot(e) { var t = -1, n = null == e ? 0 : e.length; for (this.clear(); ++t < n;) { var r = e[t]; this.set(r[0], r[1]) } } Ot.prototype.clear = bt, Ot.prototype.delete = wt, Ot.prototype.get = _t, Ot.prototype.has = St, Ot.prototype.set = Ct; var kt = Ot, jt = 200; var Et = function (e, t) { var n = this.__data__; if (n instanceof ye) { var r = n.__data__; if (!ot || r.length < jt - 1) return r.push([e, t]), this.size = ++n.size, this; n = this.__data__ = new kt(r) } return n.set(e, t), this.size = n.size, this }; function Tt(e) { var t = this.__data__ = new ye(e); this.size = t.size } Tt.prototype.clear = xe, Tt.prototype.delete = we, Tt.prototype.get = _e, Tt.prototype.has = Se, Tt.prototype.set = Et; var Pt = Tt, At = function () { try { var e = it(Object, "defineProperty"); return e({}, "", {}), e } catch (t) { } }(); var Mt = function (e, t, n) { "__proto__" == t && At ? At(e, t, { configurable: !0, enumerable: !0, value: n, writable: !0 }) : e[t] = n }; var Dt = function (e, t, n) { (void 0 !== n && !he(e[t], n) || void 0 === n && !(t in e)) && Mt(e, t, n) }; var It = function (e) { return function (t, n, r) { for (var i = -1, o = Object(t), a = r(t), s = a.length; s--;) { var l = a[e ? s : ++i]; if (!1 === n(o[l], l, o)) break } return t } }(), Lt = "object" == typeof exports && exports && !exports.nodeType && exports, Ft = Lt && "object" == typeof module && module && !module.nodeType && module, Rt = Ft && Ft.exports === Lt ? ke.Buffer : void 0, Bt = Rt ? Rt.allocUnsafe : void 0; var Nt = function (e, t) { if (t) return e.slice(); var n = e.length, r = Bt ? Bt(n) : new e.constructor(n); return e.copy(r), r }, zt = ke.Uint8Array; var Wt = function (e) { var t = new e.constructor(e.byteLength); return new zt(t).set(new zt(e)), t }; var Ht = function (e, t) { var n = t ? Wt(e.buffer) : e.buffer; return new e.constructor(n, e.byteOffset, e.length) }; var Ut = function (e, t) { var n = -1, r = e.length; for (t || (t = Array(r)); ++n < r;)t[n] = e[n]; return t }, Xt = Object.create, Vt = function () { function e() { } return function (t) { if (!Ne(t)) return {}; if (Xt) return Xt(t); e.prototype = t; var n = new e; return e.prototype = void 0, n } }(); var Gt = function (e, t) { return function (n) { return e(t(n)) } }, Yt = Gt(Object.getPrototypeOf, Object), qt = Object.prototype; var Kt = function (e) { var t = e && e.constructor; return e === ("function" == typeof t && t.prototype || qt) }; var $t = function (e) { return "function" != typeof e.constructor || Kt(e) ? {} : Vt(Yt(e)) }; var Zt = function (e) { return null != e && "object" == typeof e }, Qt = "[object Arguments]"; var Jt = function (e) { return Zt(e) && Be(e) == Qt }, en = Object.prototype, tn = en.hasOwnProperty, nn = en.propertyIsEnumerable, rn = Jt(function () { return arguments }()) ? Jt : function (e) { return Zt(e) && tn.call(e, "callee") && !nn.call(e, "callee") }, on = rn, an = Array.isArray, sn = 9007199254740991; var ln = function (e) { return "number" == typeof e && e > -1 && e % 1 == 0 && e <= sn }; var cn = function (e) { return null != e && ln(e.length) && !Xe(e) }; var un = function (e) { return Zt(e) && cn(e) }; var hn = function () { return !1 }, fn = "object" == typeof exports && exports && !exports.nodeType && exports, dn = fn && "object" == typeof module && module && !module.nodeType && module, pn = dn && dn.exports === fn ? ke.Buffer : void 0, gn = (pn ? pn.isBuffer : void 0) || hn, vn = "[object Object]", mn = Function.prototype, bn = Object.prototype, yn = mn.toString, xn = bn.hasOwnProperty, wn = yn.call(Object); var _n = function (e) { if (!Zt(e) || Be(e) != vn) return !1; var t = Yt(e); if (null === t) return !0; var n = xn.call(t, "constructor") && t.constructor; return "function" == typeof n && n instanceof n && yn.call(n) == wn }, Sn = {}; Sn["[object Float32Array]"] = Sn["[object Float64Array]"] = Sn["[object Int8Array]"] = Sn["[object Int16Array]"] = Sn["[object Int32Array]"] = Sn["[object Uint8Array]"] = Sn["[object Uint8ClampedArray]"] = Sn["[object Uint16Array]"] = Sn["[object Uint32Array]"] = !0, Sn["[object Arguments]"] = Sn["[object Array]"] = Sn["[object ArrayBuffer]"] = Sn["[object Boolean]"] = Sn["[object DataView]"] = Sn["[object Date]"] = Sn["[object Error]"] = Sn["[object Function]"] = Sn["[object Map]"] = Sn["[object Number]"] = Sn["[object Object]"] = Sn["[object RegExp]"] = Sn["[object Set]"] = Sn["[object String]"] = Sn["[object WeakMap]"] = !1; var Cn = function (e) { return Zt(e) && ln(e.length) && !!Sn[Be(e)] }; var On = function (e) { return function (t) { return e(t) } }, kn = "object" == typeof exports && exports && !exports.nodeType && exports, jn = kn && "object" == typeof module && module && !module.nodeType && module, En = jn && jn.exports === kn && Ce.process, Tn = function () { try { var e = jn && jn.require && jn.require("util").types; return e || En && En.binding && En.binding("util") } catch (t) { } }(), Pn = Tn && Tn.isTypedArray, An = Pn ? On(Pn) : Cn; var Mn = function (e, t) { if (("constructor" !== t || "function" !== typeof e[t]) && "__proto__" != t) return e[t] }, Dn = Object.prototype.hasOwnProperty; var In = function (e, t, n) { var r = e[t]; Dn.call(e, t) && he(r, n) && (void 0 !== n || t in e) || Mt(e, t, n) }; var Ln = function (e, t, n, r) { var i = !n; n || (n = {}); for (var o = -1, a = t.length; ++o < a;) { var s = t[o], l = r ? r(n[s], e[s], s, n, e) : void 0; void 0 === l && (l = e[s]), i ? Mt(n, s, l) : In(n, s, l) } return n }; var Fn = function (e, t) { for (var n = -1, r = Array(e); ++n < e;)r[n] = t(n); return r }, Rn = 9007199254740991, Bn = /^(?:0|[1-9]\d*)$/; var Nn = function (e, t) { var n = typeof e; return !!(t = null == t ? Rn : t) && ("number" == n || "symbol" != n && Bn.test(e)) && e > -1 && e % 1 == 0 && e < t }, zn = Object.prototype.hasOwnProperty; var Wn = function (e, t) { var n = an(e), r = !n && on(e), i = !n && !r && gn(e), o = !n && !r && !i && An(e), a = n || r || i || o, s = a ? Fn(e.length, String) : [], l = s.length; for (var c in e) !t && !zn.call(e, c) || a && ("length" == c || i && ("offset" == c || "parent" == c) || o && ("buffer" == c || "byteLength" == c || "byteOffset" == c) || Nn(c, l)) || s.push(c); return s }; var Hn = function (e) { var t = []; if (null != e) for (var n in Object(e)) t.push(n); return t }, Un = Object.prototype.hasOwnProperty; var Xn = function (e) { if (!Ne(e)) return Hn(e); var t = Kt(e), n = []; for (var r in e) ("constructor" != r || !t && Un.call(e, r)) && n.push(r); return n }; var Vn = function (e) { return cn(e) ? Wn(e, !0) : Xn(e) }; var Gn = function (e) { return Ln(e, Vn(e)) }; var Yn = function (e, t, n, r, i, o, a) { var s = Mn(e, n), l = Mn(t, n), c = a.get(l); if (c) Dt(e, n, c); else { var u = o ? o(s, l, n + "", e, t, a) : void 0, h = void 0 === u; if (h) { var f = an(l), d = !f && gn(l), p = !f && !d && An(l); u = l, f || d || p ? an(s) ? u = s : un(s) ? u = Ut(s) : d ? (h = !1, u = Nt(l, !0)) : p ? (h = !1, u = Ht(l, !0)) : u = [] : _n(l) || on(l) ? (u = s, on(s) ? u = Gn(s) : Ne(s) && !Xe(s) || (u = $t(l))) : h = !1 } h && (a.set(l, u), i(u, l, r, o, a), a.delete(l)), Dt(e, n, u) } }; var qn = function e(t, n, r, i, o) { t !== n && It(n, (function (a, s) { if (o || (o = new Pt), Ne(a)) Yn(t, n, s, r, e, i, o); else { var l = i ? i(Mn(t, s), a, s + "", t, n, o) : void 0; void 0 === l && (l = a), Dt(t, s, l) } }), Vn) }; var Kn = function (e) { return e }; var $n = function (e, t, n) { switch (n.length) { case 0: return e.call(t); case 1: return e.call(t, n[0]); case 2: return e.call(t, n[0], n[1]); case 3: return e.call(t, n[0], n[1], n[2]) }return e.apply(t, n) }, Zn = Math.max; var Qn = function (e, t, n) { return t = Zn(void 0 === t ? e.length - 1 : t, 0), function () { for (var r = arguments, i = -1, o = Zn(r.length - t, 0), a = Array(o); ++i < o;)a[i] = r[t + i]; i = -1; for (var s = Array(t + 1); ++i < t;)s[i] = r[i]; return s[t] = n(a), $n(e, this, s) } }; var Jn = function (e) { return function () { return e } }, er = At ? function (e, t) { return At(e, "toString", { configurable: !0, enumerable: !1, value: Jn(t), writable: !0 }) } : Kn, tr = 800, nr = 16, rr = Date.now; var ir = function (e) { var t = 0, n = 0; return function () { var r = rr(), i = nr - (r - n); if (n = r, i > 0) { if (++t >= tr) return arguments[0] } else t = 0; return e.apply(void 0, arguments) } }, or = ir(er); var ar = function (e, t) { return or(Qn(e, t, Kn), e + "") }; var sr = function (e, t, n) { if (!Ne(n)) return !1; var r = typeof t; return !!("number" == r ? cn(n) && Nn(t, n.length) : "string" == r && t in n) && he(n[t], e) }; var lr = function (e) { return ar((function (t, n) { var r = -1, i = n.length, o = i > 1 ? n[i - 1] : void 0, a = i > 2 ? n[2] : void 0; for (o = e.length > 3 && "function" == typeof o ? (i--, o) : void 0, a && sr(n[0], n[1], a) && (o = i < 3 ? void 0 : o, i = 1), t = Object(t); ++r < i;) { var s = n[r]; s && e(t, s, r, o) } return t })) }((function (e, t, n) { qn(e, t, n) })), cr = function (t) { var n = t.zDepth, r = t.radius, i = t.background, o = t.children, a = t.styles, s = void 0 === a ? {} : a, l = (0, B.ZP)(lr({ default: { wrap: { position: "relative", display: "inline-block" }, content: { position: "relative" }, bg: { absolute: "0px 0px 0px 0px", boxShadow: "0 " + n + "px " + 4 * n + "px rgba(0,0,0,.24)", borderRadius: r, background: i } }, "zDepth-0": { bg: { boxShadow: "none" } }, "zDepth-1": { bg: { boxShadow: "0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)" } }, "zDepth-2": { bg: { boxShadow: "0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)" } }, "zDepth-3": { bg: { boxShadow: "0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)" } }, "zDepth-4": { bg: { boxShadow: "0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)" } }, "zDepth-5": { bg: { boxShadow: "0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)" } }, square: { bg: { borderRadius: "0" } }, circle: { bg: { borderRadius: "50%" } } }, s), { "zDepth-1": 1 === n }); return e.createElement("div", { style: l.wrap }, e.createElement("div", { style: l.bg }), e.createElement("div", { style: l.content }, o)) }; cr.propTypes = { background: ce().string, zDepth: ce().oneOf([0, 1, 2, 3, 4, 5]), radius: ce().number, styles: ce().object }, cr.defaultProps = { background: "#fff", zDepth: 1, radius: 2, styles: {} }; var ur = cr, hr = function () { return ke.Date.now() }, fr = /\s/; var dr = function (e) { for (var t = e.length; t-- && fr.test(e.charAt(t));); return t }, pr = /^\s+/; var gr = function (e) { return e ? e.slice(0, dr(e) + 1).replace(pr, "") : e }, vr = "[object Symbol]"; var mr = function (e) { return "symbol" == typeof e || Zt(e) && Be(e) == vr }, br = NaN, yr = /^[-+]0x[0-9a-f]+$/i, xr = /^0b[01]+$/i, wr = /^0o[0-7]+$/i, _r = parseInt; var Sr = function (e) { if ("number" == typeof e) return e; if (mr(e)) return br; if (Ne(e)) { var t = "function" == typeof e.valueOf ? e.valueOf() : e; e = Ne(t) ? t + "" : t } if ("string" != typeof e) return 0 === e ? e : +e; e = gr(e); var n = xr.test(e); return n || wr.test(e) ? _r(e.slice(2), n ? 2 : 8) : yr.test(e) ? br : +e }, Cr = "Expected a function", Or = Math.max, kr = Math.min; var jr = function (e, t, n) { var r, i, o, a, s, l, c = 0, u = !1, h = !1, f = !0; if ("function" != typeof e) throw new TypeError(Cr); function d(t) { var n = r, o = i; return r = i = void 0, c = t, a = e.apply(o, n) } function p(e) { var n = e - l; return void 0 === l || n >= t || n < 0 || h && e - c >= o } function g() { var e = hr(); if (p(e)) return v(e); s = setTimeout(g, function (e) { var n = t - (e - l); return h ? kr(n, o - (e - c)) : n }(e)) } function v(e) { return s = void 0, f && r ? d(e) : (r = i = void 0, a) } function m() { var e = hr(), n = p(e); if (r = arguments, i = this, l = e, n) { if (void 0 === s) return function (e) { return c = e, s = setTimeout(g, t), u ? d(e) : a }(l); if (h) return clearTimeout(s), s = setTimeout(g, t), d(l) } return void 0 === s && (s = setTimeout(g, t)), a } return t = Sr(t) || 0, Ne(n) && (u = !!n.leading, o = (h = "maxWait" in n) ? Or(Sr(n.maxWait) || 0, t) : o, f = "trailing" in n ? !!n.trailing : f), m.cancel = function () { void 0 !== s && clearTimeout(s), c = 0, r = l = i = s = void 0 }, m.flush = function () { return void 0 === s ? a : v(hr()) }, m }, Er = "Expected a function"; var Tr = function (e, t, n) { var r = !0, i = !0; if ("function" != typeof e) throw new TypeError(Er); return Ne(n) && (r = "leading" in n ? !!n.leading : r, i = "trailing" in n ? !!n.trailing : i), jr(e, t, { leading: r, maxWait: t, trailing: i }) }, Pr = function (e, t, n) { var r = n.getBoundingClientRect(), i = r.width, o = r.height, a = "number" === typeof e.pageX ? e.pageX : e.touches[0].pageX, s = "number" === typeof e.pageY ? e.pageY : e.touches[0].pageY, l = a - (n.getBoundingClientRect().left + window.pageXOffset), c = s - (n.getBoundingClientRect().top + window.pageYOffset); l < 0 ? l = 0 : l > i && (l = i), c < 0 ? c = 0 : c > o && (c = o); var u = l / i, h = 1 - c / o; return { h: t.h, s: u, v: h, a: t.a, source: "hsv" } }, Ar = function () { function e(e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } } return function (t, n, r) { return n && e(t.prototype, n), r && e(t, r), t } }(); var Mr = function (t) { function n(e) { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, n); var t = function (e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" !== typeof t && "function" !== typeof t ? e : t }(this, (n.__proto__ || Object.getPrototypeOf(n)).call(this, e)); return t.handleChange = function (e) { "function" === typeof t.props.onChange && t.throttle(t.props.onChange, Pr(e, t.props.hsl, t.container), e) }, t.handleMouseDown = function (e) { t.handleChange(e); var n = t.getContainerRenderWindow(); n.addEventListener("mousemove", t.handleChange), n.addEventListener("mouseup", t.handleMouseUp) }, t.handleMouseUp = function () { t.unbindEventListeners() }, t.throttle = Tr((function (e, t, n) { e(t, n) }), 50), t } return function (e, t) { if ("function" !== typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(n, t), Ar(n, [{ key: "componentWillUnmount", value: function () { this.throttle.cancel(), this.unbindEventListeners() } }, { key: "getContainerRenderWindow", value: function () { for (var e = this.container, t = window; !t.document.contains(e) && t.parent !== t;)t = t.parent; return t } }, { key: "unbindEventListeners", value: function () { var e = this.getContainerRenderWindow(); e.removeEventListener("mousemove", this.handleChange), e.removeEventListener("mouseup", this.handleMouseUp) } }, { key: "render", value: function () { var t = this, n = this.props.style || {}, r = n.color, i = n.white, o = n.black, a = n.pointer, s = n.circle, l = (0, B.ZP)({ default: { color: { absolute: "0px 0px 0px 0px", background: "hsl(" + this.props.hsl.h + ",100%, 50%)", borderRadius: this.props.radius }, white: { absolute: "0px 0px 0px 0px", borderRadius: this.props.radius }, black: { absolute: "0px 0px 0px 0px", boxShadow: this.props.shadow, borderRadius: this.props.radius }, pointer: { position: "absolute", top: -100 * this.props.hsv.v + 100 + "%", left: 100 * this.props.hsv.s + "%", cursor: "default" }, circle: { width: "4px", height: "4px", boxShadow: "0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)", borderRadius: "50%", cursor: "hand", transform: "translate(-2px, -2px)" } }, custom: { color: r, white: i, black: o, pointer: a, circle: s } }, { custom: !!this.props.style }); return e.createElement("div", { style: l.color, ref: function (e) { return t.container = e }, onMouseDown: this.handleMouseDown, onTouchMove: this.handleChange, onTouchStart: this.handleChange }, e.createElement("style", null, "\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "), e.createElement("div", { style: l.white, className: "saturation-white" }, e.createElement("div", { style: l.black, className: "saturation-black" }), e.createElement("div", { style: l.pointer }, this.props.pointer ? e.createElement(this.props.pointer, this.props) : e.createElement("div", { style: l.circle })))) } }]), n }(e.PureComponent || e.Component), Dr = Mr; var Ir = function (e, t) { for (var n = -1, r = null == e ? 0 : e.length; ++n < r && !1 !== t(e[n], n, e);); return e }, Lr = Gt(Object.keys, Object), Fr = Object.prototype.hasOwnProperty; var Rr = function (e) { if (!Kt(e)) return Lr(e); var t = []; for (var n in Object(e)) Fr.call(e, n) && "constructor" != n && t.push(n); return t }; var Br = function (e) { return cn(e) ? Wn(e) : Rr(e) }; var Nr = function (e, t) { return function (n, r) { if (null == n) return n; if (!cn(n)) return e(n, r); for (var i = n.length, o = t ? i : -1, a = Object(n); (t ? o-- : ++o < i) && !1 !== r(a[o], o, a);); return n } }((function (e, t) { return e && It(e, t, Br) })); var zr = function (e) { return "function" == typeof e ? e : Kn }; var Wr = function (e, t) { return (an(e) ? Ir : Nr)(e, zr(t)) }; function Hr(e) { return Hr = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, Hr(e) } var Ur = /^\s+/, Xr = /\s+$/; function Vr(e, t) { if (t = t || {}, (e = e || "") instanceof Vr) return e; if (!(this instanceof Vr)) return new Vr(e, t); var n = function (e) { var t = { r: 0, g: 0, b: 0 }, n = 1, r = null, i = null, o = null, a = !1, s = !1; "string" == typeof e && (e = function (e) { e = e.replace(Ur, "").replace(Xr, "").toLowerCase(); var t, n = !1; if (li[e]) e = li[e], n = !0; else if ("transparent" == e) return { r: 0, g: 0, b: 0, a: 0, format: "name" }; if (t = bi.rgb.exec(e)) return { r: t[1], g: t[2], b: t[3] }; if (t = bi.rgba.exec(e)) return { r: t[1], g: t[2], b: t[3], a: t[4] }; if (t = bi.hsl.exec(e)) return { h: t[1], s: t[2], l: t[3] }; if (t = bi.hsla.exec(e)) return { h: t[1], s: t[2], l: t[3], a: t[4] }; if (t = bi.hsv.exec(e)) return { h: t[1], s: t[2], v: t[3] }; if (t = bi.hsva.exec(e)) return { h: t[1], s: t[2], v: t[3], a: t[4] }; if (t = bi.hex8.exec(e)) return { r: di(t[1]), g: di(t[2]), b: di(t[3]), a: mi(t[4]), format: n ? "name" : "hex8" }; if (t = bi.hex6.exec(e)) return { r: di(t[1]), g: di(t[2]), b: di(t[3]), format: n ? "name" : "hex" }; if (t = bi.hex4.exec(e)) return { r: di(t[1] + "" + t[1]), g: di(t[2] + "" + t[2]), b: di(t[3] + "" + t[3]), a: mi(t[4] + "" + t[4]), format: n ? "name" : "hex8" }; if (t = bi.hex3.exec(e)) return { r: di(t[1] + "" + t[1]), g: di(t[2] + "" + t[2]), b: di(t[3] + "" + t[3]), format: n ? "name" : "hex" }; return !1 }(e)); "object" == Hr(e) && (yi(e.r) && yi(e.g) && yi(e.b) ? (l = e.r, c = e.g, u = e.b, t = { r: 255 * hi(l, 255), g: 255 * hi(c, 255), b: 255 * hi(u, 255) }, a = !0, s = "%" === String(e.r).substr(-1) ? "prgb" : "rgb") : yi(e.h) && yi(e.s) && yi(e.v) ? (r = gi(e.s), i = gi(e.v), t = function (e, t, n) { e = 6 * hi(e, 360), t = hi(t, 100), n = hi(n, 100); var r = Math.floor(e), i = e - r, o = n * (1 - t), a = n * (1 - i * t), s = n * (1 - (1 - i) * t), l = r % 6, c = [n, a, o, o, s, n][l], u = [s, n, n, a, o, o][l], h = [o, o, s, n, n, a][l]; return { r: 255 * c, g: 255 * u, b: 255 * h } }(e.h, r, i), a = !0, s = "hsv") : yi(e.h) && yi(e.s) && yi(e.l) && (r = gi(e.s), o = gi(e.l), t = function (e, t, n) { var r, i, o; function a(e, t, n) { return n < 0 && (n += 1), n > 1 && (n -= 1), n < 1 / 6 ? e + 6 * (t - e) * n : n < .5 ? t : n < 2 / 3 ? e + (t - e) * (2 / 3 - n) * 6 : e } if (e = hi(e, 360), t = hi(t, 100), n = hi(n, 100), 0 === t) r = i = o = n; else { var s = n < .5 ? n * (1 + t) : n + t - n * t, l = 2 * n - s; r = a(l, s, e + 1 / 3), i = a(l, s, e), o = a(l, s, e - 1 / 3) } return { r: 255 * r, g: 255 * i, b: 255 * o } }(e.h, r, o), a = !0, s = "hsl"), e.hasOwnProperty("a") && (n = e.a)); var l, c, u; return n = ui(n), { ok: a, format: e.format || s, r: Math.min(255, Math.max(t.r, 0)), g: Math.min(255, Math.max(t.g, 0)), b: Math.min(255, Math.max(t.b, 0)), a: n } }(e); this._originalInput = e, this._r = n.r, this._g = n.g, this._b = n.b, this._a = n.a, this._roundA = Math.round(100 * this._a) / 100, this._format = t.format || n.format, this._gradientType = t.gradientType, this._r < 1 && (this._r = Math.round(this._r)), this._g < 1 && (this._g = Math.round(this._g)), this._b < 1 && (this._b = Math.round(this._b)), this._ok = n.ok } function Gr(e, t, n) { e = hi(e, 255), t = hi(t, 255), n = hi(n, 255); var r, i, o = Math.max(e, t, n), a = Math.min(e, t, n), s = (o + a) / 2; if (o == a) r = i = 0; else { var l = o - a; switch (i = s > .5 ? l / (2 - o - a) : l / (o + a), o) { case e: r = (t - n) / l + (t < n ? 6 : 0); break; case t: r = (n - e) / l + 2; break; case n: r = (e - t) / l + 4 }r /= 6 } return { h: r, s: i, l: s } } function Yr(e, t, n) { e = hi(e, 255), t = hi(t, 255), n = hi(n, 255); var r, i, o = Math.max(e, t, n), a = Math.min(e, t, n), s = o, l = o - a; if (i = 0 === o ? 0 : l / o, o == a) r = 0; else { switch (o) { case e: r = (t - n) / l + (t < n ? 6 : 0); break; case t: r = (n - e) / l + 2; break; case n: r = (e - t) / l + 4 }r /= 6 } return { h: r, s: i, v: s } } function qr(e, t, n, r) { var i = [pi(Math.round(e).toString(16)), pi(Math.round(t).toString(16)), pi(Math.round(n).toString(16))]; return r && i[0].charAt(0) == i[0].charAt(1) && i[1].charAt(0) == i[1].charAt(1) && i[2].charAt(0) == i[2].charAt(1) ? i[0].charAt(0) + i[1].charAt(0) + i[2].charAt(0) : i.join("") } function Kr(e, t, n, r) { return [pi(vi(r)), pi(Math.round(e).toString(16)), pi(Math.round(t).toString(16)), pi(Math.round(n).toString(16))].join("") } function $r(e, t) { t = 0 === t ? 0 : t || 10; var n = Vr(e).toHsl(); return n.s -= t / 100, n.s = fi(n.s), Vr(n) } function Zr(e, t) { t = 0 === t ? 0 : t || 10; var n = Vr(e).toHsl(); return n.s += t / 100, n.s = fi(n.s), Vr(n) } function Qr(e) { return Vr(e).desaturate(100) } function Jr(e, t) { t = 0 === t ? 0 : t || 10; var n = Vr(e).toHsl(); return n.l += t / 100, n.l = fi(n.l), Vr(n) } function ei(e, t) { t = 0 === t ? 0 : t || 10; var n = Vr(e).toRgb(); return n.r = Math.max(0, Math.min(255, n.r - Math.round(-t / 100 * 255))), n.g = Math.max(0, Math.min(255, n.g - Math.round(-t / 100 * 255))), n.b = Math.max(0, Math.min(255, n.b - Math.round(-t / 100 * 255))), Vr(n) } function ti(e, t) { t = 0 === t ? 0 : t || 10; var n = Vr(e).toHsl(); return n.l -= t / 100, n.l = fi(n.l), Vr(n) } function ni(e, t) { var n = Vr(e).toHsl(), r = (n.h + t) % 360; return n.h = r < 0 ? 360 + r : r, Vr(n) } function ri(e) { var t = Vr(e).toHsl(); return t.h = (t.h + 180) % 360, Vr(t) } function ii(e, t) { if (isNaN(t) || t <= 0) throw new Error("Argument to polyad must be a positive number"); for (var n = Vr(e).toHsl(), r = [Vr(e)], i = 360 / t, o = 1; o < t; o++)r.push(Vr({ h: (n.h + o * i) % 360, s: n.s, l: n.l })); return r } function oi(e) { var t = Vr(e).toHsl(), n = t.h; return [Vr(e), Vr({ h: (n + 72) % 360, s: t.s, l: t.l }), Vr({ h: (n + 216) % 360, s: t.s, l: t.l })] } function ai(e, t, n) { t = t || 6, n = n || 30; var r = Vr(e).toHsl(), i = 360 / n, o = [Vr(e)]; for (r.h = (r.h - (i * t >> 1) + 720) % 360; --t;)r.h = (r.h + i) % 360, o.push(Vr(r)); return o } function si(e, t) { t = t || 6; for (var n = Vr(e).toHsv(), r = n.h, i = n.s, o = n.v, a = [], s = 1 / t; t--;)a.push(Vr({ h: r, s: i, v: o })), o = (o + s) % 1; return a } Vr.prototype = { isDark: function () { return this.getBrightness() < 128 }, isLight: function () { return !this.isDark() }, isValid: function () { return this._ok }, getOriginalInput: function () { return this._originalInput }, getFormat: function () { return this._format }, getAlpha: function () { return this._a }, getBrightness: function () { var e = this.toRgb(); return (299 * e.r + 587 * e.g + 114 * e.b) / 1e3 }, getLuminance: function () { var e, t, n, r = this.toRgb(); return e = r.r / 255, t = r.g / 255, n = r.b / 255, .2126 * (e <= .03928 ? e / 12.92 : Math.pow((e + .055) / 1.055, 2.4)) + .7152 * (t <= .03928 ? t / 12.92 : Math.pow((t + .055) / 1.055, 2.4)) + .0722 * (n <= .03928 ? n / 12.92 : Math.pow((n + .055) / 1.055, 2.4)) }, setAlpha: function (e) { return this._a = ui(e), this._roundA = Math.round(100 * this._a) / 100, this }, toHsv: function () { var e = Yr(this._r, this._g, this._b); return { h: 360 * e.h, s: e.s, v: e.v, a: this._a } }, toHsvString: function () { var e = Yr(this._r, this._g, this._b), t = Math.round(360 * e.h), n = Math.round(100 * e.s), r = Math.round(100 * e.v); return 1 == this._a ? "hsv(" + t + ", " + n + "%, " + r + "%)" : "hsva(" + t + ", " + n + "%, " + r + "%, " + this._roundA + ")" }, toHsl: function () { var e = Gr(this._r, this._g, this._b); return { h: 360 * e.h, s: e.s, l: e.l, a: this._a } }, toHslString: function () { var e = Gr(this._r, this._g, this._b), t = Math.round(360 * e.h), n = Math.round(100 * e.s), r = Math.round(100 * e.l); return 1 == this._a ? "hsl(" + t + ", " + n + "%, " + r + "%)" : "hsla(" + t + ", " + n + "%, " + r + "%, " + this._roundA + ")" }, toHex: function (e) { return qr(this._r, this._g, this._b, e) }, toHexString: function (e) { return "#" + this.toHex(e) }, toHex8: function (e) { return function (e, t, n, r, i) { var o = [pi(Math.round(e).toString(16)), pi(Math.round(t).toString(16)), pi(Math.round(n).toString(16)), pi(vi(r))]; if (i && o[0].charAt(0) == o[0].charAt(1) && o[1].charAt(0) == o[1].charAt(1) && o[2].charAt(0) == o[2].charAt(1) && o[3].charAt(0) == o[3].charAt(1)) return o[0].charAt(0) + o[1].charAt(0) + o[2].charAt(0) + o[3].charAt(0); return o.join("") }(this._r, this._g, this._b, this._a, e) }, toHex8String: function (e) { return "#" + this.toHex8(e) }, toRgb: function () { return { r: Math.round(this._r), g: Math.round(this._g), b: Math.round(this._b), a: this._a } }, toRgbString: function () { return 1 == this._a ? "rgb(" + Math.round(this._r) + ", " + Math.round(this._g) + ", " + Math.round(this._b) + ")" : "rgba(" + Math.round(this._r) + ", " + Math.round(this._g) + ", " + Math.round(this._b) + ", " + this._roundA + ")" }, toPercentageRgb: function () { return { r: Math.round(100 * hi(this._r, 255)) + "%", g: Math.round(100 * hi(this._g, 255)) + "%", b: Math.round(100 * hi(this._b, 255)) + "%", a: this._a } }, toPercentageRgbString: function () { return 1 == this._a ? "rgb(" + Math.round(100 * hi(this._r, 255)) + "%, " + Math.round(100 * hi(this._g, 255)) + "%, " + Math.round(100 * hi(this._b, 255)) + "%)" : "rgba(" + Math.round(100 * hi(this._r, 255)) + "%, " + Math.round(100 * hi(this._g, 255)) + "%, " + Math.round(100 * hi(this._b, 255)) + "%, " + this._roundA + ")" }, toName: function () { return 0 === this._a ? "transparent" : !(this._a < 1) && (ci[qr(this._r, this._g, this._b, !0)] || !1) }, toFilter: function (e) { var t = "#" + Kr(this._r, this._g, this._b, this._a), n = t, r = this._gradientType ? "GradientType = 1, " : ""; if (e) { var i = Vr(e); n = "#" + Kr(i._r, i._g, i._b, i._a) } return "progid:DXImageTransform.Microsoft.gradient(" + r + "startColorstr=" + t + ",endColorstr=" + n + ")" }, toString: function (e) { var t = !!e; e = e || this._format; var n = !1, r = this._a < 1 && this._a >= 0; return t || !r || "hex" !== e && "hex6" !== e && "hex3" !== e && "hex4" !== e && "hex8" !== e && "name" !== e ? ("rgb" === e && (n = this.toRgbString()), "prgb" === e && (n = this.toPercentageRgbString()), "hex" !== e && "hex6" !== e || (n = this.toHexString()), "hex3" === e && (n = this.toHexString(!0)), "hex4" === e && (n = this.toHex8String(!0)), "hex8" === e && (n = this.toHex8String()), "name" === e && (n = this.toName()), "hsl" === e && (n = this.toHslString()), "hsv" === e && (n = this.toHsvString()), n || this.toHexString()) : "name" === e && 0 === this._a ? this.toName() : this.toRgbString() }, clone: function () { return Vr(this.toString()) }, _applyModification: function (e, t) { var n = e.apply(null, [this].concat([].slice.call(t))); return this._r = n._r, this._g = n._g, this._b = n._b, this.setAlpha(n._a), this }, lighten: function () { return this._applyModification(Jr, arguments) }, brighten: function () { return this._applyModification(ei, arguments) }, darken: function () { return this._applyModification(ti, arguments) }, desaturate: function () { return this._applyModification($r, arguments) }, saturate: function () { return this._applyModification(Zr, arguments) }, greyscale: function () { return this._applyModification(Qr, arguments) }, spin: function () { return this._applyModification(ni, arguments) }, _applyCombination: function (e, t) { return e.apply(null, [this].concat([].slice.call(t))) }, analogous: function () { return this._applyCombination(ai, arguments) }, complement: function () { return this._applyCombination(ri, arguments) }, monochromatic: function () { return this._applyCombination(si, arguments) }, splitcomplement: function () { return this._applyCombination(oi, arguments) }, triad: function () { return this._applyCombination(ii, [3]) }, tetrad: function () { return this._applyCombination(ii, [4]) } }, Vr.fromRatio = function (e, t) { if ("object" == Hr(e)) { var n = {}; for (var r in e) e.hasOwnProperty(r) && (n[r] = "a" === r ? e[r] : gi(e[r])); e = n } return Vr(e, t) }, Vr.equals = function (e, t) { return !(!e || !t) && Vr(e).toRgbString() == Vr(t).toRgbString() }, Vr.random = function () { return Vr.fromRatio({ r: Math.random(), g: Math.random(), b: Math.random() }) }, Vr.mix = function (e, t, n) { n = 0 === n ? 0 : n || 50; var r = Vr(e).toRgb(), i = Vr(t).toRgb(), o = n / 100; return Vr({ r: (i.r - r.r) * o + r.r, g: (i.g - r.g) * o + r.g, b: (i.b - r.b) * o + r.b, a: (i.a - r.a) * o + r.a }) }, Vr.readability = function (e, t) { var n = Vr(e), r = Vr(t); return (Math.max(n.getLuminance(), r.getLuminance()) + .05) / (Math.min(n.getLuminance(), r.getLuminance()) + .05) }, Vr.isReadable = function (e, t, n) { var r, i, o = Vr.readability(e, t); switch (i = !1, (r = function (e) { var t, n; t = ((e = e || { level: "AA", size: "small" }).level || "AA").toUpperCase(), n = (e.size || "small").toLowerCase(), "AA" !== t && "AAA" !== t && (t = "AA"); "small" !== n && "large" !== n && (n = "small"); return { level: t, size: n } }(n)).level + r.size) { case "AAsmall": case "AAAlarge": i = o >= 4.5; break; case "AAlarge": i = o >= 3; break; case "AAAsmall": i = o >= 7 }return i }, Vr.mostReadable = function (e, t, n) { var r, i, o, a, s = null, l = 0; i = (n = n || {}).includeFallbackColors, o = n.level, a = n.size; for (var c = 0; c < t.length; c++)(r = Vr.readability(e, t[c])) > l && (l = r, s = Vr(t[c])); return Vr.isReadable(e, s, { level: o, size: a }) || !i ? s : (n.includeFallbackColors = !1, Vr.mostReadable(e, ["#fff", "#000"], n)) }; var li = Vr.names = { aliceblue: "f0f8ff", antiquewhite: "faebd7", aqua: "0ff", aquamarine: "7fffd4", azure: "f0ffff", beige: "f5f5dc", bisque: "ffe4c4", black: "000", blanchedalmond: "ffebcd", blue: "00f", blueviolet: "8a2be2", brown: "a52a2a", burlywood: "deb887", burntsienna: "ea7e5d", cadetblue: "5f9ea0", chartreuse: "7fff00", chocolate: "d2691e", coral: "ff7f50", cornflowerblue: "6495ed", cornsilk: "fff8dc", crimson: "dc143c", cyan: "0ff", darkblue: "00008b", darkcyan: "008b8b", darkgoldenrod: "b8860b", darkgray: "a9a9a9", darkgreen: "006400", darkgrey: "a9a9a9", darkkhaki: "bdb76b", darkmagenta: "8b008b", darkolivegreen: "556b2f", darkorange: "ff8c00", darkorchid: "9932cc", darkred: "8b0000", darksalmon: "e9967a", darkseagreen: "8fbc8f", darkslateblue: "483d8b", darkslategray: "2f4f4f", darkslategrey: "2f4f4f", darkturquoise: "00ced1", darkviolet: "9400d3", deeppink: "ff1493", deepskyblue: "00bfff", dimgray: "696969", dimgrey: "696969", dodgerblue: "1e90ff", firebrick: "b22222", floralwhite: "fffaf0", forestgreen: "228b22", fuchsia: "f0f", gainsboro: "dcdcdc", ghostwhite: "f8f8ff", gold: "ffd700", goldenrod: "daa520", gray: "808080", green: "008000", greenyellow: "adff2f", grey: "808080", honeydew: "f0fff0", hotpink: "ff69b4", indianred: "cd5c5c", indigo: "4b0082", ivory: "fffff0", khaki: "f0e68c", lavender: "e6e6fa", lavenderblush: "fff0f5", lawngreen: "7cfc00", lemonchiffon: "fffacd", lightblue: "add8e6", lightcoral: "f08080", lightcyan: "e0ffff", lightgoldenrodyellow: "fafad2", lightgray: "d3d3d3", lightgreen: "90ee90", lightgrey: "d3d3d3", lightpink: "ffb6c1", lightsalmon: "ffa07a", lightseagreen: "20b2aa", lightskyblue: "87cefa", lightslategray: "789", lightslategrey: "789", lightsteelblue: "b0c4de", lightyellow: "ffffe0", lime: "0f0", limegreen: "32cd32", linen: "faf0e6", magenta: "f0f", maroon: "800000", mediumaquamarine: "66cdaa", mediumblue: "0000cd", mediumorchid: "ba55d3", mediumpurple: "9370db", mediumseagreen: "3cb371", mediumslateblue: "7b68ee", mediumspringgreen: "00fa9a", mediumturquoise: "48d1cc", mediumvioletred: "c71585", midnightblue: "191970", mintcream: "f5fffa", mistyrose: "ffe4e1", moccasin: "ffe4b5", navajowhite: "ffdead", navy: "000080", oldlace: "fdf5e6", olive: "808000", olivedrab: "6b8e23", orange: "ffa500", orangered: "ff4500", orchid: "da70d6", palegoldenrod: "eee8aa", palegreen: "98fb98", paleturquoise: "afeeee", palevioletred: "db7093", papayawhip: "ffefd5", peachpuff: "ffdab9", peru: "cd853f", pink: "ffc0cb", plum: "dda0dd", powderblue: "b0e0e6", purple: "800080", rebeccapurple: "663399", red: "f00", rosybrown: "bc8f8f", royalblue: "4169e1", saddlebrown: "8b4513", salmon: "fa8072", sandybrown: "f4a460", seagreen: "2e8b57", seashell: "fff5ee", sienna: "a0522d", silver: "c0c0c0", skyblue: "87ceeb", slateblue: "6a5acd", slategray: "708090", slategrey: "708090", snow: "fffafa", springgreen: "00ff7f", steelblue: "4682b4", tan: "d2b48c", teal: "008080", thistle: "d8bfd8", tomato: "ff6347", turquoise: "40e0d0", violet: "ee82ee", wheat: "f5deb3", white: "fff", whitesmoke: "f5f5f5", yellow: "ff0", yellowgreen: "9acd32" }, ci = Vr.hexNames = function (e) { var t = {}; for (var n in e) e.hasOwnProperty(n) && (t[e[n]] = n); return t }(li); function ui(e) { return e = parseFloat(e), (isNaN(e) || e < 0 || e > 1) && (e = 1), e } function hi(e, t) { (function (e) { return "string" == typeof e && -1 != e.indexOf(".") && 1 === parseFloat(e) })(e) && (e = "100%"); var n = function (e) { return "string" === typeof e && -1 != e.indexOf("%") }(e); return e = Math.min(t, Math.max(0, parseFloat(e))), n && (e = parseInt(e * t, 10) / 100), Math.abs(e - t) < 1e-6 ? 1 : e % t / parseFloat(t) } function fi(e) { return Math.min(1, Math.max(0, e)) } function di(e) { return parseInt(e, 16) } function pi(e) { return 1 == e.length ? "0" + e : "" + e } function gi(e) { return e <= 1 && (e = 100 * e + "%"), e } function vi(e) { return Math.round(255 * parseFloat(e)).toString(16) } function mi(e) { return di(e) / 255 } var bi = function () { var e = "(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)", t = "[\\s|\\(]+(" + e + ")[,|\\s]+(" + e + ")[,|\\s]+(" + e + ")\\s*\\)?", n = "[\\s|\\(]+(" + e + ")[,|\\s]+(" + e + ")[,|\\s]+(" + e + ")[,|\\s]+(" + e + ")\\s*\\)?"; return { CSS_UNIT: new RegExp(e), rgb: new RegExp("rgb" + t), rgba: new RegExp("rgba" + n), hsl: new RegExp("hsl" + t), hsla: new RegExp("hsla" + n), hsv: new RegExp("hsv" + t), hsva: new RegExp("hsva" + n), hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/, hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/, hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/, hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/ } }(); function yi(e) { return !!bi.CSS_UNIT.exec(e) } var xi = function (e) { var t = 0, n = 0; return Wr(["r", "g", "b", "a", "h", "s", "l", "v"], (function (r) { if (e[r] && (t += 1, isNaN(e[r]) || (n += 1), "s" === r || "l" === r)) { /^\d+%$/.test(e[r]) && (n += 1) } })), t === n && e }, wi = function (e, t) { var n = e.hex ? Vr(e.hex) : Vr(e), r = n.toHsl(), i = n.toHsv(), o = n.toRgb(), a = n.toHex(); return 0 === r.s && (r.h = t || 0, i.h = t || 0), { hsl: r, hex: "000000" === a && 0 === o.a ? "transparent" : "#" + a, rgb: o, hsv: i, oldHue: e.h || t || r.h, source: e.source } }, _i = function (e) { if ("transparent" === e) return !0; var t = "#" === String(e).charAt(0) ? 1 : 0; return e.length !== 4 + t && e.length < 7 + t && Vr(e).isValid() }, Si = function (e) { if (!e) return "#fff"; var t = wi(e); return "transparent" === t.hex ? "rgba(0,0,0,0.4)" : (299 * t.rgb.r + 587 * t.rgb.g + 114 * t.rgb.b) / 1e3 >= 128 ? "#000" : "#fff" }, Ci = function (e, t) { return Vr(t + " (" + e.replace("\xb0", "") + ")")._ok }, Oi = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, ki = function () { function e(e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } } return function (t, n, r) { return n && e(t.prototype, n), r && e(t, r), t } }(); var ji = function (t) { var n = function (n) { function r(e) { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, r); var t = function (e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" !== typeof t && "function" !== typeof t ? e : t }(this, (r.__proto__ || Object.getPrototypeOf(r)).call(this)); return t.handleChange = function (e, n) { if (xi(e)) { var r = wi(e, e.h || t.state.oldHue); t.setState(r), t.props.onChangeComplete && t.debounce(t.props.onChangeComplete, r, n), t.props.onChange && t.props.onChange(r, n) } }, t.handleSwatchHover = function (e, n) { if (xi(e)) { var r = wi(e, e.h || t.state.oldHue); t.props.onSwatchHover && t.props.onSwatchHover(r, n) } }, t.state = Oi({}, wi(e.color, 0)), t.debounce = jr((function (e, t, n) { e(t, n) }), 100), t } return function (e, t) { if ("function" !== typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(r, n), ki(r, [{ key: "render", value: function () { var n = {}; return this.props.onSwatchHover && (n.onSwatchHover = this.handleSwatchHover), e.createElement(t, Oi({}, this.props, this.state, { onChange: this.handleChange }, n)) } }], [{ key: "getDerivedStateFromProps", value: function (e, t) { return Oi({}, wi(e.color, t.oldHue)) } }]), r }(e.PureComponent || e.Component); return n.propTypes = Oi({}, t.propTypes), n.defaultProps = Oi({}, t.defaultProps, { color: { h: 250, s: .5, l: .2, a: 1 } }), n }, Ei = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Ti = function () { function e(e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } } return function (t, n, r) { return n && e(t.prototype, n), r && e(t, r), t } }(); function Pi(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" !== typeof t && "function" !== typeof t ? e : t } var Ai = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Mi = function (t) { var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "span"; return function (r) { function i() { var e, t, n; !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, i); for (var r = arguments.length, o = Array(r), a = 0; a < r; a++)o[a] = arguments[a]; return t = n = Pi(this, (e = i.__proto__ || Object.getPrototypeOf(i)).call.apply(e, [this].concat(o))), n.state = { focus: !1 }, n.handleFocus = function () { return n.setState({ focus: !0 }) }, n.handleBlur = function () { return n.setState({ focus: !1 }) }, Pi(n, t) } return function (e, t) { if ("function" !== typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(i, r), Ti(i, [{ key: "render", value: function () { return e.createElement(n, { onFocus: this.handleFocus, onBlur: this.handleBlur }, e.createElement(t, Ei({}, this.props, this.state))) } }]), i }(e.Component) }((function (t) { var n = t.color, r = t.style, i = t.onClick, o = void 0 === i ? function () { } : i, a = t.onHover, s = t.title, l = void 0 === s ? n : s, c = t.children, u = t.focus, h = t.focusStyle, f = void 0 === h ? {} : h, d = "transparent" === n, p = (0, B.ZP)({ default: { swatch: Ai({ background: n, height: "100%", width: "100%", cursor: "pointer", position: "relative", outline: "none" }, r, u ? f : {}) } }), g = {}; return a && (g.onMouseOver = function (e) { return a(n, e) }), e.createElement("div", Ai({ style: p.swatch, onClick: function (e) { return o(n, e) }, title: l, tabIndex: 0, onKeyDown: function (e) { return 13 === e.keyCode && o(n, e) } }, g), c, d && e.createElement(X, { borderRadius: p.swatch.borderRadius, boxShadow: "inset 0 0 0 1px rgba(0,0,0,0.1)" })) })), Di = function (t) { var n = t.direction, r = (0, B.ZP)({ default: { picker: { width: "18px", height: "18px", borderRadius: "50%", transform: "translate(-9px, -1px)", backgroundColor: "rgb(248, 248, 248)", boxShadow: "0 1px 4px 0 rgba(0, 0, 0, 0.37)" } }, vertical: { picker: { transform: "translate(-3px, -9px)" } } }, { vertical: "vertical" === n }); return e.createElement("div", { style: r.picker }) }, Ii = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Li = function (t) { var n = t.rgb, r = t.hsl, i = t.width, o = t.height, a = t.onChange, s = t.direction, l = t.style, c = t.renderers, u = t.pointer, h = t.className, f = void 0 === h ? "" : h, d = (0, B.ZP)({ default: { picker: { position: "relative", width: i, height: o }, alpha: { radius: "2px", style: l } } }); return e.createElement("div", { style: d.picker, className: "alpha-picker " + f }, e.createElement(K, Ii({}, d.alpha, { rgb: n, hsl: r, pointer: u, renderers: c, onChange: a, direction: s }))) }; Li.defaultProps = { width: "316px", height: "16px", direction: "horizontal", pointer: Di }; ji(Li); var Fi = function (e, t) { for (var n = -1, r = null == e ? 0 : e.length, i = Array(r); ++n < r;)i[n] = t(e[n], n, e); return i }, Ri = "__lodash_hash_undefined__"; var Bi = function (e) { return this.__data__.set(e, Ri), this }; var Ni = function (e) { return this.__data__.has(e) }; function zi(e) { var t = -1, n = null == e ? 0 : e.length; for (this.__data__ = new kt; ++t < n;)this.add(e[t]) } zi.prototype.add = zi.prototype.push = Bi, zi.prototype.has = Ni; var Wi = zi; var Hi = function (e, t) { for (var n = -1, r = null == e ? 0 : e.length; ++n < r;)if (t(e[n], n, e)) return !0; return !1 }; var Ui = function (e, t) { return e.has(t) }, Xi = 1, Vi = 2; var Gi = function (e, t, n, r, i, o) { var a = n & Xi, s = e.length, l = t.length; if (s != l && !(a && l > s)) return !1; var c = o.get(e), u = o.get(t); if (c && u) return c == t && u == e; var h = -1, f = !0, d = n & Vi ? new Wi : void 0; for (o.set(e, t), o.set(t, e); ++h < s;) { var p = e[h], g = t[h]; if (r) var v = a ? r(g, p, h, t, e, o) : r(p, g, h, e, t, o); if (void 0 !== v) { if (v) continue; f = !1; break } if (d) { if (!Hi(t, (function (e, t) { if (!Ui(d, t) && (p === e || i(p, e, n, r, o))) return d.push(t) }))) { f = !1; break } } else if (p !== g && !i(p, g, n, r, o)) { f = !1; break } } return o.delete(e), o.delete(t), f }; var Yi = function (e) { var t = -1, n = Array(e.size); return e.forEach((function (e, r) { n[++t] = [r, e] })), n }; var qi = function (e) { var t = -1, n = Array(e.size); return e.forEach((function (e) { n[++t] = e })), n }, Ki = 1, $i = 2, Zi = "[object Boolean]", Qi = "[object Date]", Ji = "[object Error]", eo = "[object Map]", to = "[object Number]", no = "[object RegExp]", ro = "[object Set]", io = "[object String]", oo = "[object Symbol]", ao = "[object ArrayBuffer]", so = "[object DataView]", lo = je ? je.prototype : void 0, co = lo ? lo.valueOf : void 0; var uo = function (e, t, n, r, i, o, a) { switch (n) { case so: if (e.byteLength != t.byteLength || e.byteOffset != t.byteOffset) return !1; e = e.buffer, t = t.buffer; case ao: return !(e.byteLength != t.byteLength || !o(new zt(e), new zt(t))); case Zi: case Qi: case to: return he(+e, +t); case Ji: return e.name == t.name && e.message == t.message; case no: case io: return e == t + ""; case eo: var s = Yi; case ro: var l = r & Ki; if (s || (s = qi), e.size != t.size && !l) return !1; var c = a.get(e); if (c) return c == t; r |= $i, a.set(e, t); var u = Gi(s(e), s(t), r, i, o, a); return a.delete(e), u; case oo: if (co) return co.call(e) == co.call(t) }return !1 }; var ho = function (e, t) { for (var n = -1, r = t.length, i = e.length; ++n < r;)e[i + n] = t[n]; return e }; var fo = function (e, t, n) { var r = t(e); return an(e) ? r : ho(r, n(e)) }; var po = function (e, t) { for (var n = -1, r = null == e ? 0 : e.length, i = 0, o = []; ++n < r;) { var a = e[n]; t(a, n, e) && (o[i++] = a) } return o }; var go = function () { return [] }, vo = Object.prototype.propertyIsEnumerable, mo = Object.getOwnPropertySymbols, bo = mo ? function (e) { return null == e ? [] : (e = Object(e), po(mo(e), (function (t) { return vo.call(e, t) }))) } : go; var yo = function (e) { return fo(e, Br, bo) }, xo = 1, wo = Object.prototype.hasOwnProperty; var _o = function (e, t, n, r, i, o) { var a = n & xo, s = yo(e), l = s.length; if (l != yo(t).length && !a) return !1; for (var c = l; c--;) { var u = s[c]; if (!(a ? u in t : wo.call(t, u))) return !1 } var h = o.get(e), f = o.get(t); if (h && f) return h == t && f == e; var d = !0; o.set(e, t), o.set(t, e); for (var p = a; ++c < l;) { var g = e[u = s[c]], v = t[u]; if (r) var m = a ? r(v, g, u, t, e, o) : r(g, v, u, e, t, o); if (!(void 0 === m ? g === v || i(g, v, n, r, o) : m)) { d = !1; break } p || (p = "constructor" == u) } if (d && !p) { var b = e.constructor, y = t.constructor; b == y || !("constructor" in e) || !("constructor" in t) || "function" == typeof b && b instanceof b && "function" == typeof y && y instanceof y || (d = !1) } return o.delete(e), o.delete(t), d }, So = it(ke, "DataView"), Co = it(ke, "Promise"), Oo = it(ke, "Set"), ko = it(ke, "WeakMap"), jo = "[object Map]", Eo = "[object Promise]", To = "[object Set]", Po = "[object WeakMap]", Ao = "[object DataView]", Mo = Ke(So), Do = Ke(ot), Io = Ke(Co), Lo = Ke(Oo), Fo = Ke(ko), Ro = Be; (So && Ro(new So(new ArrayBuffer(1))) != Ao || ot && Ro(new ot) != jo || Co && Ro(Co.resolve()) != Eo || Oo && Ro(new Oo) != To || ko && Ro(new ko) != Po) && (Ro = function (e) { var t = Be(e), n = "[object Object]" == t ? e.constructor : void 0, r = n ? Ke(n) : ""; if (r) switch (r) { case Mo: return Ao; case Do: return jo; case Io: return Eo; case Lo: return To; case Fo: return Po }return t }); var Bo = Ro, No = 1, zo = "[object Arguments]", Wo = "[object Array]", Ho = "[object Object]", Uo = Object.prototype.hasOwnProperty; var Xo = function (e, t, n, r, i, o) { var a = an(e), s = an(t), l = a ? Wo : Bo(e), c = s ? Wo : Bo(t), u = (l = l == zo ? Ho : l) == Ho, h = (c = c == zo ? Ho : c) == Ho, f = l == c; if (f && gn(e)) { if (!gn(t)) return !1; a = !0, u = !1 } if (f && !u) return o || (o = new Pt), a || An(e) ? Gi(e, t, n, r, i, o) : uo(e, t, l, n, r, i, o); if (!(n & No)) { var d = u && Uo.call(e, "__wrapped__"), p = h && Uo.call(t, "__wrapped__"); if (d || p) { var g = d ? e.value() : e, v = p ? t.value() : t; return o || (o = new Pt), i(g, v, n, r, o) } } return !!f && (o || (o = new Pt), _o(e, t, n, r, i, o)) }; var Vo = function e(t, n, r, i, o) { return t === n || (null == t || null == n || !Zt(t) && !Zt(n) ? t !== t && n !== n : Xo(t, n, r, i, e, o)) }, Go = 1, Yo = 2; var qo = function (e, t, n, r) { var i = n.length, o = i, a = !r; if (null == e) return !o; for (e = Object(e); i--;) { var s = n[i]; if (a && s[2] ? s[1] !== e[s[0]] : !(s[0] in e)) return !1 } for (; ++i < o;) { var l = (s = n[i])[0], c = e[l], u = s[1]; if (a && s[2]) { if (void 0 === c && !(l in e)) return !1 } else { var h = new Pt; if (r) var f = r(c, u, l, e, t, h); if (!(void 0 === f ? Vo(u, c, Go | Yo, r, h) : f)) return !1 } } return !0 }; var Ko = function (e) { return e === e && !Ne(e) }; var $o = function (e) { for (var t = Br(e), n = t.length; n--;) { var r = t[n], i = e[r]; t[n] = [r, i, Ko(i)] } return t }; var Zo = function (e, t) { return function (n) { return null != n && (n[e] === t && (void 0 !== t || e in Object(n))) } }; var Qo = function (e) { var t = $o(e); return 1 == t.length && t[0][2] ? Zo(t[0][0], t[0][1]) : function (n) { return n === e || qo(n, e, t) } }, Jo = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, ea = /^\w*$/; var ta = function (e, t) { if (an(e)) return !1; var n = typeof e; return !("number" != n && "symbol" != n && "boolean" != n && null != e && !mr(e)) || (ea.test(e) || !Jo.test(e) || null != t && e in Object(t)) }, na = "Expected a function"; function ra(e, t) { if ("function" != typeof e || null != t && "function" != typeof t) throw new TypeError(na); var n = function n() { var r = arguments, i = t ? t.apply(this, r) : r[0], o = n.cache; if (o.has(i)) return o.get(i); var a = e.apply(this, r); return n.cache = o.set(i, a) || o, a }; return n.cache = new (ra.Cache || kt), n } ra.Cache = kt; var ia = ra, oa = 500; var aa = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, sa = /\\(\\)?/g, la = function (e) { var t = ia(e, (function (e) { return n.size === oa && n.clear(), e })), n = t.cache; return t }((function (e) { var t = []; return 46 === e.charCodeAt(0) && t.push(""), e.replace(aa, (function (e, n, r, i) { t.push(r ? i.replace(sa, "$1") : n || e) })), t })), ca = 1 / 0, ua = je ? je.prototype : void 0, ha = ua ? ua.toString : void 0; var fa = function e(t) { if ("string" == typeof t) return t; if (an(t)) return Fi(t, e) + ""; if (mr(t)) return ha ? ha.call(t) : ""; var n = t + ""; return "0" == n && 1 / t == -ca ? "-0" : n }; var da = function (e) { return null == e ? "" : fa(e) }; var pa = function (e, t) { return an(e) ? e : ta(e, t) ? [e] : la(da(e)) }, ga = 1 / 0; var va = function (e) { if ("string" == typeof e || mr(e)) return e; var t = e + ""; return "0" == t && 1 / e == -ga ? "-0" : t }; var ma = function (e, t) { for (var n = 0, r = (t = pa(t, e)).length; null != e && n < r;)e = e[va(t[n++])]; return n && n == r ? e : void 0 }; var ba = function (e, t, n) { var r = null == e ? void 0 : ma(e, t); return void 0 === r ? n : r }; var ya = function (e, t) { return null != e && t in Object(e) }; var xa = function (e, t, n) { for (var r = -1, i = (t = pa(t, e)).length, o = !1; ++r < i;) { var a = va(t[r]); if (!(o = null != e && n(e, a))) break; e = e[a] } return o || ++r != i ? o : !!(i = null == e ? 0 : e.length) && ln(i) && Nn(a, i) && (an(e) || on(e)) }; var wa = function (e, t) { return null != e && xa(e, t, ya) }, _a = 1, Sa = 2; var Ca = function (e, t) { return ta(e) && Ko(t) ? Zo(va(e), t) : function (n) { var r = ba(n, e); return void 0 === r && r === t ? wa(n, e) : Vo(t, r, _a | Sa) } }; var Oa = function (e) { return function (t) { return null == t ? void 0 : t[e] } }; var ka = function (e) { return function (t) { return ma(t, e) } }; var ja = function (e) { return ta(e) ? Oa(va(e)) : ka(e) }; var Ea = function (e) { return "function" == typeof e ? e : null == e ? Kn : "object" == typeof e ? an(e) ? Ca(e[0], e[1]) : Qo(e) : ja(e) }; var Ta = function (e, t) { var n = -1, r = cn(e) ? Array(e.length) : []; return Nr(e, (function (e, i, o) { r[++n] = t(e, i, o) })), r }; var Pa = function (e, t) { return (an(e) ? Fi : Ta)(e, Ea(t, 3)) }, Aa = function (t) { var n = t.colors, r = t.onClick, i = t.onSwatchHover, o = (0, B.ZP)({ default: { swatches: { marginRight: "-10px" }, swatch: { width: "22px", height: "22px", float: "left", marginRight: "10px", marginBottom: "10px", borderRadius: "4px" }, clear: { clear: "both" } } }); return e.createElement("div", { style: o.swatches }, Pa(n, (function (t) { return e.createElement(Mi, { key: t, color: t, style: o.swatch, onClick: r, onHover: i, focusStyle: { boxShadow: "0 0 4px " + t } }) })), e.createElement("div", { style: o.clear })) }, Ma = function (t) { var n = t.onChange, r = t.onSwatchHover, i = t.hex, o = t.colors, a = t.width, s = t.triangle, l = t.styles, c = void 0 === l ? {} : l, u = t.className, h = void 0 === u ? "" : u, f = "transparent" === i, d = function (e, t) { _i(e) && n({ hex: e, source: "hex" }, t) }, p = (0, B.ZP)(lr({ default: { card: { width: a, background: "#fff", boxShadow: "0 1px rgba(0,0,0,.1)", borderRadius: "6px", position: "relative" }, head: { height: "110px", background: i, borderRadius: "6px 6px 0 0", display: "flex", alignItems: "center", justifyContent: "center", position: "relative" }, body: { padding: "10px" }, label: { fontSize: "18px", color: Si(i), position: "relative" }, triangle: { width: "0px", height: "0px", borderStyle: "solid", borderWidth: "0 10px 10px 10px", borderColor: "transparent transparent " + i + " transparent", position: "absolute", top: "-10px", left: "50%", marginLeft: "-10px" }, input: { width: "100%", fontSize: "12px", color: "#666", border: "0px", outline: "none", height: "22px", boxShadow: "inset 0 0 0 1px #ddd", borderRadius: "4px", padding: "0 7px", boxSizing: "border-box" } }, "hide-triangle": { triangle: { display: "none" } } }, c), { "hide-triangle": "hide" === s }); return e.createElement("div", { style: p.card, className: "block-picker " + h }, e.createElement("div", { style: p.triangle }), e.createElement("div", { style: p.head }, f && e.createElement(X, { borderRadius: "6px 6px 0 0" }), e.createElement("div", { style: p.label }, i)), e.createElement("div", { style: p.body }, e.createElement(Aa, { colors: o, onClick: d, onSwatchHover: r }), e.createElement(ne, { style: { input: p.input }, value: i, onChange: d }))) }; Ma.propTypes = { width: ce().oneOfType([ce().string, ce().number]), colors: ce().arrayOf(ce().string), triangle: ce().oneOf(["top", "hide"]), styles: ce().object }, Ma.defaultProps = { width: 170, colors: ["#D9E3F0", "#F47373", "#697689", "#37D67A", "#2CCCE4", "#555555", "#dce775", "#ff8a65", "#ba68c8"], triangle: "top", styles: {} }; ji(Ma); var Da = { 50: "#ffebee", 100: "#ffcdd2", 200: "#ef9a9a", 300: "#e57373", 400: "#ef5350", 500: "#f44336", 600: "#e53935", 700: "#d32f2f", 800: "#c62828", 900: "#b71c1c", a100: "#ff8a80", a200: "#ff5252", a400: "#ff1744", a700: "#d50000" }, Ia = { 50: "#fce4ec", 100: "#f8bbd0", 200: "#f48fb1", 300: "#f06292", 400: "#ec407a", 500: "#e91e63", 600: "#d81b60", 700: "#c2185b", 800: "#ad1457", 900: "#880e4f", a100: "#ff80ab", a200: "#ff4081", a400: "#f50057", a700: "#c51162" }, La = { 50: "#f3e5f5", 100: "#e1bee7", 200: "#ce93d8", 300: "#ba68c8", 400: "#ab47bc", 500: "#9c27b0", 600: "#8e24aa", 700: "#7b1fa2", 800: "#6a1b9a", 900: "#4a148c", a100: "#ea80fc", a200: "#e040fb", a400: "#d500f9", a700: "#aa00ff" }, Fa = { 50: "#ede7f6", 100: "#d1c4e9", 200: "#b39ddb", 300: "#9575cd", 400: "#7e57c2", 500: "#673ab7", 600: "#5e35b1", 700: "#512da8", 800: "#4527a0", 900: "#311b92", a100: "#b388ff", a200: "#7c4dff", a400: "#651fff", a700: "#6200ea" }, Ra = { 50: "#e8eaf6", 100: "#c5cae9", 200: "#9fa8da", 300: "#7986cb", 400: "#5c6bc0", 500: "#3f51b5", 600: "#3949ab", 700: "#303f9f", 800: "#283593", 900: "#1a237e", a100: "#8c9eff", a200: "#536dfe", a400: "#3d5afe", a700: "#304ffe" }, Ba = { 50: "#e3f2fd", 100: "#bbdefb", 200: "#90caf9", 300: "#64b5f6", 400: "#42a5f5", 500: "#2196f3", 600: "#1e88e5", 700: "#1976d2", 800: "#1565c0", 900: "#0d47a1", a100: "#82b1ff", a200: "#448aff", a400: "#2979ff", a700: "#2962ff" }, Na = { 50: "#e1f5fe", 100: "#b3e5fc", 200: "#81d4fa", 300: "#4fc3f7", 400: "#29b6f6", 500: "#03a9f4", 600: "#039be5", 700: "#0288d1", 800: "#0277bd", 900: "#01579b", a100: "#80d8ff", a200: "#40c4ff", a400: "#00b0ff", a700: "#0091ea" }, za = { 50: "#e0f7fa", 100: "#b2ebf2", 200: "#80deea", 300: "#4dd0e1", 400: "#26c6da", 500: "#00bcd4", 600: "#00acc1", 700: "#0097a7", 800: "#00838f", 900: "#006064", a100: "#84ffff", a200: "#18ffff", a400: "#00e5ff", a700: "#00b8d4" }, Wa = { 50: "#e0f2f1", 100: "#b2dfdb", 200: "#80cbc4", 300: "#4db6ac", 400: "#26a69a", 500: "#009688", 600: "#00897b", 700: "#00796b", 800: "#00695c", 900: "#004d40", a100: "#a7ffeb", a200: "#64ffda", a400: "#1de9b6", a700: "#00bfa5" }, Ha = { 50: "#e8f5e9", 100: "#c8e6c9", 200: "#a5d6a7", 300: "#81c784", 400: "#66bb6a", 500: "#4caf50", 600: "#43a047", 700: "#388e3c", 800: "#2e7d32", 900: "#1b5e20", a100: "#b9f6ca", a200: "#69f0ae", a400: "#00e676", a700: "#00c853" }, Ua = { 50: "#f1f8e9", 100: "#dcedc8", 200: "#c5e1a5", 300: "#aed581", 400: "#9ccc65", 500: "#8bc34a", 600: "#7cb342", 700: "#689f38", 800: "#558b2f", 900: "#33691e", a100: "#ccff90", a200: "#b2ff59", a400: "#76ff03", a700: "#64dd17" }, Xa = { 50: "#f9fbe7", 100: "#f0f4c3", 200: "#e6ee9c", 300: "#dce775", 400: "#d4e157", 500: "#cddc39", 600: "#c0ca33", 700: "#afb42b", 800: "#9e9d24", 900: "#827717", a100: "#f4ff81", a200: "#eeff41", a400: "#c6ff00", a700: "#aeea00" }, Va = { 50: "#fffde7", 100: "#fff9c4", 200: "#fff59d", 300: "#fff176", 400: "#ffee58", 500: "#ffeb3b", 600: "#fdd835", 700: "#fbc02d", 800: "#f9a825", 900: "#f57f17", a100: "#ffff8d", a200: "#ffff00", a400: "#ffea00", a700: "#ffd600" }, Ga = { 50: "#fff8e1", 100: "#ffecb3", 200: "#ffe082", 300: "#ffd54f", 400: "#ffca28", 500: "#ffc107", 600: "#ffb300", 700: "#ffa000", 800: "#ff8f00", 900: "#ff6f00", a100: "#ffe57f", a200: "#ffd740", a400: "#ffc400", a700: "#ffab00" }, Ya = { 50: "#fff3e0", 100: "#ffe0b2", 200: "#ffcc80", 300: "#ffb74d", 400: "#ffa726", 500: "#ff9800", 600: "#fb8c00", 700: "#f57c00", 800: "#ef6c00", 900: "#e65100", a100: "#ffd180", a200: "#ffab40", a400: "#ff9100", a700: "#ff6d00" }, qa = { 50: "#fbe9e7", 100: "#ffccbc", 200: "#ffab91", 300: "#ff8a65", 400: "#ff7043", 500: "#ff5722", 600: "#f4511e", 700: "#e64a19", 800: "#d84315", 900: "#bf360c", a100: "#ff9e80", a200: "#ff6e40", a400: "#ff3d00", a700: "#dd2c00" }, Ka = { 50: "#efebe9", 100: "#d7ccc8", 200: "#bcaaa4", 300: "#a1887f", 400: "#8d6e63", 500: "#795548", 600: "#6d4c41", 700: "#5d4037", 800: "#4e342e", 900: "#3e2723" }, $a = { 50: "#eceff1", 100: "#cfd8dc", 200: "#b0bec5", 300: "#90a4ae", 400: "#78909c", 500: "#607d8b", 600: "#546e7a", 700: "#455a64", 800: "#37474f", 900: "#263238" }, Za = function (t) { var n = t.color, r = t.onClick, i = t.onSwatchHover, o = t.hover, a = t.active, s = t.circleSize, l = t.circleSpacing, c = (0, B.ZP)({ default: { swatch: { width: s, height: s, marginRight: l, marginBottom: l, transform: "scale(1)", transition: "100ms transform ease" }, Swatch: { borderRadius: "50%", background: "transparent", boxShadow: "inset 0 0 0 " + (s / 2 + 1) + "px " + n, transition: "100ms box-shadow ease" } }, hover: { swatch: { transform: "scale(1.2)" } }, active: { Swatch: { boxShadow: "inset 0 0 0 3px " + n } } }, { hover: o, active: a }); return e.createElement("div", { style: c.swatch }, e.createElement(Mi, { style: c.Swatch, color: n, onClick: r, onHover: i, focusStyle: { boxShadow: c.Swatch.boxShadow + ", 0 0 5px " + n } })) }; Za.defaultProps = { circleSize: 28, circleSpacing: 14 }; var Qa = (0, B.tz)(Za), Ja = function (t) { var n = t.width, r = t.onChange, i = t.onSwatchHover, o = t.colors, a = t.hex, s = t.circleSize, l = t.styles, c = void 0 === l ? {} : l, u = t.circleSpacing, h = t.className, f = void 0 === h ? "" : h, d = (0, B.ZP)(lr({ default: { card: { width: n, display: "flex", flexWrap: "wrap", marginRight: -u, marginBottom: -u } } }, c)), p = function (e, t) { return r({ hex: e, source: "hex" }, t) }; return e.createElement("div", { style: d.card, className: "circle-picker " + f }, Pa(o, (function (t) { return e.createElement(Qa, { key: t, color: t, onClick: p, onSwatchHover: i, active: a === t.toLowerCase(), circleSize: s, circleSpacing: u }) }))) }; Ja.propTypes = { width: ce().oneOfType([ce().string, ce().number]), circleSize: ce().number, circleSpacing: ce().number, styles: ce().object }, Ja.defaultProps = { width: 252, circleSize: 28, circleSpacing: 14, colors: [Da[500], Ia[500], La[500], Fa[500], Ra[500], Ba[500], Na[500], za[500], Wa[500], Ha[500], Ua[500], Xa[500], Va[500], Ga[500], Ya[500], qa[500], Ka[500], $a[500]], styles: {} }; ji(Ja); var es = function (e) { return void 0 === e }, ts = n(2403), ns = function () { function e(e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } } return function (t, n, r) { return n && e(t.prototype, n), r && e(t, r), t } }(); var rs = function (t) { function n(e) { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, n); var t = function (e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" !== typeof t && "function" !== typeof t ? e : t }(this, (n.__proto__ || Object.getPrototypeOf(n)).call(this)); return t.toggleViews = function () { "hex" === t.state.view ? t.setState({ view: "rgb" }) : "rgb" === t.state.view ? t.setState({ view: "hsl" }) : "hsl" === t.state.view && (1 === t.props.hsl.a ? t.setState({ view: "hex" }) : t.setState({ view: "rgb" })) }, t.handleChange = function (e, n) { e.hex ? _i(e.hex) && t.props.onChange({ hex: e.hex, source: "hex" }, n) : e.r || e.g || e.b ? t.props.onChange({ r: e.r || t.props.rgb.r, g: e.g || t.props.rgb.g, b: e.b || t.props.rgb.b, source: "rgb" }, n) : e.a ? (e.a < 0 ? e.a = 0 : e.a > 1 && (e.a = 1), t.props.onChange({ h: t.props.hsl.h, s: t.props.hsl.s, l: t.props.hsl.l, a: Math.round(100 * e.a) / 100, source: "rgb" }, n)) : (e.h || e.s || e.l) && ("string" === typeof e.s && e.s.includes("%") && (e.s = e.s.replace("%", "")), "string" === typeof e.l && e.l.includes("%") && (e.l = e.l.replace("%", "")), 1 == e.s ? e.s = .01 : 1 == e.l && (e.l = .01), t.props.onChange({ h: e.h || t.props.hsl.h, s: Number(es(e.s) ? t.props.hsl.s : e.s), l: Number(es(e.l) ? t.props.hsl.l : e.l), source: "hsl" }, n)) }, t.showHighlight = function (e) { e.currentTarget.style.background = "#eee" }, t.hideHighlight = function (e) { e.currentTarget.style.background = "transparent" }, 1 !== e.hsl.a && "hex" === e.view ? t.state = { view: "rgb" } : t.state = { view: e.view }, t } return function (e, t) { if ("function" !== typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(n, t), ns(n, [{ key: "render", value: function () { var t = this, n = (0, B.ZP)({ default: { wrap: { paddingTop: "16px", display: "flex" }, fields: { flex: "1", display: "flex", marginLeft: "-6px" }, field: { paddingLeft: "6px", width: "100%" }, alpha: { paddingLeft: "6px", width: "100%" }, toggle: { width: "32px", textAlign: "right", position: "relative" }, icon: { marginRight: "-4px", marginTop: "12px", cursor: "pointer", position: "relative" }, iconHighlight: { position: "absolute", width: "24px", height: "28px", background: "#eee", borderRadius: "4px", top: "10px", left: "12px", display: "none" }, input: { fontSize: "11px", color: "#333", width: "100%", borderRadius: "2px", border: "none", boxShadow: "inset 0 0 0 1px #dadada", height: "21px", textAlign: "center" }, label: { textTransform: "uppercase", fontSize: "11px", lineHeight: "11px", color: "#969696", textAlign: "center", display: "block", marginTop: "12px" }, svg: { fill: "#333", width: "24px", height: "24px", border: "1px transparent solid", borderRadius: "5px" } }, disableAlpha: { alpha: { display: "none" } } }, this.props, this.state), r = void 0; return "hex" === this.state.view ? r = e.createElement("div", { style: n.fields, className: "flexbox-fix" }, e.createElement("div", { style: n.field }, e.createElement(ne, { style: { input: n.input, label: n.label }, label: "hex", value: this.props.hex, onChange: this.handleChange }))) : "rgb" === this.state.view ? r = e.createElement("div", { style: n.fields, className: "flexbox-fix" }, e.createElement("div", { style: n.field }, e.createElement(ne, { style: { input: n.input, label: n.label }, label: "r", value: this.props.rgb.r, onChange: this.handleChange })), e.createElement("div", { style: n.field }, e.createElement(ne, { style: { input: n.input, label: n.label }, label: "g", value: this.props.rgb.g, onChange: this.handleChange })), e.createElement("div", { style: n.field }, e.createElement(ne, { style: { input: n.input, label: n.label }, label: "b", value: this.props.rgb.b, onChange: this.handleChange })), e.createElement("div", { style: n.alpha }, e.createElement(ne, { style: { input: n.input, label: n.label }, label: "a", value: this.props.rgb.a, arrowOffset: .01, onChange: this.handleChange }))) : "hsl" === this.state.view && (r = e.createElement("div", { style: n.fields, className: "flexbox-fix" }, e.createElement("div", { style: n.field }, e.createElement(ne, { style: { input: n.input, label: n.label }, label: "h", value: Math.round(this.props.hsl.h), onChange: this.handleChange })), e.createElement("div", { style: n.field }, e.createElement(ne, { style: { input: n.input, label: n.label }, label: "s", value: Math.round(100 * this.props.hsl.s) + "%", onChange: this.handleChange })), e.createElement("div", { style: n.field }, e.createElement(ne, { style: { input: n.input, label: n.label }, label: "l", value: Math.round(100 * this.props.hsl.l) + "%", onChange: this.handleChange })), e.createElement("div", { style: n.alpha }, e.createElement(ne, { style: { input: n.input, label: n.label }, label: "a", value: this.props.hsl.a, arrowOffset: .01, onChange: this.handleChange })))), e.createElement("div", { style: n.wrap, className: "flexbox-fix" }, r, e.createElement("div", { style: n.toggle }, e.createElement("div", { style: n.icon, onClick: this.toggleViews, ref: function (e) { return t.icon = e } }, e.createElement(ts.Z, { style: n.svg, onMouseOver: this.showHighlight, onMouseEnter: this.showHighlight, onMouseOut: this.hideHighlight })))) } }], [{ key: "getDerivedStateFromProps", value: function (e, t) { return 1 !== e.hsl.a && "hex" === t.view ? { view: "rgb" } : null } }]), n }(e.Component); rs.defaultProps = { view: "hex" }; var is = rs, os = function () { var t = (0, B.ZP)({ default: { picker: { width: "12px", height: "12px", borderRadius: "6px", transform: "translate(-6px, -1px)", backgroundColor: "rgb(248, 248, 248)", boxShadow: "0 1px 4px 0 rgba(0, 0, 0, 0.37)" } } }); return e.createElement("div", { style: t.picker }) }, as = function () { var t = (0, B.ZP)({ default: { picker: { width: "12px", height: "12px", borderRadius: "6px", boxShadow: "inset 0 0 0 1px #fff", transform: "translate(-6px, -6px)" } } }); return e.createElement("div", { style: t.picker }) }, ss = function (t) { var n = t.width, r = t.onChange, i = t.disableAlpha, o = t.rgb, a = t.hsl, s = t.hsv, l = t.hex, c = t.renderers, u = t.styles, h = void 0 === u ? {} : u, f = t.className, d = void 0 === f ? "" : f, p = t.defaultView, g = (0, B.ZP)(lr({ default: { picker: { width: n, background: "#fff", borderRadius: "2px", boxShadow: "0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)", boxSizing: "initial", fontFamily: "Menlo" }, saturation: { width: "100%", paddingBottom: "55%", position: "relative", borderRadius: "2px 2px 0 0", overflow: "hidden" }, Saturation: { radius: "2px 2px 0 0" }, body: { padding: "16px 16px 12px" }, controls: { display: "flex" }, color: { width: "32px" }, swatch: { marginTop: "6px", width: "16px", height: "16px", borderRadius: "8px", position: "relative", overflow: "hidden" }, active: { absolute: "0px 0px 0px 0px", borderRadius: "8px", boxShadow: "inset 0 0 0 1px rgba(0,0,0,.1)", background: "rgba(" + o.r + ", " + o.g + ", " + o.b + ", " + o.a + ")", zIndex: "2" }, toggles: { flex: "1" }, hue: { height: "10px", position: "relative", marginBottom: "8px" }, Hue: { radius: "2px" }, alpha: { height: "10px", position: "relative" }, Alpha: { radius: "2px" } }, disableAlpha: { color: { width: "22px" }, alpha: { display: "none" }, hue: { marginBottom: "0px" }, swatch: { width: "10px", height: "10px", marginTop: "0px" } } }, h), { disableAlpha: i }); return e.createElement("div", { style: g.picker, className: "chrome-picker " + d }, e.createElement("div", { style: g.saturation }, e.createElement(Dr, { style: g.Saturation, hsl: a, hsv: s, pointer: as, onChange: r })), e.createElement("div", { style: g.body }, e.createElement("div", { style: g.controls, className: "flexbox-fix" }, e.createElement("div", { style: g.color }, e.createElement("div", { style: g.swatch }, e.createElement("div", { style: g.active }), e.createElement(X, { renderers: c }))), e.createElement("div", { style: g.toggles }, e.createElement("div", { style: g.hue }, e.createElement(se, { style: g.Hue, hsl: a, pointer: os, onChange: r })), e.createElement("div", { style: g.alpha }, e.createElement(K, { style: g.Alpha, rgb: o, hsl: a, pointer: os, renderers: c, onChange: r })))), e.createElement(is, { rgb: o, hsl: a, hex: l, view: p, onChange: r, disableAlpha: i }))) }; ss.propTypes = { width: ce().oneOfType([ce().string, ce().number]), disableAlpha: ce().bool, styles: ce().object, defaultView: ce().oneOf(["hex", "rgb", "hsl"]) }, ss.defaultProps = { width: 225, disableAlpha: !1, styles: {} }; var ls = ji(ss), cs = function (t) { var n = t.color, r = t.onClick, i = void 0 === r ? function () { } : r, o = t.onSwatchHover, a = t.active, s = (0, B.ZP)({ default: { color: { background: n, width: "15px", height: "15px", float: "left", marginRight: "5px", marginBottom: "5px", position: "relative", cursor: "pointer" }, dot: { absolute: "5px 5px 5px 5px", background: Si(n), borderRadius: "50%", opacity: "0" } }, active: { dot: { opacity: "1" } }, "color-#FFFFFF": { color: { boxShadow: "inset 0 0 0 1px #ddd" }, dot: { background: "#000" } }, transparent: { dot: { background: "#000" } } }, { active: a, "color-#FFFFFF": "#FFFFFF" === n, transparent: "transparent" === n }); return e.createElement(Mi, { style: s.color, color: n, onClick: i, onHover: o, focusStyle: { boxShadow: "0 0 4px " + n } }, e.createElement("div", { style: s.dot })) }, us = function (t) { var n = t.hex, r = t.rgb, i = t.onChange, o = (0, B.ZP)({ default: { fields: { display: "flex", paddingBottom: "6px", paddingRight: "5px", position: "relative" }, active: { position: "absolute", top: "6px", left: "5px", height: "9px", width: "9px", background: n }, HEXwrap: { flex: "6", position: "relative" }, HEXinput: { width: "80%", padding: "0px", paddingLeft: "20%", border: "none", outline: "none", background: "none", fontSize: "12px", color: "#333", height: "16px" }, HEXlabel: { display: "none" }, RGBwrap: { flex: "3", position: "relative" }, RGBinput: { width: "70%", padding: "0px", paddingLeft: "30%", border: "none", outline: "none", background: "none", fontSize: "12px", color: "#333", height: "16px" }, RGBlabel: { position: "absolute", top: "3px", left: "0px", lineHeight: "16px", textTransform: "uppercase", fontSize: "12px", color: "#999" } } }), a = function (e, t) { e.r || e.g || e.b ? i({ r: e.r || r.r, g: e.g || r.g, b: e.b || r.b, source: "rgb" }, t) : i({ hex: e.hex, source: "hex" }, t) }; return e.createElement("div", { style: o.fields, className: "flexbox-fix" }, e.createElement("div", { style: o.active }), e.createElement(ne, { style: { wrap: o.HEXwrap, input: o.HEXinput, label: o.HEXlabel }, label: "hex", value: n, onChange: a }), e.createElement(ne, { style: { wrap: o.RGBwrap, input: o.RGBinput, label: o.RGBlabel }, label: "r", value: r.r, onChange: a }), e.createElement(ne, { style: { wrap: o.RGBwrap, input: o.RGBinput, label: o.RGBlabel }, label: "g", value: r.g, onChange: a }), e.createElement(ne, { style: { wrap: o.RGBwrap, input: o.RGBinput, label: o.RGBlabel }, label: "b", value: r.b, onChange: a })) }, hs = function (t) { var n = t.onChange, r = t.onSwatchHover, i = t.colors, o = t.hex, a = t.rgb, s = t.styles, l = void 0 === s ? {} : s, c = t.className, u = void 0 === c ? "" : c, h = (0, B.ZP)(lr({ default: { Compact: { background: "#f6f6f6", radius: "4px" }, compact: { paddingTop: "5px", paddingLeft: "5px", boxSizing: "initial", width: "240px" }, clear: { clear: "both" } } }, l)), f = function (e, t) { e.hex ? _i(e.hex) && n({ hex: e.hex, source: "hex" }, t) : n(e, t) }; return e.createElement(ur, { style: h.Compact, styles: l }, e.createElement("div", { style: h.compact, className: "compact-picker " + u }, e.createElement("div", null, Pa(i, (function (t) { return e.createElement(cs, { key: t, color: t, active: t.toLowerCase() === o, onClick: f, onSwatchHover: r }) })), e.createElement("div", { style: h.clear })), e.createElement(us, { hex: o, rgb: a, onChange: f }))) }; hs.propTypes = { colors: ce().arrayOf(ce().string), styles: ce().object }, hs.defaultProps = { colors: ["#4D4D4D", "#999999", "#FFFFFF", "#F44E3B", "#FE9200", "#FCDC00", "#DBDF00", "#A4DD00", "#68CCCA", "#73D8FF", "#AEA1FF", "#FDA1FF", "#333333", "#808080", "#cccccc", "#D33115", "#E27300", "#FCC400", "#B0BC00", "#68BC00", "#16A5A5", "#009CE0", "#7B64FF", "#FA28FF", "#000000", "#666666", "#B3B3B3", "#9F0500", "#C45100", "#FB9E00", "#808900", "#194D33", "#0C797D", "#0062B1", "#653294", "#AB149E"], styles: {} }; ji(hs); var fs = (0, B.tz)((function (t) { var n = t.hover, r = t.color, i = t.onClick, o = t.onSwatchHover, a = { position: "relative", zIndex: "2", outline: "2px solid #fff", boxShadow: "0 0 5px 2px rgba(0,0,0,0.25)" }, s = (0, B.ZP)({ default: { swatch: { width: "25px", height: "25px", fontSize: "0" } }, hover: { swatch: a } }, { hover: n }); return e.createElement("div", { style: s.swatch }, e.createElement(Mi, { color: r, onClick: i, onHover: o, focusStyle: a })) })), ds = function (t) { var n = t.width, r = t.colors, i = t.onChange, o = t.onSwatchHover, a = t.triangle, s = t.styles, l = void 0 === s ? {} : s, c = t.className, u = void 0 === c ? "" : c, h = (0, B.ZP)(lr({ default: { card: { width: n, background: "#fff", border: "1px solid rgba(0,0,0,0.2)", boxShadow: "0 3px 12px rgba(0,0,0,0.15)", borderRadius: "4px", position: "relative", padding: "5px", display: "flex", flexWrap: "wrap" }, triangle: { position: "absolute", border: "7px solid transparent", borderBottomColor: "#fff" }, triangleShadow: { position: "absolute", border: "8px solid transparent", borderBottomColor: "rgba(0,0,0,0.15)" } }, "hide-triangle": { triangle: { display: "none" }, triangleShadow: { display: "none" } }, "top-left-triangle": { triangle: { top: "-14px", left: "10px" }, triangleShadow: { top: "-16px", left: "9px" } }, "top-right-triangle": { triangle: { top: "-14px", right: "10px" }, triangleShadow: { top: "-16px", right: "9px" } }, "bottom-left-triangle": { triangle: { top: "35px", left: "10px", transform: "rotate(180deg)" }, triangleShadow: { top: "37px", left: "9px", transform: "rotate(180deg)" } }, "bottom-right-triangle": { triangle: { top: "35px", right: "10px", transform: "rotate(180deg)" }, triangleShadow: { top: "37px", right: "9px", transform: "rotate(180deg)" } } }, l), { "hide-triangle": "hide" === a, "top-left-triangle": "top-left" === a, "top-right-triangle": "top-right" === a, "bottom-left-triangle": "bottom-left" === a, "bottom-right-triangle": "bottom-right" === a }), f = function (e, t) { return i({ hex: e, source: "hex" }, t) }; return e.createElement("div", { style: h.card, className: "github-picker " + u }, e.createElement("div", { style: h.triangleShadow }), e.createElement("div", { style: h.triangle }), Pa(r, (function (t) { return e.createElement(fs, { color: t, key: t, onClick: f, onSwatchHover: o }) }))) }; ds.propTypes = { width: ce().oneOfType([ce().string, ce().number]), colors: ce().arrayOf(ce().string), triangle: ce().oneOf(["hide", "top-left", "top-right", "bottom-left", "bottom-right"]), styles: ce().object }, ds.defaultProps = { width: 200, colors: ["#B80000", "#DB3E00", "#FCCB00", "#008B02", "#006B76", "#1273DE", "#004DCF", "#5300EB", "#EB9694", "#FAD0C3", "#FEF3BD", "#C1E1C5", "#BEDADC", "#C4DEF6", "#BED3F3", "#D4C4FB"], triangle: "top-left", styles: {} }; ji(ds); var ps = function (t) { var n = t.direction, r = (0, B.ZP)({ default: { picker: { width: "18px", height: "18px", borderRadius: "50%", transform: "translate(-9px, -1px)", backgroundColor: "rgb(248, 248, 248)", boxShadow: "0 1px 4px 0 rgba(0, 0, 0, 0.37)" } }, vertical: { picker: { transform: "translate(-3px, -9px)" } } }, { vertical: "vertical" === n }); return e.createElement("div", { style: r.picker }) }, gs = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, vs = function (t) { var n = t.width, r = t.height, i = t.onChange, o = t.hsl, a = t.direction, s = t.pointer, l = t.styles, c = void 0 === l ? {} : l, u = t.className, h = void 0 === u ? "" : u, f = (0, B.ZP)(lr({ default: { picker: { position: "relative", width: n, height: r }, hue: { radius: "2px" } } }, c)); return e.createElement("div", { style: f.picker, className: "hue-picker " + h }, e.createElement(se, gs({}, f.hue, { hsl: o, pointer: s, onChange: function (e) { return i({ a: 1, h: e.h, l: .5, s: 1 }) }, direction: a }))) }; vs.propTypes = { styles: ce().object }, vs.defaultProps = { width: "316px", height: "16px", direction: "horizontal", pointer: ps, styles: {} }; ji(vs), ji((function (t) { var n = t.onChange, r = t.hex, i = t.rgb, o = t.styles, a = void 0 === o ? {} : o, s = t.className, l = void 0 === s ? "" : s, c = (0, B.ZP)(lr({ default: { material: { width: "98px", height: "98px", padding: "16px", fontFamily: "Roboto" }, HEXwrap: { position: "relative" }, HEXinput: { width: "100%", marginTop: "12px", fontSize: "15px", color: "#333", padding: "0px", border: "0px", borderBottom: "2px solid " + r, outline: "none", height: "30px" }, HEXlabel: { position: "absolute", top: "0px", left: "0px", fontSize: "11px", color: "#999999", textTransform: "capitalize" }, Hex: { style: {} }, RGBwrap: { position: "relative" }, RGBinput: { width: "100%", marginTop: "12px", fontSize: "15px", color: "#333", padding: "0px", border: "0px", borderBottom: "1px solid #eee", outline: "none", height: "30px" }, RGBlabel: { position: "absolute", top: "0px", left: "0px", fontSize: "11px", color: "#999999", textTransform: "capitalize" }, split: { display: "flex", marginRight: "-10px", paddingTop: "11px" }, third: { flex: "1", paddingRight: "10px" } } }, a)), u = function (e, t) { e.hex ? _i(e.hex) && n({ hex: e.hex, source: "hex" }, t) : (e.r || e.g || e.b) && n({ r: e.r || i.r, g: e.g || i.g, b: e.b || i.b, source: "rgb" }, t) }; return e.createElement(ur, { styles: a }, e.createElement("div", { style: c.material, className: "material-picker " + l }, e.createElement(ne, { style: { wrap: c.HEXwrap, input: c.HEXinput, label: c.HEXlabel }, label: "hex", value: r, onChange: u }), e.createElement("div", { style: c.split, className: "flexbox-fix" }, e.createElement("div", { style: c.third }, e.createElement(ne, { style: { wrap: c.RGBwrap, input: c.RGBinput, label: c.RGBlabel }, label: "r", value: i.r, onChange: u })), e.createElement("div", { style: c.third }, e.createElement(ne, { style: { wrap: c.RGBwrap, input: c.RGBinput, label: c.RGBlabel }, label: "g", value: i.g, onChange: u })), e.createElement("div", { style: c.third }, e.createElement(ne, { style: { wrap: c.RGBwrap, input: c.RGBinput, label: c.RGBlabel }, label: "b", value: i.b, onChange: u }))))) })); var ms = function (t) { var n = t.onChange, r = t.rgb, i = t.hsv, o = t.hex, a = (0, B.ZP)({ default: { fields: { paddingTop: "5px", paddingBottom: "9px", width: "80px", position: "relative" }, divider: { height: "5px" }, RGBwrap: { position: "relative" }, RGBinput: { marginLeft: "40%", width: "40%", height: "18px", border: "1px solid #888888", boxShadow: "inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC", marginBottom: "5px", fontSize: "13px", paddingLeft: "3px", marginRight: "10px" }, RGBlabel: { left: "0px", top: "0px", width: "34px", textTransform: "uppercase", fontSize: "13px", height: "18px", lineHeight: "22px", position: "absolute" }, HEXwrap: { position: "relative" }, HEXinput: { marginLeft: "20%", width: "80%", height: "18px", border: "1px solid #888888", boxShadow: "inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC", marginBottom: "6px", fontSize: "13px", paddingLeft: "3px" }, HEXlabel: { position: "absolute", top: "0px", left: "0px", width: "14px", textTransform: "uppercase", fontSize: "13px", height: "18px", lineHeight: "22px" }, fieldSymbols: { position: "absolute", top: "5px", right: "-7px", fontSize: "13px" }, symbol: { height: "20px", lineHeight: "22px", paddingBottom: "7px" } } }), s = function (e, t) { e["#"] ? _i(e["#"]) && n({ hex: e["#"], source: "hex" }, t) : e.r || e.g || e.b ? n({ r: e.r || r.r, g: e.g || r.g, b: e.b || r.b, source: "rgb" }, t) : (e.h || e.s || e.v) && n({ h: e.h || i.h, s: e.s || i.s, v: e.v || i.v, source: "hsv" }, t) }; return e.createElement("div", { style: a.fields }, e.createElement(ne, { style: { wrap: a.RGBwrap, input: a.RGBinput, label: a.RGBlabel }, label: "h", value: Math.round(i.h), onChange: s }), e.createElement(ne, { style: { wrap: a.RGBwrap, input: a.RGBinput, label: a.RGBlabel }, label: "s", value: Math.round(100 * i.s), onChange: s }), e.createElement(ne, { style: { wrap: a.RGBwrap, input: a.RGBinput, label: a.RGBlabel }, label: "v", value: Math.round(100 * i.v), onChange: s }), e.createElement("div", { style: a.divider }), e.createElement(ne, { style: { wrap: a.RGBwrap, input: a.RGBinput, label: a.RGBlabel }, label: "r", value: r.r, onChange: s }), e.createElement(ne, { style: { wrap: a.RGBwrap, input: a.RGBinput, label: a.RGBlabel }, label: "g", value: r.g, onChange: s }), e.createElement(ne, { style: { wrap: a.RGBwrap, input: a.RGBinput, label: a.RGBlabel }, label: "b", value: r.b, onChange: s }), e.createElement("div", { style: a.divider }), e.createElement(ne, { style: { wrap: a.HEXwrap, input: a.HEXinput, label: a.HEXlabel }, label: "#", value: o.replace("#", ""), onChange: s }), e.createElement("div", { style: a.fieldSymbols }, e.createElement("div", { style: a.symbol }, "\xb0"), e.createElement("div", { style: a.symbol }, "%"), e.createElement("div", { style: a.symbol }, "%"))) }, bs = function (t) { var n = t.hsl, r = (0, B.ZP)({ default: { picker: { width: "12px", height: "12px", borderRadius: "6px", boxShadow: "inset 0 0 0 1px #fff", transform: "translate(-6px, -6px)" } }, "black-outline": { picker: { boxShadow: "inset 0 0 0 1px #000" } } }, { "black-outline": n.l > .5 }); return e.createElement("div", { style: r.picker }) }, ys = function () { var t = (0, B.ZP)({ default: { triangle: { width: 0, height: 0, borderStyle: "solid", borderWidth: "4px 0 4px 6px", borderColor: "transparent transparent transparent #fff", position: "absolute", top: "1px", left: "1px" }, triangleBorder: { width: 0, height: 0, borderStyle: "solid", borderWidth: "5px 0 5px 8px", borderColor: "transparent transparent transparent #555" }, left: { Extend: "triangleBorder", transform: "translate(-13px, -4px)" }, leftInside: { Extend: "triangle", transform: "translate(-8px, -5px)" }, right: { Extend: "triangleBorder", transform: "translate(20px, -14px) rotate(180deg)" }, rightInside: { Extend: "triangle", transform: "translate(-8px, -5px)" } } }); return e.createElement("div", { style: t.pointer }, e.createElement("div", { style: t.left }, e.createElement("div", { style: t.leftInside })), e.createElement("div", { style: t.right }, e.createElement("div", { style: t.rightInside }))) }, xs = function (t) { var n = t.onClick, r = t.label, i = t.children, o = t.active, a = (0, B.ZP)({ default: { button: { backgroundImage: "linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)", border: "1px solid #878787", borderRadius: "2px", height: "20px", boxShadow: "0 1px 0 0 #EAEAEA", fontSize: "14px", color: "#000", lineHeight: "20px", textAlign: "center", marginBottom: "10px", cursor: "pointer" } }, active: { button: { boxShadow: "0 0 0 1px #878787" } } }, { active: o }); return e.createElement("div", { style: a.button, onClick: n }, r || i) }, ws = function (t) { var n = t.rgb, r = t.currentColor, i = (0, B.ZP)({ default: { swatches: { border: "1px solid #B3B3B3", borderBottom: "1px solid #F0F0F0", marginBottom: "2px", marginTop: "1px" }, new: { height: "34px", background: "rgb(" + n.r + "," + n.g + ", " + n.b + ")", boxShadow: "inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000" }, current: { height: "34px", background: r, boxShadow: "inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000" }, label: { fontSize: "14px", color: "#000", textAlign: "center" } } }); return e.createElement("div", null, e.createElement("div", { style: i.label }, "new"), e.createElement("div", { style: i.swatches }, e.createElement("div", { style: i.new }), e.createElement("div", { style: i.current })), e.createElement("div", { style: i.label }, "current")) }, _s = function () { function e(e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } } return function (t, n, r) { return n && e(t.prototype, n), r && e(t, r), t } }(); var Ss = function (t) { function n(e) { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, n); var t = function (e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" !== typeof t && "function" !== typeof t ? e : t }(this, (n.__proto__ || Object.getPrototypeOf(n)).call(this)); return t.state = { currentColor: e.hex }, t } return function (e, t) { if ("function" !== typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(n, t), _s(n, [{ key: "render", value: function () { var t = this.props, n = t.styles, r = void 0 === n ? {} : n, i = t.className, o = void 0 === i ? "" : i, a = (0, B.ZP)(lr({ default: { picker: { background: "#DCDCDC", borderRadius: "4px", boxShadow: "0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)", boxSizing: "initial", width: "513px" }, head: { backgroundImage: "linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)", borderBottom: "1px solid #B1B1B1", boxShadow: "inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)", height: "23px", lineHeight: "24px", borderRadius: "4px 4px 0 0", fontSize: "13px", color: "#4D4D4D", textAlign: "center" }, body: { padding: "15px 15px 0", display: "flex" }, saturation: { width: "256px", height: "256px", position: "relative", border: "2px solid #B3B3B3", borderBottom: "2px solid #F0F0F0", overflow: "hidden" }, hue: { position: "relative", height: "256px", width: "19px", marginLeft: "10px", border: "2px solid #B3B3B3", borderBottom: "2px solid #F0F0F0" }, controls: { width: "180px", marginLeft: "10px" }, top: { display: "flex" }, previews: { width: "60px" }, actions: { flex: "1", marginLeft: "20px" } } }, r)); return e.createElement("div", { style: a.picker, className: "photoshop-picker " + o }, e.createElement("div", { style: a.head }, this.props.header), e.createElement("div", { style: a.body, className: "flexbox-fix" }, e.createElement("div", { style: a.saturation }, e.createElement(Dr, { hsl: this.props.hsl, hsv: this.props.hsv, pointer: bs, onChange: this.props.onChange })), e.createElement("div", { style: a.hue }, e.createElement(se, { direction: "vertical", hsl: this.props.hsl, pointer: ys, onChange: this.props.onChange })), e.createElement("div", { style: a.controls }, e.createElement("div", { style: a.top, className: "flexbox-fix" }, e.createElement("div", { style: a.previews }, e.createElement(ws, { rgb: this.props.rgb, currentColor: this.state.currentColor })), e.createElement("div", { style: a.actions }, e.createElement(xs, { label: "OK", onClick: this.props.onAccept, active: !0 }), e.createElement(xs, { label: "Cancel", onClick: this.props.onCancel }), e.createElement(ms, { onChange: this.props.onChange, rgb: this.props.rgb, hsv: this.props.hsv, hex: this.props.hex })))))) } }]), n }(e.Component); Ss.propTypes = { header: ce().string, styles: ce().object }, Ss.defaultProps = { header: "Color Picker", styles: {} }; ji(Ss); var Cs = function (t) { var n = t.onChange, r = t.rgb, i = t.hsl, o = t.hex, a = t.disableAlpha, s = (0, B.ZP)({ default: { fields: { display: "flex", paddingTop: "4px" }, single: { flex: "1", paddingLeft: "6px" }, alpha: { flex: "1", paddingLeft: "6px" }, double: { flex: "2" }, input: { width: "80%", padding: "4px 10% 3px", border: "none", boxShadow: "inset 0 0 0 1px #ccc", fontSize: "11px" }, label: { display: "block", textAlign: "center", fontSize: "11px", color: "#222", paddingTop: "3px", paddingBottom: "4px", textTransform: "capitalize" } }, disableAlpha: { alpha: { display: "none" } } }, { disableAlpha: a }), l = function (e, t) { e.hex ? _i(e.hex) && n({ hex: e.hex, source: "hex" }, t) : e.r || e.g || e.b ? n({ r: e.r || r.r, g: e.g || r.g, b: e.b || r.b, a: r.a, source: "rgb" }, t) : e.a && (e.a < 0 ? e.a = 0 : e.a > 100 && (e.a = 100), e.a /= 100, n({ h: i.h, s: i.s, l: i.l, a: e.a, source: "rgb" }, t)) }; return e.createElement("div", { style: s.fields, className: "flexbox-fix" }, e.createElement("div", { style: s.double }, e.createElement(ne, { style: { input: s.input, label: s.label }, label: "hex", value: o.replace("#", ""), onChange: l })), e.createElement("div", { style: s.single }, e.createElement(ne, { style: { input: s.input, label: s.label }, label: "r", value: r.r, onChange: l, dragLabel: "true", dragMax: "255" })), e.createElement("div", { style: s.single }, e.createElement(ne, { style: { input: s.input, label: s.label }, label: "g", value: r.g, onChange: l, dragLabel: "true", dragMax: "255" })), e.createElement("div", { style: s.single }, e.createElement(ne, { style: { input: s.input, label: s.label }, label: "b", value: r.b, onChange: l, dragLabel: "true", dragMax: "255" })), e.createElement("div", { style: s.alpha }, e.createElement(ne, { style: { input: s.input, label: s.label }, label: "a", value: Math.round(100 * r.a), onChange: l, dragLabel: "true", dragMax: "100" }))) }, Os = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, ks = function (t) { var n = t.colors, r = t.onClick, i = void 0 === r ? function () { } : r, o = t.onSwatchHover, a = (0, B.ZP)({ default: { colors: { margin: "0 -10px", padding: "10px 0 0 10px", borderTop: "1px solid #eee", display: "flex", flexWrap: "wrap", position: "relative" }, swatchWrap: { width: "16px", height: "16px", margin: "0 10px 10px 0" }, swatch: { borderRadius: "3px", boxShadow: "inset 0 0 0 1px rgba(0,0,0,.15)" } }, "no-presets": { colors: { display: "none" } } }, { "no-presets": !n || !n.length }), s = function (e, t) { i({ hex: e, source: "hex" }, t) }; return e.createElement("div", { style: a.colors, className: "flexbox-fix" }, n.map((function (t) { var n = "string" === typeof t ? { color: t } : t, r = "" + n.color + (n.title || ""); return e.createElement("div", { key: r, style: a.swatchWrap }, e.createElement(Mi, Os({}, n, { style: a.swatch, onClick: s, onHover: o, focusStyle: { boxShadow: "inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px " + n.color } }))) }))) }; ks.propTypes = { colors: ce().arrayOf(ce().oneOfType([ce().string, ce().shape({ color: ce().string, title: ce().string })])).isRequired }; var js = ks, Es = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Ts = function (t) { var n = t.width, r = t.rgb, i = t.hex, o = t.hsv, a = t.hsl, s = t.onChange, l = t.onSwatchHover, c = t.disableAlpha, u = t.presetColors, h = t.renderers, f = t.styles, d = void 0 === f ? {} : f, p = t.className, g = void 0 === p ? "" : p, v = (0, B.ZP)(lr({ default: Es({ picker: { width: n, padding: "10px 10px 0", boxSizing: "initial", background: "#fff", borderRadius: "4px", boxShadow: "0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)" }, saturation: { width: "100%", paddingBottom: "75%", position: "relative", overflow: "hidden" }, Saturation: { radius: "3px", shadow: "inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)" }, controls: { display: "flex" }, sliders: { padding: "4px 0", flex: "1" }, color: { width: "24px", height: "24px", position: "relative", marginTop: "4px", marginLeft: "4px", borderRadius: "3px" }, activeColor: { absolute: "0px 0px 0px 0px", borderRadius: "2px", background: "rgba(" + r.r + "," + r.g + "," + r.b + "," + r.a + ")", boxShadow: "inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)" }, hue: { position: "relative", height: "10px", overflow: "hidden" }, Hue: { radius: "2px", shadow: "inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)" }, alpha: { position: "relative", height: "10px", marginTop: "4px", overflow: "hidden" }, Alpha: { radius: "2px", shadow: "inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)" } }, d), disableAlpha: { color: { height: "10px" }, hue: { height: "10px" }, alpha: { display: "none" } } }, d), { disableAlpha: c }); return e.createElement("div", { style: v.picker, className: "sketch-picker " + g }, e.createElement("div", { style: v.saturation }, e.createElement(Dr, { style: v.Saturation, hsl: a, hsv: o, onChange: s })), e.createElement("div", { style: v.controls, className: "flexbox-fix" }, e.createElement("div", { style: v.sliders }, e.createElement("div", { style: v.hue }, e.createElement(se, { style: v.Hue, hsl: a, onChange: s })), e.createElement("div", { style: v.alpha }, e.createElement(K, { style: v.Alpha, rgb: r, hsl: a, renderers: h, onChange: s }))), e.createElement("div", { style: v.color }, e.createElement(X, null), e.createElement("div", { style: v.activeColor }))), e.createElement(Cs, { rgb: r, hsl: a, hex: i, onChange: s, disableAlpha: c }), e.createElement(js, { colors: u, onClick: s, onSwatchHover: l })) }; Ts.propTypes = { disableAlpha: ce().bool, width: ce().oneOfType([ce().string, ce().number]), styles: ce().object }, Ts.defaultProps = { disableAlpha: !1, width: 200, styles: {}, presetColors: ["#D0021B", "#F5A623", "#F8E71C", "#8B572A", "#7ED321", "#417505", "#BD10E0", "#9013FE", "#4A90E2", "#50E3C2", "#B8E986", "#000000", "#4A4A4A", "#9B9B9B", "#FFFFFF"] }; ji(Ts); var Ps = function (t) { var n = t.hsl, r = t.offset, i = t.onClick, o = void 0 === i ? function () { } : i, a = t.active, s = t.first, l = t.last, c = (0, B.ZP)({ default: { swatch: { height: "12px", background: "hsl(" + n.h + ", 50%, " + 100 * r + "%)", cursor: "pointer" } }, first: { swatch: { borderRadius: "2px 0 0 2px" } }, last: { swatch: { borderRadius: "0 2px 2px 0" } }, active: { swatch: { transform: "scaleY(1.8)", borderRadius: "3.6px/2px" } } }, { active: a, first: s, last: l }); return e.createElement("div", { style: c.swatch, onClick: function (e) { return o({ h: n.h, s: .5, l: r, source: "hsl" }, e) } }) }, As = function (t) { var n = t.onClick, r = t.hsl, i = (0, B.ZP)({ default: { swatches: { marginTop: "20px" }, swatch: { boxSizing: "border-box", width: "20%", paddingRight: "1px", float: "left" }, clear: { clear: "both" } } }), o = .1; return e.createElement("div", { style: i.swatches }, e.createElement("div", { style: i.swatch }, e.createElement(Ps, { hsl: r, offset: ".80", active: Math.abs(r.l - .8) < o && Math.abs(r.s - .5) < o, onClick: n, first: !0 })), e.createElement("div", { style: i.swatch }, e.createElement(Ps, { hsl: r, offset: ".65", active: Math.abs(r.l - .65) < o && Math.abs(r.s - .5) < o, onClick: n })), e.createElement("div", { style: i.swatch }, e.createElement(Ps, { hsl: r, offset: ".50", active: Math.abs(r.l - .5) < o && Math.abs(r.s - .5) < o, onClick: n })), e.createElement("div", { style: i.swatch }, e.createElement(Ps, { hsl: r, offset: ".35", active: Math.abs(r.l - .35) < o && Math.abs(r.s - .5) < o, onClick: n })), e.createElement("div", { style: i.swatch }, e.createElement(Ps, { hsl: r, offset: ".20", active: Math.abs(r.l - .2) < o && Math.abs(r.s - .5) < o, onClick: n, last: !0 })), e.createElement("div", { style: i.clear })) }, Ms = function () { var t = (0, B.ZP)({ default: { picker: { width: "14px", height: "14px", borderRadius: "6px", transform: "translate(-7px, -1px)", backgroundColor: "rgb(248, 248, 248)", boxShadow: "0 1px 4px 0 rgba(0, 0, 0, 0.37)" } } }); return e.createElement("div", { style: t.picker }) }, Ds = function (t) { var n = t.hsl, r = t.onChange, i = t.pointer, o = t.styles, a = void 0 === o ? {} : o, s = t.className, l = void 0 === s ? "" : s, c = (0, B.ZP)(lr({ default: { hue: { height: "12px", position: "relative" }, Hue: { radius: "2px" } } }, a)); return e.createElement("div", { style: c.wrap || {}, className: "slider-picker " + l }, e.createElement("div", { style: c.hue }, e.createElement(se, { style: c.Hue, hsl: n, pointer: i, onChange: r })), e.createElement("div", { style: c.swatches }, e.createElement(As, { hsl: n, onClick: r }))) }; Ds.propTypes = { styles: ce().object }, Ds.defaultProps = { pointer: Ms, styles: {} }; ji(Ds); var Is = n(2504), Ls = function (t) { var n = t.color, r = t.onClick, i = void 0 === r ? function () { } : r, o = t.onSwatchHover, a = t.first, s = t.last, l = t.active, c = (0, B.ZP)({ default: { color: { width: "40px", height: "24px", cursor: "pointer", background: n, marginBottom: "1px" }, check: { color: Si(n), marginLeft: "8px", display: "none" } }, first: { color: { overflow: "hidden", borderRadius: "2px 2px 0 0" } }, last: { color: { overflow: "hidden", borderRadius: "0 0 2px 2px" } }, active: { check: { display: "block" } }, "color-#FFFFFF": { color: { boxShadow: "inset 0 0 0 1px #ddd" }, check: { color: "#333" } }, transparent: { check: { color: "#333" } } }, { first: a, last: s, active: l, "color-#FFFFFF": "#FFFFFF" === n, transparent: "transparent" === n }); return e.createElement(Mi, { color: n, style: c.color, onClick: i, onHover: o, focusStyle: { boxShadow: "0 0 4px " + n } }, e.createElement("div", { style: c.check }, e.createElement(Is.Z, null))) }, Fs = function (t) { var n = t.onClick, r = t.onSwatchHover, i = t.group, o = t.active, a = (0, B.ZP)({ default: { group: { paddingBottom: "10px", width: "40px", float: "left", marginRight: "10px" } } }); return e.createElement("div", { style: a.group }, Pa(i, (function (t, a) { return e.createElement(Ls, { key: t, color: t, active: t.toLowerCase() === o, first: 0 === a, last: a === i.length - 1, onClick: n, onSwatchHover: r }) }))) }, Rs = function (t) { var n = t.width, r = t.height, i = t.onChange, o = t.onSwatchHover, a = t.colors, s = t.hex, l = t.styles, c = void 0 === l ? {} : l, u = t.className, h = void 0 === u ? "" : u, f = (0, B.ZP)(lr({ default: { picker: { width: n, height: r }, overflow: { height: r, overflowY: "scroll" }, body: { padding: "16px 0 6px 16px" }, clear: { clear: "both" } } }, c)), d = function (e, t) { return i({ hex: e, source: "hex" }, t) }; return e.createElement("div", { style: f.picker, className: "swatches-picker " + h }, e.createElement(ur, null, e.createElement("div", { style: f.overflow }, e.createElement("div", { style: f.body }, Pa(a, (function (t) { return e.createElement(Fs, { key: t.toString(), group: t, active: s, onClick: d, onSwatchHover: o }) })), e.createElement("div", { style: f.clear }))))) }; Rs.propTypes = { width: ce().oneOfType([ce().string, ce().number]), height: ce().oneOfType([ce().string, ce().number]), colors: ce().arrayOf(ce().arrayOf(ce().string)), styles: ce().object }, Rs.defaultProps = { width: 320, height: 240, colors: [[Da[900], Da[700], Da[500], Da[300], Da[100]], [Ia[900], Ia[700], Ia[500], Ia[300], Ia[100]], [La[900], La[700], La[500], La[300], La[100]], [Fa[900], Fa[700], Fa[500], Fa[300], Fa[100]], [Ra[900], Ra[700], Ra[500], Ra[300], Ra[100]], [Ba[900], Ba[700], Ba[500], Ba[300], Ba[100]], [Na[900], Na[700], Na[500], Na[300], Na[100]], [za[900], za[700], za[500], za[300], za[100]], [Wa[900], Wa[700], Wa[500], Wa[300], Wa[100]], ["#194D33", Ha[700], Ha[500], Ha[300], Ha[100]], [Ua[900], Ua[700], Ua[500], Ua[300], Ua[100]], [Xa[900], Xa[700], Xa[500], Xa[300], Xa[100]], [Va[900], Va[700], Va[500], Va[300], Va[100]], [Ga[900], Ga[700], Ga[500], Ga[300], Ga[100]], [Ya[900], Ya[700], Ya[500], Ya[300], Ya[100]], [qa[900], qa[700], qa[500], qa[300], qa[100]], [Ka[900], Ka[700], Ka[500], Ka[300], Ka[100]], [$a[900], $a[700], $a[500], $a[300], $a[100]], ["#000000", "#525252", "#969696", "#D9D9D9", "#FFFFFF"]], styles: {} }; ji(Rs); var Bs = function (t) { var n = t.onChange, r = t.onSwatchHover, i = t.hex, o = t.colors, a = t.width, s = t.triangle, l = t.styles, c = void 0 === l ? {} : l, u = t.className, h = void 0 === u ? "" : u, f = (0, B.ZP)(lr({ default: { card: { width: a, background: "#fff", border: "0 solid rgba(0,0,0,0.25)", boxShadow: "0 1px 4px rgba(0,0,0,0.25)", borderRadius: "4px", position: "relative" }, body: { padding: "15px 9px 9px 15px" }, label: { fontSize: "18px", color: "#fff" }, triangle: { width: "0px", height: "0px", borderStyle: "solid", borderWidth: "0 9px 10px 9px", borderColor: "transparent transparent #fff transparent", position: "absolute" }, triangleShadow: { width: "0px", height: "0px", borderStyle: "solid", borderWidth: "0 9px 10px 9px", borderColor: "transparent transparent rgba(0,0,0,.1) transparent", position: "absolute" }, hash: { background: "#F0F0F0", height: "30px", width: "30px", borderRadius: "4px 0 0 4px", float: "left", color: "#98A1A4", display: "flex", alignItems: "center", justifyContent: "center" }, input: { width: "100px", fontSize: "14px", color: "#666", border: "0px", outline: "none", height: "28px", boxShadow: "inset 0 0 0 1px #F0F0F0", boxSizing: "content-box", borderRadius: "0 4px 4px 0", float: "left", paddingLeft: "8px" }, swatch: { width: "30px", height: "30px", float: "left", borderRadius: "4px", margin: "0 6px 6px 0" }, clear: { clear: "both" } }, "hide-triangle": { triangle: { display: "none" }, triangleShadow: { display: "none" } }, "top-left-triangle": { triangle: { top: "-10px", left: "12px" }, triangleShadow: { top: "-11px", left: "12px" } }, "top-right-triangle": { triangle: { top: "-10px", right: "12px" }, triangleShadow: { top: "-11px", right: "12px" } } }, c), { "hide-triangle": "hide" === s, "top-left-triangle": "top-left" === s, "top-right-triangle": "top-right" === s }), d = function (e, t) { _i(e) && n({ hex: e, source: "hex" }, t) }; return e.createElement("div", { style: f.card, className: "twitter-picker " + h }, e.createElement("div", { style: f.triangleShadow }), e.createElement("div", { style: f.triangle }), e.createElement("div", { style: f.body }, Pa(o, (function (t, n) { return e.createElement(Mi, { key: n, color: t, hex: t, style: f.swatch, onClick: d, onHover: r, focusStyle: { boxShadow: "0 0 4px " + t } }) })), e.createElement("div", { style: f.hash }, "#"), e.createElement(ne, { label: null, style: { input: f.input }, value: i.replace("#", ""), onChange: d }), e.createElement("div", { style: f.clear }))) }; Bs.propTypes = { width: ce().oneOfType([ce().string, ce().number]), triangle: ce().oneOf(["hide", "top-left", "top-right"]), colors: ce().arrayOf(ce().string), styles: ce().object }, Bs.defaultProps = { width: 276, colors: ["#FF6900", "#FCB900", "#7BDCB5", "#00D084", "#8ED1FC", "#0693E3", "#ABB8C3", "#EB144C", "#F78DA7", "#9900EF"], triangle: "top-left", styles: {} }; ji(Bs); var Ns = function (t) { var n = (0, B.ZP)({ default: { picker: { width: "20px", height: "20px", borderRadius: "22px", border: "2px #fff solid", transform: "translate(-12px, -13px)", background: "hsl(" + Math.round(t.hsl.h) + ", " + Math.round(100 * t.hsl.s) + "%, " + Math.round(100 * t.hsl.l) + "%)" } } }); return e.createElement("div", { style: n.picker }) }; Ns.propTypes = { hsl: ce().shape({ h: ce().number, s: ce().number, l: ce().number, a: ce().number }) }, Ns.defaultProps = { hsl: { a: 1, h: 249.94, l: .2, s: .5 } }; var zs = Ns, Ws = function (t) { var n = (0, B.ZP)({ default: { picker: { width: "20px", height: "20px", borderRadius: "22px", transform: "translate(-10px, -7px)", background: "hsl(" + Math.round(t.hsl.h) + ", 100%, 50%)", border: "2px white solid" } } }); return e.createElement("div", { style: n.picker }) }; Ws.propTypes = { hsl: ce().shape({ h: ce().number, s: ce().number, l: ce().number, a: ce().number }) }, Ws.defaultProps = { hsl: { a: 1, h: 249.94, l: .2, s: .5 } }; var Hs = Ws, Us = function (t) { var n = t.onChange, r = t.rgb, i = t.hsl, o = t.hex, a = t.hsv, s = function (e, t) { if (e.hex) _i(e.hex) && n({ hex: e.hex, source: "hex" }, t); else if (e.rgb) { var r = e.rgb.split(","); Ci(e.rgb, "rgb") && n({ r: r[0], g: r[1], b: r[2], a: 1, source: "rgb" }, t) } else if (e.hsv) { var i = e.hsv.split(","); Ci(e.hsv, "hsv") && (i[2] = i[2].replace("%", ""), i[1] = i[1].replace("%", ""), i[0] = i[0].replace("\xb0", ""), 1 == i[1] ? i[1] = .01 : 1 == i[2] && (i[2] = .01), n({ h: Number(i[0]), s: Number(i[1]), v: Number(i[2]), source: "hsv" }, t)) } else if (e.hsl) { var o = e.hsl.split(","); Ci(e.hsl, "hsl") && (o[2] = o[2].replace("%", ""), o[1] = o[1].replace("%", ""), o[0] = o[0].replace("\xb0", ""), 1 == h[1] ? h[1] = .01 : 1 == h[2] && (h[2] = .01), n({ h: Number(o[0]), s: Number(o[1]), v: Number(o[2]), source: "hsl" }, t)) } }, l = (0, B.ZP)({ default: { wrap: { display: "flex", height: "100px", marginTop: "4px" }, fields: { width: "100%" }, column: { paddingTop: "10px", display: "flex", justifyContent: "space-between" }, double: { padding: "0px 4.4px", boxSizing: "border-box" }, input: { width: "100%", height: "38px", boxSizing: "border-box", padding: "4px 10% 3px", textAlign: "center", border: "1px solid #dadce0", fontSize: "11px", textTransform: "lowercase", borderRadius: "5px", outline: "none", fontFamily: "Roboto,Arial,sans-serif" }, input2: { height: "38px", width: "100%", border: "1px solid #dadce0", boxSizing: "border-box", fontSize: "11px", textTransform: "lowercase", borderRadius: "5px", outline: "none", paddingLeft: "10px", fontFamily: "Roboto,Arial,sans-serif" }, label: { textAlign: "center", fontSize: "12px", background: "#fff", position: "absolute", textTransform: "uppercase", color: "#3c4043", width: "35px", top: "-6px", left: "0", right: "0", marginLeft: "auto", marginRight: "auto", fontFamily: "Roboto,Arial,sans-serif" }, label2: { left: "10px", textAlign: "center", fontSize: "12px", background: "#fff", position: "absolute", textTransform: "uppercase", color: "#3c4043", width: "32px", top: "-6px", fontFamily: "Roboto,Arial,sans-serif" }, single: { flexGrow: "1", margin: "0px 4.4px" } } }), c = r.r + ", " + r.g + ", " + r.b, u = Math.round(i.h) + "\xb0, " + Math.round(100 * i.s) + "%, " + Math.round(100 * i.l) + "%", h = Math.round(a.h) + "\xb0, " + Math.round(100 * a.s) + "%, " + Math.round(100 * a.v) + "%"; return e.createElement("div", { style: l.wrap, className: "flexbox-fix" }, e.createElement("div", { style: l.fields }, e.createElement("div", { style: l.double }, e.createElement(ne, { style: { input: l.input, label: l.label }, label: "hex", value: o, onChange: s })), e.createElement("div", { style: l.column }, e.createElement("div", { style: l.single }, e.createElement(ne, { style: { input: l.input2, label: l.label2 }, label: "rgb", value: c, onChange: s })), e.createElement("div", { style: l.single }, e.createElement(ne, { style: { input: l.input2, label: l.label2 }, label: "hsv", value: h, onChange: s })), e.createElement("div", { style: l.single }, e.createElement(ne, { style: { input: l.input2, label: l.label2 }, label: "hsl", value: u, onChange: s }))))) }, Xs = function (t) { var n = t.width, r = t.onChange, i = t.rgb, o = t.hsl, a = t.hsv, s = t.hex, l = t.header, c = t.styles, u = void 0 === c ? {} : c, h = t.className, f = void 0 === h ? "" : h, d = (0, B.ZP)(lr({ default: { picker: { width: n, background: "#fff", border: "1px solid #dfe1e5", boxSizing: "initial", display: "flex", flexWrap: "wrap", borderRadius: "8px 8px 0px 0px" }, head: { height: "57px", width: "100%", paddingTop: "16px", paddingBottom: "16px", paddingLeft: "16px", fontSize: "20px", boxSizing: "border-box", fontFamily: "Roboto-Regular,HelveticaNeue,Arial,sans-serif" }, saturation: { width: "70%", padding: "0px", position: "relative", overflow: "hidden" }, swatch: { width: "30%", height: "228px", padding: "0px", background: "rgba(" + i.r + ", " + i.g + ", " + i.b + ", 1)", position: "relative", overflow: "hidden" }, body: { margin: "auto", width: "95%" }, controls: { display: "flex", boxSizing: "border-box", height: "52px", paddingTop: "22px" }, color: { width: "32px" }, hue: { height: "8px", position: "relative", margin: "0px 16px 0px 16px", width: "100%" }, Hue: { radius: "2px" } } }, u)); return e.createElement("div", { style: d.picker, className: "google-picker " + f }, e.createElement("div", { style: d.head }, l), e.createElement("div", { style: d.swatch }), e.createElement("div", { style: d.saturation }, e.createElement(Dr, { hsl: o, hsv: a, pointer: zs, onChange: r })), e.createElement("div", { style: d.body }, e.createElement("div", { style: d.controls, className: "flexbox-fix" }, e.createElement("div", { style: d.hue }, e.createElement(se, { style: d.Hue, hsl: o, radius: "4px", pointer: Hs, onChange: r }))), e.createElement(Us, { rgb: i, hsl: o, hex: s, hsv: a, onChange: r }))) }; Xs.propTypes = { width: ce().oneOfType([ce().string, ce().number]), styles: ce().object, header: ce().string }, Xs.defaultProps = { width: 652, styles: {}, header: "Color picker" }; ji(Xs); var Vs, Gs = function (e) { if (!e.current) return null; var t = e.current.getBoundingClientRect(); return { x: t.x, y: t.y, width: t.width, height: t.height, xRight: t.x + t.width, yBottom: t.y + t.height, xCenter: t.x + t.width / 2, yCenter: t.y + t.height / 2 } }, Ys = function (t) { var n = a((0, e.useState)(!1), 2), r = n[0], i = n[1], l = a((0, e.useState)(0), 2), c = l[0], u = l[1], h = a((0, e.useState)(null), 2), f = h[0], d = h[1], p = (0, e.useRef)(), g = (0, e.useRef)({}); (0, e.useEffect)((function () { t.gradient.reset && (u(0), d(null)) }), [t.gradient]), (0, e.useEffect)((function () { var e = function (e) { if (e.preventDefault(), e.clientX || e.changedTouches) { var n = Gs(p), r = e.clientX || e.changedTouches[0].clientX, o = e.clientY || e.changedTouches[0].clientY, a = r < n.x ? 0 : r - n.x; if (a = ((a = r > n.xRight ? n.xRight - n.x : a) / (n.width / 100)).toFixed(3), g.current[c].style.left = a + "%", Math.abs(n.yCenter - o) > 50 && t.gradient.colorStops.length > 2) { i(!1); var s = t.gradient.colorStops.filter((function (e) { return e.id !== c })); return t.onChange(A(A({}, t.gradient), {}, { colorStops: s })), void u(!1) } var l = t.gradient.colorStops.map((function (e) { return e.id === c ? A(A({}, e), {}, { offset: Number(a / 100) }) : e })); l.sort((function (e, t) { return e.offset - t.offset })), t.onChange(A(A({}, t.gradient), {}, { colorStops: l })) } }, n = function (e) { i(!1) }; return r && (document.addEventListener("mousemove", e), document.addEventListener("touchmove", e), document.addEventListener("mouseup", n), document.addEventListener("touchend", n)), function () { document.removeEventListener("mousemove", e), document.removeEventListener("touchmove", e), document.removeEventListener("mouseup", n), document.removeEventListener("touchend", n) } }), [t, r, c]); var m = function (e, n) { e.stopPropagation(), u(n), d(t.gradient.colorStops.find((function (e) { return e.id === n })).color), i(!0) }, b = function (e) { var n = parseInt(e.target.value); Number.isInteger(n) && (n = n > 360 ? 360 : n, n = e.target.value < 0 ? 0 : n, t.onChange(A(A({}, t.gradient), {}, { angle: Math.round(n) }))) }; return (0, s.jsxs)("div", { className: "gradientpicker", children: [(0, s.jsxs)("div", { className: "palette", children: [(0, s.jsxs)("svg", { width: "100%", height: "100%", children: [(0, s.jsx)("defs", { children: (0, s.jsx)("linearGradient", { id: "grad", x1: "0%", y1: "0%", x2: "100%", y2: "0%", children: t.gradient.colorStops.map((function (e) { return (0, s.jsx)("stop", { offset: Number(e.offset), style: { stopColor: e.color } }, e.id) })) }) }), (0, s.jsx)("rect", { x: "0", y: "0", width: "100%", height: "100%", fill: "url(#grad)" })] }), (0, s.jsx)("div", { className: "stopholder", title: v("Drag up or down to remove"), ref: p, onMouseDown: function (e) { return function (e) { if (e.preventDefault(), e.stopPropagation(), 1 === e.nativeEvent.which && !(t.gradient.colorStops.length > 4)) { var n = Gs(p), r = (e.clientX || e.changedTouches[0].clientX) - n.x, i = o(t.gradient.colorStops), a = Math.random().toString(36).substr(2, 9); i.push({ offset: Number((r / (n.width / 100) / 100).toFixed(3)), color: "rgba(0, 0, 0, 1)", id: a }), i.sort((function (e, t) { return e.offset - t.offset })), t.onChange(A(A({}, t.gradient), {}, { colorStops: i })), u(a) } }(e) }, children: t.gradient.colorStops.map((function (e, t) { return (0, s.jsx)("div", { id: e.id, ref: function (t) { return g.current[e.id] = t }, className: c === e.id ? "stop active" : "stop", onMouseDown: function (t) { return m(t, e.id) }, onTouchStart: function (t) { return m(t, e.id) }, style: { left: (100 * e.offset).toFixed(3) + "%" } }, e.id) })) })] }), e.cloneElement(t.children, { width: "100%", color: f || t.gradient.colorStops[0].color, onChange: function (e) { d("rgba(".concat(e.rgb.r, ", ").concat(e.rgb.g, ", ").concat(e.rgb.b, ", ").concat(e.rgb.a, ")")); var n = t.gradient.colorStops.map((function (t) { return t.id === c ? A(A({}, t), {}, { color: "rgba(".concat(e.rgb.r, ", ").concat(e.rgb.g, ", ").concat(e.rgb.b, ", ").concat(e.rgb.a, ")") }) : t })); t.onChange(A(A({}, t.gradient), {}, { colorStops: n })) } }), (0, s.jsxs)("div", { className: "setting orientation", children: [(0, s.jsx)("div", { className: "label", children: v("Orientation") }), (0, s.jsx)("div", { className: "function", children: (0, s.jsxs)("div", { className: "button-2-options", children: [(0, s.jsx)("div", { className: "linear" === t.gradient.type ? "option active" : "option", onClick: function () { return t.onChange(A(A({}, t.gradient), {}, { type: "linear" })) }, children: v("Linear") }), (0, s.jsx)("div", { className: "radial" === t.gradient.type ? "option active" : "option", onClick: function () { return t.onChange(A(A({}, t.gradient), {}, { type: "radial" })) }, children: v("Radial") })] }) })] }), "linear" === t.gradient.type && (0, s.jsxs)(s.Fragment, { children: [(0, s.jsxs)("div", { className: "setting", children: [(0, s.jsx)("div", { className: "label", children: v("Angle") }), (0, s.jsx)("div", { className: "function", children: (0, s.jsxs)("div", { className: "button-amount", children: [(0, s.jsx)("div", { className: "decrease", onClick: function () { return function () { var e = 0 === t.gradient.angle ? 360 : t.gradient.angle - 1; t.onChange(A(A({}, t.gradient), {}, { angle: e })) }() }, children: "-" }), (0, s.jsx)("input", { onChange: function (e) { return b(e) }, value: t.gradient.angle + "\xb0", type: "text", maxLength: "4" }), (0, s.jsx)("div", { className: "increase", onClick: function () { return function () { var e = 360 === t.gradient.angle ? 0 : t.gradient.angle + 1; t.onChange(A(A({}, t.gradient), {}, { angle: e })) }() }, children: "+" })] }) })] }), (0, s.jsx)("div", { className: "setting", children: (0, s.jsx)("input", { type: "range", min: "0", max: "360", steps: "1", value: t.gradient.angle, onChange: function (e) { return b(e) } }) })] })] }) }, qs = function (t) { var n = t.canvas, r = t.activeSelection, i = a((0, e.useState)("rgba(255, 255, 0, 1)"), 2), o = i[0], l = i[1], c = a((0, e.useState)({ type: "linear", angle: 90, colorStops: [{ offset: 0, color: "rgba(0, 0, 0, 1)", id: 0 }, { offset: 1, color: "rgba(255, 0, 0, 1)", id: 1 }], reset: !0 }), 2), u = c[0], h = c[1]; (0, e.useEffect)((function () { if (r.fill) { if (!r.fill.colorStops) { var e = new p.fabric.Color(r.fill).getSource(); l("rgba(".concat(e[0], ", ").concat(e[1], ", ").concat(e[2], ", ").concat(e[3], ")")) } if (r.fill.colorStops) { var t = I(r.fill, r.width, r.height, p.fabric); t.reset = !0, h(t) } } }), [r]); return (0, s.jsxs)(F, { defaultTab: r.fill && r.fill.colorStops ? "gradient" : "color", children: [(0, s.jsx)(R, { title: v("Color fill"), name: "color", children: (0, s.jsx)(ls, { width: "100%", color: o, onChange: function (e) { l("rgba(".concat(e.rgb.r, ", ").concat(e.rgb.g, ", ").concat(e.rgb.b, ", ").concat(e.rgb.a, ")")), r.set("fill", "rgba(".concat(e.rgb.r, ", ").concat(e.rgb.g, ", ").concat(e.rgb.b, ", ").concat(e.rgb.a, ")")), n.renderAll(), M(1200, (function () { n.trigger("object:modified") })) } }) }), (0, s.jsx)(R, { title: v("Gradient fill"), name: "gradient", children: (0, s.jsx)(Ys, { gradient: u, onChange: function (e) { var t = L(e, r.width, r.height, p.fabric); r.set("fill", t); var i = A(A({}, e), {}, { reset: !1 }); h(i), n.renderAll(), M(1200, (function () { n.trigger("object:modified") })) }, children: (0, s.jsx)(ls, {}) }) })] }) }, Ks = function (e) { var t = e.unit || "", n = e.value || 0; return (0, s.jsxs)("div", { className: "button-amount ".concat(e.disabled ? "disabled" : ""), children: [(0, s.jsx)("div", { className: "decrease", onClick: function () { return !e.disabled && e.handleDecrease() }, children: "-" }), (0, s.jsx)("input", { onChange: function (t) { return e.handleChange(t) }, disabled: e.disabled, value: n + t, type: "text" }), (0, s.jsx)("div", { className: "increase", onClick: function () { return !e.disabled && e.handleIncrease() }, children: "+" })] }) }, $s = function (t) { var n = a((0, e.useState)(!1), 2), r = n[0], i = n[1], o = r ? "input-select open" : "input-select", l = function (e) { t.handleChange(e) }; return (0, s.jsx)("div", { className: o, onClick: function (e) { return i(!r) }, children: (0, s.jsxs)("div", { className: "select", children: [(0, s.jsx)("div", { className: "active-option", children: e.Children.map(t.children, (function (n) { if (JSON.stringify(n.props.value) === JSON.stringify(t.activeOption)) return e.cloneElement(n).props.children })) }), (0, s.jsx)("div", { className: "list", children: t.children.map((function (e, t) { var n = A(A({}, e.props), {}, { handleClick: l }); return A(A({}, e), {}, { props: n }) })) })] }) }) }, Zs = function (e) { return (0, s.jsx)("div", { className: "option", onClick: function () { return e.handleClick(e.value) }, children: e.children }) }, Qs = function (t) { var n, r = t.canvas, i = t.activeSelection, o = a((0, e.useState)({ width: 0, style: { strokeDashArray: [], strokeLineCap: "square" }, corner: "", color: "rgba(0,0,0,1)" }), 2), l = o[0], c = o[1], u = a((0, e.useState)(!1), 2), h = u[0], f = u[1]; (0, e.useEffect)((function () { var e = { width: i.strokeWidth, style: { strokeDashArray: i.strokeDashArray, strokeLineCap: i.strokeLineCap }, corner: i.strokeLineJoin, color: i.stroke }; c(e) }), [i]); var d = function (e, t) { var n = 0; "decrease" === e && (n = 0 === (n = l.width) ? 0 : n - 1), "increase" === e && (n = l.width + 1), ("change" !== e || (n = parseInt(t), Number.isInteger(n))) && (c(A(A({}, l), {}, { width: n })), r.getActiveObjects().forEach((function (e) { e.set({ strokeUniform: !0, strokeWidth: n }) })), r.renderAll(), r.trigger("object:modified")) }; return (0, s.jsxs)(s.Fragment, { children: [(0, s.jsxs)("div", { className: "setting", children: [(0, s.jsx)("div", { className: "label", children: "Width" }), (0, s.jsx)("div", { className: "function", children: (0, s.jsx)(Ks, { unit: "", value: l.width, handleDecrease: function () { return d("decrease") }, handleChange: function (e) { return d("change", e.target.value) }, handleIncrease: function () { return d("increase") } }) })] }), (0, s.jsxs)("div", { className: "setting", children: [(0, s.jsx)("div", { className: "label", children: "Style" }), (0, s.jsx)("div", { className: "function", children: (0, s.jsxs)($s, { activeOption: { strokeDashArray: null !== (n = l.style.strokeDashArray) && void 0 !== n ? n : [], strokeLineCap: l.style.strokeLineCap }, handleChange: function (e) { return function (e) { c(A(A({}, l), {}, { style: e })), r.getActiveObjects().forEach((function (t) { t.set({ strokeUniform: !0, strokeDashArray: e.strokeDashArray, strokeLineCap: e.strokeLineCap }) })), r.renderAll(), r.trigger("object:modified") }(e) }, children: [(0, s.jsx)(Zs, { value: { strokeDashArray: [], strokeLineCap: "butt" }, children: (0, s.jsx)("svg", { children: (0, s.jsx)("line", { x1: "0", y1: "2", x2: "100", y2: "2", stroke: "#000", strokeWidth: "4", strokeLinecap: "square" }) }) }), (0, s.jsx)(Zs, { value: { strokeDashArray: [1, 10], strokeLineCap: "butt" }, children: (0, s.jsx)("svg", { children: (0, s.jsx)("line", { x1: "0", y1: "2", x2: "100", y2: "2", stroke: "#000", strokeWidth: "4", strokeDasharray: "1, 10", strokeLinecap: "square" }) }) }), (0, s.jsx)(Zs, { value: { strokeDashArray: [1, 10], strokeLineCap: "round" }, children: (0, s.jsx)("svg", { children: (0, s.jsx)("line", { x1: "0", y1: "2", x2: "100", y2: "2", stroke: "#000", strokeWidth: "4", strokeDasharray: "1, 10", strokeLinecap: "round" }) }) }), (0, s.jsx)(Zs, { value: { strokeDashArray: [15, 15], strokeLineCap: "square" }, children: (0, s.jsx)("svg", { children: (0, s.jsx)("line", { x1: "0", y1: "2", x2: "100", y2: "2", stroke: "#000", strokeWidth: "4", strokeDasharray: "15", strokeLinecap: "square" }) }) }), (0, s.jsx)(Zs, { value: { strokeDashArray: [15, 15], strokeLineCap: "round" }, children: (0, s.jsx)("svg", { children: (0, s.jsx)("line", { x1: "0", y1: "2", x2: "100", y2: "2", stroke: "#000", strokeWidth: "4", strokeDasharray: "15", strokeLinecap: "round" }) }) }), (0, s.jsx)(Zs, { value: { strokeDashArray: [25, 25], strokeLineCap: "square" }, children: (0, s.jsx)("svg", { children: (0, s.jsx)("line", { x1: "0", y1: "2", x2: "100", y2: "2", stroke: "#000", strokeWidth: "4", strokeDasharray: "25", strokeLinecap: "square" }) }) }), (0, s.jsx)(Zs, { value: { strokeDashArray: [25, 25], strokeLineCap: "round" }, children: (0, s.jsx)("svg", { children: (0, s.jsx)("line", { x1: "0", y1: "2", x2: "100", y2: "2", stroke: "#000", strokeWidth: "4", strokeDasharray: "25", strokeLinecap: "round" }) }) }), (0, s.jsx)(Zs, { value: { strokeDashArray: [1, 8, 16, 8, 1, 20], strokeLineCap: "square" }, children: (0, s.jsx)("svg", { children: (0, s.jsx)("line", { x1: "2", y1: "2", x2: "100", y2: "2", stroke: "#000", strokeWidth: "4", strokeDasharray: "1 8 16 8 1 20", strokeLinecap: "square" }) }) }), (0, s.jsx)(Zs, { value: { strokeDashArray: [1, 8, 16, 8, 1, 20], strokeLineCap: "round" }, children: (0, s.jsx)("svg", { children: (0, s.jsx)("line", { x1: "2", y1: "2", x2: "100", y2: "2", stroke: "#000", strokeWidth: "4", strokeDasharray: "1 8 16 8 1 20", strokeLinecap: "round" }) }) })] }) })] }), (0, s.jsxs)("div", { className: "setting", children: [(0, s.jsx)("div", { className: "label", children: v("Corner type") }), (0, s.jsx)("div", { className: "function", children: (0, s.jsxs)($s, { activeOption: l.corner, handleChange: function (e) { return function (e) { c(A(A({}, l), {}, { corner: e })), i.set("strokeLineJoin", e), r.renderAll(), r.trigger("object:modified") }(e) }, children: [(0, s.jsx)(Zs, { value: "miter", children: v("Square") }), (0, s.jsx)(Zs, { value: "round", children: v("Round") })] }) })] }), (0, s.jsxs)("div", { className: "setting", children: [(0, s.jsx)("div", { className: "label", children: v("Color") }), (0, s.jsx)("div", { className: "function", children: (0, s.jsx)("div", { className: "input-color", children: (0, s.jsx)("div", { className: "color", onClick: function () { return f(!h) }, children: (0, s.jsx)("div", { className: "fill", style: { backgroundColor: l.color } }) }) }) }), (0, s.jsx)("div", { className: h ? "picker-holder visible" : "picker-holder", children: (0, s.jsx)(ls, { width: "100%", color: l.color || "rgba(0,0,0,0)", onChange: function (e) { c(A(A({}, l), {}, { color: "rgba(".concat(e.rgb.r, ", ").concat(e.rgb.g, ", ").concat(e.rgb.b, ", ").concat(e.rgb.a, ")") })), r.getActiveObjects().forEach((function (t) { t.set("stroke", "rgba(".concat(e.rgb.r, ", ").concat(e.rgb.g, ", ").concat(e.rgb.b, ", ").concat(e.rgb.a, ")")) })), r.renderAll(), M(1200, (function () { r.trigger("object:modified") })) } }) })] })] }) }, Js = function (t) { var n = (0, e.useRef)(); return (0, e.useEffect)((function () { n.current = t })), n.current }, el = ["title", "titleId"]; function tl() { return tl = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, tl.apply(this, arguments) } function nl(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function rl(t, n) { var r = t.title, i = t.titleId, o = nl(t, el); return e.createElement("svg", tl({ id: "Capa_1", xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink", x: "0px", y: "0px", viewBox: "-70 -70 450 450", xmlSpace: "preserve", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Vs || (Vs = e.createElement("path", { d: "M218.133,144.853c20.587-14.4,35.2-37.653,35.2-59.52C253.333,37.227,216.107,0,168,0H34.667v298.667h150.187 c44.693,0,79.147-36.267,79.147-80.853C264,185.387,245.547,157.76,218.133,144.853z M98.667,53.333h64c17.707,0,32,14.293,32,32 s-14.293,32-32,32h-64V53.333z M173.333,245.333H98.667v-64h74.667c17.707,0,32,14.293,32,32S191.04,245.333,173.333,245.333z" }))) } var il, ol = e.forwardRef(rl), al = (n.p, ["title", "titleId"]); function sl() { return sl = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, sl.apply(this, arguments) } function ll(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function cl(t, n) { var r = t.title, i = t.titleId, o = ll(t, al); return e.createElement("svg", sl({ id: "Capa_1", xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink", x: "0px", y: "0px", viewBox: "-70 -70 450 450", xmlSpace: "preserve", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, il || (il = e.createElement("polygon", { points: "106.667,0 106.667,64 153.92,64 80.747,234.667 21.333,234.667 21.333,298.667 192,298.667 192,234.667 144.747,234.667 217.92,64 277.333,64 277.333,0  " }))) } var ul, hl, fl = e.forwardRef(cl), dl = (n.p, ["title", "titleId"]); function pl() { return pl = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, pl.apply(this, arguments) } function gl(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function vl(t, n) { var r = t.title, i = t.titleId, o = gl(t, dl); return e.createElement("svg", pl({ id: "Capa_1", xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink", x: "0px", y: "0px", viewBox: "-70 -70 450 450", xmlSpace: "preserve", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, ul || (ul = e.createElement("path", { d: "M192,298.667c70.72,0,128-57.28,128-128V0h-53.333v170.667c0,41.28-33.387,74.667-74.667,74.667 s-74.667-33.387-74.667-74.667V0H64v170.667C64,241.387,121.28,298.667,192,298.667z" })), hl || (hl = e.createElement("rect", { x: 42.667, y: 341.333, width: 298.667, height: 42.667 }))) } var ml, bl, yl, xl = e.forwardRef(vl), wl = (n.p, ["title", "titleId"]); function _l() { return _l = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, _l.apply(this, arguments) } function Sl(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Cl(t, n) { var r = t.title, i = t.titleId, o = Sl(t, wl); return e.createElement("svg", _l({ id: "Capa_1", xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink", x: "0px", y: "0px", viewBox: "-70 -70 450 450", xmlSpace: "preserve", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, ml || (ml = e.createElement("polygon", { points: "149.333,160 234.667,160 234.667,96 341.333,96 341.333,32 42.667,32 42.667,96 149.333,96" })), bl || (bl = e.createElement("rect", { x: 149.333, y: 288, width: 85.333, height: 64 })), yl || (yl = e.createElement("rect", { x: 0, y: 202.667, width: 384, height: 42.667 }))) } var Ol, kl, jl = e.forwardRef(Cl), El = (n.p, ["title", "titleId"]); function Tl() { return Tl = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Tl.apply(this, arguments) } function Pl(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Al(t, n) { var r = t.title, i = t.titleId, o = Pl(t, El); return e.createElement("svg", Tl({ id: "Capa_1", xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink", x: "0px", y: "0px", viewBox: "0 0 512 512", xmlSpace: "preserve", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Ol || (Ol = e.createElement("path", { d: "M248.257,256l103.986-103.758c2.777-2.771,4.337-6.532,4.337-10.455c0-3.923-1.561-7.684-4.337-10.455l-49.057-48.948 c-5.765-5.753-15.098-5.753-20.863,0L178.29,186.188L74.258,82.384c-5.764-5.751-15.098-5.752-20.863,0L4.337,131.333 C1.561,134.103,0,137.865,0,141.788c0,3.923,1.561,7.684,4.337,10.455L108.324,256L4.337,359.758 C1.561,362.528,0,366.29,0,370.212c0,3.923,1.561,7.684,4.337,10.455l49.057,48.948c5.765,5.753,15.098,5.753,20.863,0 l104.033-103.804l104.032,103.804c2.883,2.876,6.657,4.315,10.432,4.315s7.549-1.438,10.432-4.315l49.056-48.948 c2.777-2.771,4.337-6.532,4.337-10.455c0-3.923-1.561-7.684-4.337-10.455L248.257,256z" })), kl || (kl = e.createElement("path", { d: "M497.231,384.331h-44.973l35.508-31.887c14.878-13.36,20.056-34.18,13.192-53.04 c-6.874-18.89-23.565-31.044-43.561-31.717c-0.639-0.021-1.283-0.032-1.928-0.032c-31.171,0-56.531,25.318-56.531,56.439 c0,8.157,6.613,14.769,14.769,14.769c8.156,0,14.769-6.613,14.769-14.769c0-14.833,12.109-26.901,26.992-26.901 c0.316,0,0.631,0.005,0.937,0.016c11.573,0.39,15.78,9.511,16.795,12.297c2.163,5.946,1.942,14.574-5.171,20.962l-64.19,57.643 c-4.552,4.088-6.112,10.56-3.923,16.273c2.189,5.714,7.673,9.486,13.792,9.486h83.523c8.157,0,14.769-6.613,14.769-14.769 S505.387,384.331,497.231,384.331z" }))) } var Ml, Dl, Il = e.forwardRef(Al), Ll = (n.p, ["title", "titleId"]); function Fl() { return Fl = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Fl.apply(this, arguments) } function Rl(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Bl(t, n) { var r = t.title, i = t.titleId, o = Rl(t, Ll); return e.createElement("svg", Fl({ id: "Capa_1", xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink", x: "0px", y: "0px", viewBox: "0 0 512 512", xmlSpace: "preserve", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Ml || (Ml = e.createElement("path", { d: "M248.257,259.854l103.986-103.758c2.777-2.771,4.337-6.532,4.337-10.455c0-3.923-1.561-7.684-4.337-10.455l-49.057-48.948 c-5.765-5.753-15.098-5.753-20.863,0L178.29,190.042L74.258,86.238c-5.764-5.751-15.099-5.752-20.863,0L4.337,135.187 C1.561,137.958,0,141.719,0,145.642s1.561,7.684,4.337,10.455l103.986,103.758L4.337,363.612C1.561,366.383,0,370.145,0,374.067 c0,3.922,1.561,7.684,4.337,10.455l49.057,48.948c5.765,5.753,15.098,5.753,20.863,0l104.033-103.804l104.032,103.804 c2.883,2.876,6.657,4.315,10.432,4.315s7.549-1.438,10.432-4.315l49.056-48.948c2.777-2.771,4.337-6.532,4.337-10.455 s-1.561-7.684-4.337-10.455L248.257,259.854z" })), Dl || (Dl = e.createElement("path", { d: "M497.231,190.893h-44.973l35.508-31.887c14.878-13.36,20.056-34.18,13.192-53.04 c-6.874-18.89-23.565-31.044-43.561-31.717c-0.639-0.021-1.283-0.032-1.928-0.032c-31.171,0-56.531,25.318-56.531,56.439 c0,8.157,6.613,14.769,14.769,14.769c8.156,0,14.769-6.613,14.769-14.769c0-14.833,12.109-26.901,26.992-26.901 c0.316,0,0.631,0.005,0.937,0.016c11.573,0.39,15.78,9.511,16.795,12.297c2.163,5.946,1.942,14.574-5.171,20.962l-64.19,57.643 c-4.552,4.088-6.112,10.56-3.923,16.273c2.189,5.714,7.673,9.486,13.792,9.486h83.523c8.157,0,14.769-6.613,14.769-14.769 S505.387,190.893,497.231,190.893z" }))) } var Nl = e.forwardRef(Bl), zl = (n.p, function (t) { var n = t.canvas, r = t.activeSelection, i = t.isTextEditing, o = a((0, e.useState)(), 2), l = o[0], c = o[1], h = a((0, e.useState)(16), 2), f = h[0], d = h[1], p = a((0, e.useState)(20), 2), g = p[0], m = p[1], b = a((0, e.useState)(0), 2), y = b[0], x = b[1], w = a((0, e.useState)("left"), 2), _ = w[0], S = w[1], C = a((0, e.useState)(!1), 2), O = C[0], k = C[1], j = a((0, e.useState)("rgba(0, 0, 0, 1)"), 2), E = j[0], T = j[1], P = function (e) { if (r.getSelectionStyles && i) { var t = r.getSelectionStyles(); return t.find((function (t) { return "" === t[e] })) ? "" : t[0][e] } return r[e] || "" }, A = function (e, t) { var o = {}; o[e] = t, i ? (r.setSelectionStyles(o), r.setCoords()) : (r.removeStyle(e), r.set(e, t)), n.renderAll() }, D = function (e, t) { var r = 0; "decrease" === e && (r = 0 === f ? 0 : f - 1), "increase" === e && (r = f + 1), ("change" !== e || (r = parseInt(t, 10), Number.isInteger(r))) && (d(r), A("fontSize", r), n.trigger("object:modified")) }, I = function (e, t) { var r, i = 0; "decrease" === e && (i = 0 === g ? 0 : g - 1), "increase" === e && (i = g + 1), ("change" !== e || (i = parseInt(t), Number.isInteger(i))) && (r = i / f, m(i), A("lineHeight", r), n.trigger("object:modified")) }, L = function (e, t) { var r, i = 0; "decrease" === e && (i = y - 1), "increase" === e && (i = y + 1), ("change" !== e || (i = parseInt(t), Number.isInteger(i))) && (r = i / f * 1e3, x(i), A("charSpacing", r), n.trigger("object:modified")) }, F = Js({ uId: r.uId }); return (0, e.useEffect)((function () { if (Boolean(F) && F.uId !== r.uId || r && !i && !l) { c(r.fontFamily), d(r.fontSize); var e = Math.floor(r.fontSize * r.lineHeight); m(e); var t = Math.round(r.charSpacing / 1e3 * f); x(t), S(r.textAlign), k(r.fill) } }), [r, l, f, i]), (0, s.jsxs)(s.Fragment, { children: [(0, s.jsxs)("div", { className: "setting flex flex small-buttons", children: [(0, s.jsx)(u, { handleClick: function () { return A("fontWeight", "bold" === P("fontWeight") ? "" : "bold"), void n.trigger("object:modified") }, name: "bold", title: v("Bold"), children: (0, s.jsx)(ol, {}) }), (0, s.jsx)(u, { handleClick: function () { return A("fontStyle", "italic" === P("fontStyle") ? "" : "italic"), void n.trigger("object:modified") }, name: "italic", title: v("Italic"), children: (0, s.jsx)(fl, {}) }), (0, s.jsx)(u, { handleClick: function () { return A("underline", !P("underline")), void n.trigger("object:modified") }, name: "underline", title: v("Underline"), children: (0, s.jsx)(xl, {}) }), (0, s.jsx)(u, { handleClick: function () { return A("linethrough", !P("linethrough")), void n.trigger("object:modified") }, name: "linethrough", title: v("Linethrough"), children: (0, s.jsx)(jl, {}) }), (0, s.jsx)(u, { handleClick: function () { return P("deltaY") > 0 ? (A("fontSize", void 0), A("deltaY", void 0)) : (r.setSubscript(), n.renderAll()), void n.trigger("object:modified") }, name: "subscript", title: v("Subscript"), children: (0, s.jsx)(Il, {}) }), (0, s.jsx)(u, { handleClick: function () { return P("deltaY") < 0 ? (A("fontSize", void 0), A("deltaY", void 0)) : (r.setSuperscript(), n.renderAll()), void n.trigger("object:modified") }, name: "superscript", title: v("Superscript"), children: (0, s.jsx)(Nl, {}) })] }), (0, s.jsx)("div", { children: "\xa0" }), (0, s.jsxs)("div", { className: "setting", children: [(0, s.jsx)("div", { className: "label", children: v("Font family") }), (0, s.jsx)("div", { className: "function", children: (0, s.jsxs)("select", { value: l, onChange: function (e) { return function (e) { c(e.target.value), A("fontFamily", e.target.value), n.trigger("object:modified") }(e) }, children: [(0, s.jsx)("option", { value: "" }), (0, s.jsx)("option", { value: "'Open Sans', sans-serif", children: "Open Sans" }), (0, s.jsx)("option", { value: "'Oswald', sans-serif", children: "Oswald" }), (0, s.jsx)("option", { value: "'Playfair Display', serif", children: "Playfair Display" }), (0, s.jsx)("option", { value: "'Cormorant Garamond', serif", children: "Cormorant Garamond" }), (0, s.jsx)("option", { value: "Impact, Charcoal, sans-serif", children: "Impact" }), (0, s.jsx)("option", { value: "'Lucida Console', Monaco, monospace", children: "Lucida Console" }), (0, s.jsx)("option", { value: "'Comic Sans MS', 'Comic Sans', cursive, sans-serif", children: "Comic Sans" }), (0, s.jsx)("option", { value: "'Dancing Script', cursive", children: "Dancing Script" }), (0, s.jsx)("option", { value: "'Indie Flower', cursive", children: "Indie Flower" }), (0, s.jsx)("option", { value: "'Amatic SC', cursive", children: "Amatic SC" }), (0, s.jsx)("option", { value: "'Permanent Marker', cursive", children: "Permanent Marker" })] }) })] }), (0, s.jsxs)("div", { className: "setting", children: [(0, s.jsx)("div", { className: "label", children: v("Font size") }), (0, s.jsx)("div", { className: "function", children: (0, s.jsx)(Ks, { unit: "", value: f, handleDecrease: function () { return D("decrease") }, handleChange: function (e) { return D("change", e.target.value) }, handleIncrease: function () { return D("increase") } }) })] }), (0, s.jsxs)("div", { className: "setting ".concat(i ? "disabled" : ""), children: [(0, s.jsx)("div", { className: "label", children: v("Line height") }), (0, s.jsx)("div", { className: "function", children: (0, s.jsx)(Ks, { unit: "", value: g, disabled: null !== i && void 0 !== i ? i : "true", handleDecrease: function () { return I("decrease") }, handleChange: function (e) { return I("change", e.target.value) }, handleIncrease: function () { return I("increase") } }) })] }), (0, s.jsxs)("div", { className: "setting ".concat(i ? "disabled" : ""), children: [(0, s.jsx)("div", { className: "label", children: v("Letter spacing") }), (0, s.jsx)("div", { className: "function", children: (0, s.jsx)(Ks, { unit: "", value: y, disabled: null !== i && void 0 !== i ? i : "true", handleDecrease: function () { return L("decrease") }, handleChange: function (e) { return L("change", e.target.value) }, handleIncrease: function () { return L("increase") } }) })] }), (0, s.jsxs)("div", { className: "setting ".concat(i ? "disabled" : ""), children: [(0, s.jsx)("div", { className: "label", children: v("Text alignment") }), (0, s.jsx)("div", { className: "function", children: (0, s.jsxs)("select", { value: _, onChange: function (e) { return function (e) { S(e.target.value), A("textAlign", e.target.value), n.trigger("object:modified") }(e) }, disabled: null !== i && void 0 !== i ? i : "true", children: [(0, s.jsx)("option", { value: "left", children: v("Left") }), (0, s.jsx)("option", { value: "center", children: v("Center") }), (0, s.jsx)("option", { value: "right", children: v("Right") }), (0, s.jsx)("option", { value: "justify", children: v("Justify") })] }) })] }), (0, s.jsxs)("div", { className: "setting", children: [(0, s.jsx)("div", { className: "label", children: v("Color") }), (0, s.jsx)("div", { className: "function", children: (0, s.jsx)("div", { className: "input-color", children: (0, s.jsx)("div", { className: "color", onClick: function () { return T(!E) }, children: (0, s.jsx)("div", { className: "fill", style: { backgroundColor: O } }) }) }) }), (0, s.jsx)("div", { className: E ? "picker-holder visible" : "picker-holder", children: (0, s.jsx)(ls, { width: "100%", color: O, onChange: function (e) { k("rgba(".concat(e.rgb.r, ", ").concat(e.rgb.g, ", ").concat(e.rgb.b, ", ").concat(e.rgb.a, ")")), A("fill", "rgba(".concat(e.rgb.r, ", ").concat(e.rgb.g, ", ").concat(e.rgb.b, ", ").concat(e.rgb.a, ")")), M(1200, (function () { n.trigger("object:modified") })) } }) })] })] }) }); function Wl() { Wl = function () { return e }; var e = {}, t = Object.prototype, n = t.hasOwnProperty, r = Object.defineProperty || function (e, t, n) { e[t] = n.value }, i = "function" == typeof Symbol ? Symbol : {}, o = i.iterator || "@@iterator", a = i.asyncIterator || "@@asyncIterator", s = i.toStringTag || "@@toStringTag"; function l(e, t, n) { return Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }), e[t] } try { l({}, "") } catch (T) { l = function (e, t, n) { return e[t] = n } } function c(e, t, n, i) { var o = t && t.prototype instanceof f ? t : f, a = Object.create(o.prototype), s = new O(i || []); return r(a, "_invoke", { value: w(e, n, s) }), a } function u(e, t, n) { try { return { type: "normal", arg: e.call(t, n) } } catch (T) { return { type: "throw", arg: T } } } e.wrap = c; var h = {}; function f() { } function d() { } function p() { } var g = {}; l(g, o, (function () { return this })); var v = Object.getPrototypeOf, m = v && v(v(k([]))); m && m !== t && n.call(m, o) && (g = m); var b = p.prototype = f.prototype = Object.create(g); function y(e) { ["next", "throw", "return"].forEach((function (t) { l(e, t, (function (e) { return this._invoke(t, e) })) })) } function x(e, t) { function i(r, o, a, s) { var l = u(e[r], e, o); if ("throw" !== l.type) { var c = l.arg, h = c.value; return h && "object" == j(h) && n.call(h, "__await") ? t.resolve(h.__await).then((function (e) { i("next", e, a, s) }), (function (e) { i("throw", e, a, s) })) : t.resolve(h).then((function (e) { c.value = e, a(c) }), (function (e) { return i("throw", e, a, s) })) } s(l.arg) } var o; r(this, "_invoke", { value: function (e, n) { function r() { return new t((function (t, r) { i(e, n, t, r) })) } return o = o ? o.then(r, r) : r() } }) } function w(e, t, n) { var r = "suspendedStart"; return function (i, o) { if ("executing" === r) throw new Error("Generator is already running"); if ("completed" === r) { if ("throw" === i) throw o; return E() } for (n.method = i, n.arg = o; ;) { var a = n.delegate; if (a) { var s = _(a, n); if (s) { if (s === h) continue; return s } } if ("next" === n.method) n.sent = n._sent = n.arg; else if ("throw" === n.method) { if ("suspendedStart" === r) throw r = "completed", n.arg; n.dispatchException(n.arg) } else "return" === n.method && n.abrupt("return", n.arg); r = "executing"; var l = u(e, t, n); if ("normal" === l.type) { if (r = n.done ? "completed" : "suspendedYield", l.arg === h) continue; return { value: l.arg, done: n.done } } "throw" === l.type && (r = "completed", n.method = "throw", n.arg = l.arg) } } } function _(e, t) { var n = t.method, r = e.iterator[n]; if (void 0 === r) return t.delegate = null, "throw" === n && e.iterator.return && (t.method = "return", t.arg = void 0, _(e, t), "throw" === t.method) || "return" !== n && (t.method = "throw", t.arg = new TypeError("The iterator does not provide a '" + n + "' method")), h; var i = u(r, e.iterator, t.arg); if ("throw" === i.type) return t.method = "throw", t.arg = i.arg, t.delegate = null, h; var o = i.arg; return o ? o.done ? (t[e.resultName] = o.value, t.next = e.nextLoc, "return" !== t.method && (t.method = "next", t.arg = void 0), t.delegate = null, h) : o : (t.method = "throw", t.arg = new TypeError("iterator result is not an object"), t.delegate = null, h) } function S(e) { var t = { tryLoc: e[0] }; 1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), this.tryEntries.push(t) } function C(e) { var t = e.completion || {}; t.type = "normal", delete t.arg, e.completion = t } function O(e) { this.tryEntries = [{ tryLoc: "root" }], e.forEach(S, this), this.reset(!0) } function k(e) { if (e) { var t = e[o]; if (t) return t.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var r = -1, i = function t() { for (; ++r < e.length;)if (n.call(e, r)) return t.value = e[r], t.done = !1, t; return t.value = void 0, t.done = !0, t }; return i.next = i } } return { next: E } } function E() { return { value: void 0, done: !0 } } return d.prototype = p, r(b, "constructor", { value: p, configurable: !0 }), r(p, "constructor", { value: d, configurable: !0 }), d.displayName = l(p, s, "GeneratorFunction"), e.isGeneratorFunction = function (e) { var t = "function" == typeof e && e.constructor; return !!t && (t === d || "GeneratorFunction" === (t.displayName || t.name)) }, e.mark = function (e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, p) : (e.__proto__ = p, l(e, s, "GeneratorFunction")), e.prototype = Object.create(b), e }, e.awrap = function (e) { return { __await: e } }, y(x.prototype), l(x.prototype, a, (function () { return this })), e.AsyncIterator = x, e.async = function (t, n, r, i, o) { void 0 === o && (o = Promise); var a = new x(c(t, n, r, i), o); return e.isGeneratorFunction(n) ? a : a.next().then((function (e) { return e.done ? e.value : a.next() })) }, y(b), l(b, s, "Generator"), l(b, o, (function () { return this })), l(b, "toString", (function () { return "[object Generator]" })), e.keys = function (e) { var t = Object(e), n = []; for (var r in t) n.push(r); return n.reverse(), function e() { for (; n.length;) { var r = n.pop(); if (r in t) return e.value = r, e.done = !1, e } return e.done = !0, e } }, e.values = k, O.prototype = { constructor: O, reset: function (e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(C), !e) for (var t in this) "t" === t.charAt(0) && n.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = void 0) }, stop: function () { this.done = !0; var e = this.tryEntries[0].completion; if ("throw" === e.type) throw e.arg; return this.rval }, dispatchException: function (e) { if (this.done) throw e; var t = this; function r(n, r) { return a.type = "throw", a.arg = e, t.next = n, r && (t.method = "next", t.arg = void 0), !!r } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var o = this.tryEntries[i], a = o.completion; if ("root" === o.tryLoc) return r("end"); if (o.tryLoc <= this.prev) { var s = n.call(o, "catchLoc"), l = n.call(o, "finallyLoc"); if (s && l) { if (this.prev < o.catchLoc) return r(o.catchLoc, !0); if (this.prev < o.finallyLoc) return r(o.finallyLoc) } else if (s) { if (this.prev < o.catchLoc) return r(o.catchLoc, !0) } else { if (!l) throw new Error("try statement without catch or finally"); if (this.prev < o.finallyLoc) return r(o.finallyLoc) } } } }, abrupt: function (e, t) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var i = this.tryEntries[r]; if (i.tryLoc <= this.prev && n.call(i, "finallyLoc") && this.prev < i.finallyLoc) { var o = i; break } } o && ("break" === e || "continue" === e) && o.tryLoc <= t && t <= o.finallyLoc && (o = null); var a = o ? o.completion : {}; return a.type = e, a.arg = t, o ? (this.method = "next", this.next = o.finallyLoc, h) : this.complete(a) }, complete: function (e, t) { if ("throw" === e.type) throw e.arg; return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), h }, finish: function (e) { for (var t = this.tryEntries.length - 1; t >= 0; --t) { var n = this.tryEntries[t]; if (n.finallyLoc === e) return this.complete(n.completion, n.afterLoc), C(n), h } }, catch: function (e) { for (var t = this.tryEntries.length - 1; t >= 0; --t) { var n = this.tryEntries[t]; if (n.tryLoc === e) { var r = n.completion; if ("throw" === r.type) { var i = r.arg; C(n) } return i } } throw new Error("illegal catch attempt") }, delegateYield: function (e, t, n) { return this.delegate = { iterator: k(e), resultName: t, nextLoc: n }, "next" === this.method && (this.arg = void 0), h } }, e } function Hl(e, t, n, r, i, o, a) { try { var s = e[o](a), l = s.value } catch (c) { return void n(c) } s.done ? t(l) : Promise.resolve(l).then(r, i) } function Ul(e) { return function () { var t = this, n = arguments; return new Promise((function (r, i) { var o = e.apply(t, n); function a(e) { Hl(o, r, i, a, s, "next", e) } function s(e) { Hl(o, r, i, a, s, "throw", e) } a(void 0) })) } } var Xl, Vl = function () { var e = Ul(Wl().mark((function e(t) { var n, r, i, o, a, s, l; return Wl().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return a = function (e) { return null == n && ((n = document.createElement("canvas")).style.border = "1px solid blue", n.style.position = "absolute", n.style.top = "-100%", n.style.visibility = "hidden", r = n.getContext("2d"), document.body.appendChild(n)), new Promise((function (t, a) { if (null == e) return a(); var s = new Image; s.addEventListener("load", (function () { i = s.width, o = s.height, n.width = i, n.height = o, r.drawImage(s, 0, 0, i, o); var e = r.getImageData(0, 0, i, o).data.buffer; t(e, !1) })), s.src = e })) }, s = function (e) { var t, n, r, a, s = new Uint32Array(e), l = i, c = 0; for (n = 0; n < o; n++)for (t = 0; t < i; t++)if (4278190080 & s[n * i + t]) { r = n, n = o; break } for (n = o - 1; n > r; n--)for (t = 0; t < i; t++)if (4278190080 & s[n * i + t]) { a = n, n = 0; break } for (n = r; n < a; n++)for (t = 0; t < i; t++)if (t < l && 4278190080 & s[n * i + t]) { l = t; break } for (n = r; n < a; n++)for (t = i - 1; t > l; t--)if (t > c && 4278190080 & s[n * i + t]) { c = t; break } return { x1: l, x2: c, y1: r, y2: a, width: c - l, height: a - r } }, e.next = 4, a(t.toDataURL()); case 4: return l = e.sent, e.abrupt("return", s(l)); case 6: case "end": return e.stop() } }), e) }))); return function (t) { return e.apply(this, arguments) } }(), Gl = Vl, Yl = ["title", "titleId"]; function ql() { return ql = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, ql.apply(this, arguments) } function Kl(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function $l(t, n) { var r = t.title, i = t.titleId, o = Kl(t, Yl); return e.createElement("svg", ql({ enableBackground: "new 0 0 100 100", viewBox: "0 0 100 125", xmlSpace: "preserve", xmlns: "http://www.w3.org/2000/svg", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Xl || (Xl = e.createElement("g", { transform: "translate(1.4305e-6 -17.438)", strokeWidth: 1.2346 }, e.createElement("rect", { x: 14.815, y: 48.16, width: 85.185, height: 24.691 }), e.createElement("rect", { x: 14.815, y: 87.025, width: 45.679, height: 24.691 }), e.createElement("rect", { y: 34.877, width: 8.642, height: 90.123 })))) } var Zl, Ql = e.forwardRef($l), Jl = (n.p, ["title", "titleId"]); function ec() { return ec = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, ec.apply(this, arguments) } function tc(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function nc(t, n) { var r = t.title, i = t.titleId, o = tc(t, Jl); return e.createElement("svg", ec({ enableBackground: "new 0 0 100 100", viewBox: "0 0 100 125", xmlSpace: "preserve", xmlns: "http://www.w3.org/2000/svg", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Zl || (Zl = e.createElement("g", { strokeWidth: 1.2346 }, e.createElement("rect", { x: 7.4075, y: 30.722, width: 85.185, height: 24.691 }), e.createElement("rect", { x: 27.16, y: 69.587, width: 45.679, height: 24.691 }), e.createElement("rect", { x: 45.679, y: 17.439, width: 8.642, height: 90.123 })))) } var rc, ic = e.forwardRef(nc), oc = (n.p, ["title", "titleId"]); function ac() { return ac = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, ac.apply(this, arguments) } function sc(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function lc(t, n) { var r = t.title, i = t.titleId, o = sc(t, oc); return e.createElement("svg", ac({ enableBackground: "new 0 0 100 100", viewBox: "0 0 100 125", xmlSpace: "preserve", xmlns: "http://www.w3.org/2000/svg", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, rc || (rc = e.createElement("g", { transform: "translate(1.4305e-6 -17.438)", strokeWidth: 1.2346 }, e.createElement("rect", { transform: "scale(-1,1)", x: -85.185, y: 48.16, width: 85.185, height: 24.691 }), e.createElement("rect", { transform: "scale(-1,1)", x: -85.185, y: 87.025, width: 45.679, height: 24.691 }), e.createElement("rect", { transform: "scale(-1,1)", x: -100, y: 34.877, width: 8.642, height: 90.123 })))) } var cc, uc = e.forwardRef(lc), hc = (n.p, ["title", "titleId"]); function fc() { return fc = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, fc.apply(this, arguments) } function dc(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function pc(t, n) { var r = t.title, i = t.titleId, o = dc(t, hc); return e.createElement("svg", fc({ enableBackground: "new 0 0 100 100", viewBox: "0 0 100 125", xmlSpace: "preserve", xmlns: "http://www.w3.org/2000/svg", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, cc || (cc = e.createElement("g", { transform: "translate(1.4305e-6 -17.438)" }, e.createElement("g", { transform: "matrix(0 -1 -1 0 129.94 129.94)", strokeWidth: 1.2346 }, e.createElement("rect", { transform: "scale(-1,1)", x: -85.185, y: 48.16, width: 85.185, height: 24.691 }), e.createElement("rect", { transform: "scale(-1,1)", x: -85.185, y: 87.025, width: 45.679, height: 24.691 }), e.createElement("rect", { transform: "scale(-1,1)", x: -100, y: 34.877, width: 8.642, height: 90.123 }))))) } var gc, vc = e.forwardRef(pc), mc = (n.p, ["title", "titleId"]); function bc() { return bc = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, bc.apply(this, arguments) } function yc(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function xc(t, n) { var r = t.title, i = t.titleId, o = yc(t, mc); return e.createElement("svg", bc({ enableBackground: "new 0 0 100 100", viewBox: "0 0 100 125", xmlSpace: "preserve", xmlns: "http://www.w3.org/2000/svg", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, gc || (gc = e.createElement("g", { strokeWidth: 1.2346 }, e.createElement("rect", { transform: "rotate(90)", x: 19.908, y: -81.779, width: 85.185, height: 24.691 }), e.createElement("rect", { transform: "rotate(90)", x: 39.66, y: -42.913, width: 45.679, height: 24.691 }), e.createElement("rect", { transform: "rotate(90)", x: 58.179, y: -95.062, width: 8.642, height: 90.123 })))) } var wc, _c = e.forwardRef(xc), Sc = (n.p, ["title", "titleId"]); function Cc() { return Cc = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Cc.apply(this, arguments) } function Oc(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function kc(t, n) { var r = t.title, i = t.titleId, o = Oc(t, Sc); return e.createElement("svg", Cc({ enableBackground: "new 0 0 100 100", viewBox: "0 0 100 125", xmlSpace: "preserve", xmlns: "http://www.w3.org/2000/svg", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, wc || (wc = e.createElement("g", { transform: "translate(1.4305e-6 -17.438)" }, e.createElement("g", { transform: "rotate(90 50 79.938)", strokeWidth: 1.2346 }, e.createElement("rect", { transform: "scale(-1,1)", x: -85.185, y: 48.16, width: 85.185, height: 24.691 }), e.createElement("rect", { transform: "scale(-1,1)", x: -85.185, y: 87.025, width: 45.679, height: 24.691 }), e.createElement("rect", { transform: "scale(-1,1)", x: -100, y: 34.877, width: 8.642, height: 90.123 }))))) } var jc, Ec = e.forwardRef(kc), Tc = (n.p, function (e) { var t = e.canvas, n = e.activeSelection, r = function (e) { switch (e) { case "left": Ul(Wl().mark((function e() { var r, i; return Wl().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return r = n.getBoundingRect(!0), e.next = 3, Gl(n); case 3: i = e.sent, n.set("left", n.left - r.left - i.x1), n.setCoords(), t.renderAll(), t.trigger("object:modified"); case 8: case "end": return e.stop() } }), e) })))(); break; case "center-h": Ul(Wl().mark((function e() { var r, i; return Wl().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return r = n.getBoundingRect(!0), e.next = 3, Gl(n); case 3: i = e.sent, n.set("left", n.left - r.left - i.x1 + t.originalW / 2 - i.width / 2), n.setCoords(), t.renderAll(), t.trigger("object:modified"); case 8: case "end": return e.stop() } }), e) })))(); break; case "right": Ul(Wl().mark((function e() { var r, i; return Wl().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return r = n.getBoundingRect(!0), e.next = 3, Gl(n); case 3: i = e.sent, n.set("left", n.left - r.left - i.x1 + t.originalW - i.width), n.setCoords(), t.renderAll(), t.trigger("object:modified"); case 8: case "end": return e.stop() } }), e) })))(); break; case "top": Ul(Wl().mark((function e() { var r, i; return Wl().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return r = n.getBoundingRect(!0), e.next = 3, Gl(n); case 3: i = e.sent, n.set("top", n.top - r.top - i.y1), n.setCoords(), t.renderAll(), t.trigger("object:modified"); case 8: case "end": return e.stop() } }), e) })))(); break; case "center-v": Ul(Wl().mark((function e() { var r, i; return Wl().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return r = n.getBoundingRect(!0), e.next = 3, Gl(n); case 3: i = e.sent, n.set("top", n.top - r.top - i.y1 + t.originalH / 2 - i.height / 2), n.setCoords(), t.renderAll(), t.trigger("object:modified"); case 8: case "end": return e.stop() } }), e) })))(); break; case "bottom": Ul(Wl().mark((function e() { var r, i; return Wl().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return r = n.getBoundingRect(!0), e.next = 3, Gl(n); case 3: i = e.sent, n.set("top", n.top - r.top - i.y1 + (t.originalH - i.height)), n.setCoords(), t.renderAll(), t.trigger("object:modified"); case 8: case "end": return e.stop() } }), e) })))() } }; return (0, s.jsx)(s.Fragment, { children: (0, s.jsxs)("div", { className: "setting flex flex small-buttons", children: [(0, s.jsx)(u, { handleClick: function () { return r("left") }, name: "align-left", title: v("Align left"), children: (0, s.jsx)(Ql, {}) }), (0, s.jsx)(u, { handleClick: function () { return r("center-h") }, name: "align-center-h", title: v("Align center horizontally"), children: (0, s.jsx)(ic, {}) }), (0, s.jsx)(u, { handleClick: function () { return r("right") }, name: "align-right", title: v("Align right"), children: (0, s.jsx)(uc, {}) }), (0, s.jsx)(u, { handleClick: function () { return r("top") }, name: "align-top", title: v("Align top"), children: (0, s.jsx)(vc, {}) }), (0, s.jsx)(u, { handleClick: function () { return r("center-v") }, name: "align-center-v", title: v("Align center vertically"), children: (0, s.jsx)(_c, {}) }), (0, s.jsx)(u, { handleClick: function () { return r("bottom") }, name: "align-bottom", title: v("Align bottom"), children: (0, s.jsx)(Ec, {}) })] }) }) }), Pc = ["title", "titleId"]; function Ac() { return Ac = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Ac.apply(this, arguments) } function Mc(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Dc(t, n) { var r = t.title, i = t.titleId, o = Mc(t, Pc); return e.createElement("svg", Ac({ width: 512, height: 512, enableBackground: "new 0 0 16 16", viewBox: "0 0 16 20", xmlSpace: "preserve", xmlns: "http://www.w3.org/2000/svg", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, jc || (jc = e.createElement("g", { transform: "matrix(0 1.5365 1.5385 0 -5.0769 1.5495)" }, e.createElement("rect", { x: 5, y: 8, width: 1, height: 1 }), e.createElement("rect", { x: 7, y: 8, width: 1, height: 1 }), e.createElement("rect", { x: 9, y: 8, width: 1, height: 1 }), e.createElement("rect", { x: 1, y: 8, width: 1, height: 1 }), e.createElement("rect", { x: 3, y: 8, width: 1, height: 1 }), e.createElement("path", { d: "M 1,2 5.5,6 10,2 Z M 7.37,3 5.5,4.662 3.63,3 Z" }), e.createElement("polygon", { points: "10 15 5.5 11 1 15" })))) } var Ic, Lc = e.forwardRef(Dc), Fc = (n.p, ["title", "titleId"]); function Rc() { return Rc = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Rc.apply(this, arguments) } function Bc(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Nc(t, n) { var r = t.title, i = t.titleId, o = Bc(t, Fc); return e.createElement("svg", Rc({ width: 512, height: 512, enableBackground: "new 0 0 16 16", viewBox: "0 0 16 20", xmlSpace: "preserve", xmlns: "http://www.w3.org/2000/svg", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Ic || (Ic = e.createElement("g", { transform: "matrix(1.5365 0 0 1.5385 -.45052 -3.0769)" }, e.createElement("rect", { x: 5, y: 8, width: 1, height: 1 }), e.createElement("rect", { x: 7, y: 8, width: 1, height: 1 }), e.createElement("rect", { x: 9, y: 8, width: 1, height: 1 }), e.createElement("rect", { x: 1, y: 8, width: 1, height: 1 }), e.createElement("rect", { x: 3, y: 8, width: 1, height: 1 }), e.createElement("path", { d: "M 1,2 5.5,6 10,2 Z M 7.37,3 5.5,4.662 3.63,3 Z" }), e.createElement("polygon", { points: "5.5 11 1 15 10 15" })))) } var zc, Wc = e.forwardRef(Nc), Hc = (n.p, ["title", "titleId"]); function Uc() { return Uc = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Uc.apply(this, arguments) } function Xc(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Vc(t, n) { var r = t.title, i = t.titleId, o = Xc(t, Hc); return e.createElement("svg", Uc({ xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink", x: "0px", y: "0px", viewBox: "0 0 1000 1000", enableBackground: "new 0 0 1000 1000", xmlSpace: "preserve", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, zc || (zc = e.createElement("g", null, e.createElement("path", { d: "M10,10h686v686H10V10 M990,304v686H304V794h98v98h490V402h-98v-98H990z" })))) } var Gc, Yc, qc = e.forwardRef(Vc), Kc = (n.p, ["title", "titleId"]); function $c() { return $c = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, $c.apply(this, arguments) } function Zc(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Qc(t, n) { var r = t.title, i = t.titleId, o = Zc(t, Kc); return e.createElement("svg", $c({ enableBackground: "new 0 0 1000 1000", viewBox: "0 0 1e3 1e3", xmlSpace: "preserve", xmlns: "http://www.w3.org/2000/svg", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Gc || (Gc = e.createElement("path", { d: "m990 990h-686v-686h686v686m-980-294v-686h686v680h-98v-582h-490v490h200v98z" })), Yc || (Yc = e.createElement("rect", { x: 108.44, y: 108, width: 490, height: 490, fill: "#fff" }))) } var Jc, eu = e.forwardRef(Qc), tu = (n.p, ["title", "titleId"]); function nu() { return nu = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, nu.apply(this, arguments) } function ru(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function iu(t, n) { var r = t.title, i = t.titleId, o = ru(t, tu); return e.createElement("svg", nu({ id: "Capa_1", xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink", x: "0px", y: "0px", viewBox: "0 0 512 512", style: { enableBackground: "new 0 0 512 512" }, xmlSpace: "preserve", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Jc || (Jc = e.createElement("g", null, e.createElement("g", null, e.createElement("g", null, e.createElement("path", { d: "M42.667,256c0-59.52,35.093-110.827,85.547-134.827V75.2C53.653,101.44,0,172.48,0,256s53.653,154.56,128.213,180.8 v-45.973C77.76,366.827,42.667,315.52,42.667,256z" }), e.createElement("path", { d: "M320,64c-105.92,0-192,86.08-192,192s86.08,192,192,192s192-86.08,192-192S425.92,64,320,64z M320,405.333 c-82.347,0-149.333-66.987-149.333-149.333S237.653,106.667,320,106.667S469.333,173.653,469.333,256 S402.347,405.333,320,405.333z" }), e.createElement("polygon", { points: "341.333,170.667 298.667,170.667 298.667,234.667 234.667,234.667 234.667,277.333 298.667,277.333 298.667,341.333 341.333,341.333 341.333,277.333 405.333,277.333 405.333,234.667 341.333,234.667  " })))))) } var ou, au, su, lu, cu = e.forwardRef(iu), uu = (n.p, ["title", "titleId"]); function hu() { return hu = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, hu.apply(this, arguments) } function fu(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function du(t, n) { var r = t.title, i = t.titleId, o = fu(t, uu); return e.createElement("svg", hu({ id: "Layer_1", xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink", x: "0px", y: "0px", viewBox: "0 0 512 512", style: { enableBackground: "new 0 0 512 512" }, xmlSpace: "preserve", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, ou || (ou = e.createElement("g", null, e.createElement("g", null, e.createElement("path", { d: "M425.298,51.358h-91.455V16.696c0-9.22-7.475-16.696-16.696-16.696H194.855c-9.22,0-16.696,7.475-16.696,16.696v34.662 H86.704c-9.22,0-16.696,7.475-16.696,16.696v51.357c0,9.22,7.475,16.696,16.696,16.696h5.072l15.26,359.906 c0.378,8.937,7.735,15.988,16.68,15.988h264.568c8.946,0,16.302-7.051,16.68-15.989l15.259-359.906h5.073 c9.22,0,16.696-7.475,16.696-16.696V68.054C441.994,58.832,434.519,51.358,425.298,51.358z M211.551,33.391h88.9v17.967h-88.9 V33.391z M372.283,478.609H139.719l-14.522-342.502h261.606L372.283,478.609z M408.602,102.715c-15.17,0-296.114,0-305.202,0 V84.749h305.202V102.715z" })))), au || (au = e.createElement("g", null, e.createElement("g", null, e.createElement("path", { d: "M188.835,187.304c-9.22,0-16.696,7.475-16.696,16.696v206.714c0,9.22,7.475,16.696,16.696,16.696 c9.22,0,16.696-7.475,16.696-16.696V204C205.53,194.779,198.055,187.304,188.835,187.304z" })))), su || (su = e.createElement("g", null, e.createElement("g", null, e.createElement("path", { d: "M255.998,187.304c-9.22,0-16.696,7.475-16.696,16.696v206.714c0,9.22,7.474,16.696,16.696,16.696 c9.22,0,16.696-7.475,16.696-16.696V204C272.693,194.779,265.218,187.304,255.998,187.304z" })))), lu || (lu = e.createElement("g", null, e.createElement("g", null, e.createElement("path", { d: "M323.161,187.304c-9.22,0-16.696,7.475-16.696,16.696v206.714c0,9.22,7.475,16.696,16.696,16.696 s16.696-7.475,16.696-16.696V204C339.857,194.779,332.382,187.304,323.161,187.304z" }))))) } var pu, gu, vu = e.forwardRef(du), mu = (n.p, ["title", "titleId"]); function bu() { return bu = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, bu.apply(this, arguments) } function yu(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function xu(t, n) { var r = t.title, i = t.titleId, o = yu(t, mu); return e.createElement("svg", bu({ width: 248, height: 249, xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 248 249", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, pu || (pu = e.createElement("g", null, e.createElement("rect", { fill: "none", id: "canvas_background", height: 251, width: 250, y: -1, x: -1 }), e.createElement("g", { display: "none", overflow: "visible", y: 0, x: 0, height: "100%", width: "100%", id: "canvasGrid" }, e.createElement("rect", { fill: "url(#gridpattern)", strokeWidth: 0, y: 0, x: 0, height: "100%", width: "100%" })))), gu || (gu = e.createElement("g", null, e.createElement("rect", { id: "svg_1", height: 213.999997, width: 213.999997, y: 18.040149, x: 16.8611, strokeWidth: 14, stroke: "#000", fill: "none" }), e.createElement("ellipse", { ry: 39.5, rx: 39.5, id: "svg_2", cy: 87.605177, cx: 90.239139, strokeOpacity: "null", strokeWidth: 5, stroke: "#000", fill: "#000000" }), e.createElement("rect", { id: "svg_3", height: 61.636373, width: 61.636373, y: 135.606293, x: 133.750604, strokeOpacity: "null", strokeWidth: 5, stroke: "#000", fill: "#000000" }), e.createElement("rect", { id: "svg_4", height: 26.016205, width: 26.016205, y: 4.813006, x: 3.999997, strokeOpacity: "null", strokeWidth: 8, stroke: "#000", fill: "#000000" }), e.createElement("rect", { id: "svg_5", height: 26.016205, width: 26.016205, y: 3.999999, x: 217.820703, strokeOpacity: "null", strokeWidth: 8, stroke: "#000", fill: "#000000" }), e.createElement("rect", { id: "svg_7", height: 26.016205, width: 26.016205, y: 218.633712, x: 3.999997, strokeOpacity: "null", strokeWidth: 8, stroke: "#000", fill: "#000000" }), e.createElement("rect", { id: "svg_8", height: 26.016205, width: 26.016205, y: 218.633712, x: 217.820694, strokeOpacity: "null", strokeWidth: 8, stroke: "#000", fill: "#000000" })))) } var wu, _u, Su = e.forwardRef(xu), Cu = (n.p, ["title", "titleId"]); function Ou() { return Ou = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Ou.apply(this, arguments) } function ku(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function ju(t, n) { var r = t.title, i = t.titleId, o = ku(t, Cu); return e.createElement("svg", Ou({ width: 247.99999999999997, height: 248.99999999999997, xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 248 249", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, wu || (wu = e.createElement("g", null, e.createElement("rect", { fill: "none", id: "canvas_background", height: 251, width: 250, y: -1, x: -1 }), e.createElement("g", { display: "none", overflow: "visible", y: 0, x: 0, height: "100%", width: "100%", id: "canvasGrid" }, e.createElement("rect", { fill: "url(#gridpattern)", strokeWidth: 0, y: 0, x: 0, height: "100%", width: "100%" })))), _u || (_u = e.createElement("g", null, e.createElement("rect", { strokeDasharray: 20, id: "svg_1", height: 213.999997, width: 213.999997, y: 18.040149, x: 16.8611, strokeWidth: 16, stroke: "#000", fill: "none" }), e.createElement("ellipse", { ry: 39.5, rx: 39.5, id: "svg_2", cy: 87.605177, cx: 90.239139, strokeOpacity: "null", strokeWidth: 5, stroke: "#000", fill: "#000000" }), e.createElement("rect", { id: "svg_3", height: 61.636373, width: 61.636373, y: 135.606293, x: 133.750604, strokeOpacity: "null", strokeWidth: 5, stroke: "#000", fill: "#000000" })))) } var Eu, Tu = e.forwardRef(ju), Pu = (n.p, function (e) { var t = e.canvas, n = e.activeSelection; return (0, s.jsxs)("div", { className: "setting flex small-buttons", children: [(0, s.jsx)(u, { name: "flip-h", title: v("Flip horizontally"), handleClick: function () { return n.set("flipX", !n.flipX), t.renderAll(), void t.trigger("object:modified") }, children: (0, s.jsx)(Lc, {}) }), (0, s.jsx)(u, { name: "flip-v", title: v("Flip vertically"), handleClick: function () { return n.set("flipY", !n.flipY), t.renderAll(), void t.trigger("object:modified") }, children: (0, s.jsx)(Wc, {}) }), (0, s.jsx)(u, { name: "bring-fwd", title: v("Bring object forwards"), handleClick: function () { return t.bringForward(n), t.renderAll(), void t.trigger("object:modified") }, children: (0, s.jsx)(qc, {}) }), (0, s.jsx)(u, { name: "bring-back", title: v("Bring object backwards"), handleClick: function () { return t.sendBackwards(n), t.renderAll(), void t.trigger("object:modified") }, children: (0, s.jsx)(eu, {}) }), (0, s.jsx)(u, { name: "duplicate", title: v("Duplicate"), handleClick: function () { return function () { var e = [], n = t.getActiveObjects(); if (n.forEach((function (r) { r.clone((function (i) { "textbox" === i.type && i.set({ uId: Date.now() + Math.random() }), t.add(i.set({ strokeUniform: !0, left: r.aCoords.tl.x + 20, top: r.aCoords.tl.y + 20 })), 1 === n.length && t.setActiveObject(i), e.push(i) })) })), e.length > 1) { var r = new p.fabric.ActiveSelection(e, { canvas: t }); t.setActiveObject(r) } t.requestRenderAll(), t.trigger("object:modified") }() }, children: (0, s.jsx)(cu, {}) }), (0, s.jsx)(u, { name: "remove", title: v("Remove"), handleClick: function () { return t.getActiveObjects().forEach((function (e) { t.remove(e) })), t.discardActiveObject().requestRenderAll(), void t.trigger("object:modified") }, children: (0, s.jsx)(vu, {}) }), (0, s.jsx)(u, { name: "group", title: v("Group selected objects"), handleClick: function () { "activeSelection" === n.type && (t.getActiveObject().toGroup(), t.requestRenderAll(), t.trigger("object:modified")) }, children: (0, s.jsx)(Su, {}) }), (0, s.jsx)(u, { name: "ungroup", title: v("Ungroup selected objects"), handleClick: function () { return function () { if ("group" === t.getActiveObject().type) { t.getActiveObject().toActiveSelection(); var e = t.getActiveObjects(); t.discardActiveObject(); var n = new p.fabric.ActiveSelection(e, { canvas: t }); t.setActiveObject(n), t.requestRenderAll(), t.trigger("object:modified"), t.trigger("test") } }() }, children: (0, s.jsx)(Tu, {}) })] }) }), Au = function (t) { var n = t.canvas, r = t.activeSelection, i = a((0, e.useState)({ opacity: 100, blur: 0, brightness: 50, saturation: 50, gamma: { r: 45, g: 45, b: 45 } }), 2), o = i[0], l = i[1]; (0, e.useEffect)((function () { var e = { opacity: 100, blur: 0, brightness: 50, saturation: 50, gamma: { r: 45, g: 45, b: 45 } }; e.opacity = 100 * r.opacity; var t = r.filters.find((function (e) { return e.blur })); t && (e.blur = 100 * t.blur); var n = r.filters.find((function (e) { return e.brightness })); n && (e.brightness = (n.brightness + 1) / 2 * 100); var i = r.filters.find((function (e) { return e.saturation })); i && (e.saturation = (i.saturation + 1) / 2 * 100); var o = r.filters.find((function (e) { return e.gamma })); o && (e.gamma.r = Math.round(o.gamma[0] / .022), e.gamma.g = Math.round(o.gamma[1] / .022), e.gamma.b = Math.round(o.gamma[2] / .022)), l(e) }), [r]); var c = function (e, t) { t = parseInt(t); var i = A({}, o); switch (e) { case "gamma.r": i.gamma.r = t; break; case "gamma.g": i.gamma.g = t; break; case "gamma.b": i.gamma.b = t; break; default: i[e] = t }l(i); var a = []; o.blur > 0 && a.push(new p.fabric.Image.filters.Blur({ blur: o.blur / 100 })), 50 !== o.brightness && a.push(new p.fabric.Image.filters.Brightness({ brightness: o.brightness / 100 * 2 - 1 })), 50 !== o.saturation && a.push(new p.fabric.Image.filters.Saturation({ saturation: o.saturation / 100 * 2 - 1 })), 45 === o.gamma.r && 45 === o.gamma.g && 45 === o.gamma.b || a.push(new p.fabric.Image.filters.Gamma({ gamma: [Math.round(.022 * o.gamma.r * 10) / 10, Math.round(.022 * o.gamma.g * 10) / 10, Math.round(.022 * o.gamma.b * 10) / 10] })), r.filters = a, r.applyFilters(), n.renderAll(), M(1200, (function () { n.trigger("object:modified") })) }; return (0, s.jsxs)(s.Fragment, { children: [(0, s.jsxs)("div", { className: "setting", children: [(0, s.jsx)("div", { className: "label", children: v("Opacity") }), (0, s.jsx)("div", { className: "function", children: (0, s.jsx)("input", { type: "range", min: "0", max: "100", steps: "1", onChange: function (e) { return t = e.target.value, l(A(A({}, o), {}, { opacity: t })), r.set("opacity", t / 100), n.renderAll(), void M(1200, (function () { n.trigger("object:modified") })); var t }, value: o.opacity }) })] }), (0, s.jsxs)("div", { className: "setting", children: [(0, s.jsx)("div", { className: "label", children: v("Blur") }), (0, s.jsx)("div", { className: "function", children: (0, s.jsx)("input", { type: "range", min: "0", max: "100", steps: "1", onChange: function (e) { return c("blur", e.target.value) }, value: o.blur }) })] }), (0, s.jsxs)("div", { className: "setting", children: [(0, s.jsx)("div", { className: "label", children: v("Brightness") }), (0, s.jsx)("div", { className: "function", children: (0, s.jsx)("input", { type: "range", min: "0", max: "100", steps: "1", onChange: function (e) { return c("brightness", e.target.value) }, value: o.brightness }) })] }), (0, s.jsxs)("div", { className: "setting", children: [(0, s.jsx)("div", { className: "label", children: v("Saturation") }), (0, s.jsx)("div", { className: "function", children: (0, s.jsx)("input", { type: "range", min: "0", max: "100", steps: "1", onChange: function (e) { return c("saturation", e.target.value) }, value: o.saturation }) })] }), (0, s.jsxs)("div", { className: "setting", children: [(0, s.jsx)("div", { className: "label", children: v("Gamma") }), (0, s.jsx)("div", { className: "function" }), (0, s.jsxs)("div", { className: "label", children: ["\xa0\xa0\xa0", v("Red")] }), (0, s.jsx)("div", { className: "function", children: (0, s.jsx)("input", { type: "range", min: "0", max: "100", steps: "1", onChange: function (e) { return c("gamma.r", e.target.value) }, value: o.gamma.r }) }), (0, s.jsxs)("div", { className: "label", children: ["\xa0\xa0\xa0", v("Green")] }), (0, s.jsx)("div", { className: "function", children: (0, s.jsx)("input", { type: "range", min: "0", max: "100", steps: "1", onChange: function (e) { return c("gamma.g", e.target.value) }, value: o.gamma.g }) }), (0, s.jsxs)("div", { className: "label", children: ["\xa0\xa0\xa0", v("Blue")] }), (0, s.jsx)("div", { className: "function", children: (0, s.jsx)("input", { type: "range", min: "0", max: "100", steps: "1", onChange: function (e) { return c("gamma.b", e.target.value) }, value: o.gamma.b }) })] })] }) }, Mu = function (e) { var t = e.canvas, n = e.activeSelection, r = e.isTextEditing; return (0, s.jsxs)(s.Fragment, { children: [(0, s.jsx)("p", { className: "title", children: v("SELECTION SETTINGS") }), "image" !== n.type && "line" !== n.type && "activeSelection" !== n.type && "group" !== n.type && "textbox" !== n.type && (0, s.jsx)(qs, { canvas: t, activeSelection: n }), "textbox" === n.type && (0, s.jsxs)(s.Fragment, { children: [(0, s.jsx)("p", { className: "subtitle", children: v("Font style") }), (0, s.jsx)(zl, { canvas: t, activeSelection: n, isTextEditing: r })] }), "group" !== n.type && !r && (0, s.jsxs)(s.Fragment, { children: [(0, s.jsx)("p", { className: "subtitle", children: v("Border") }), (0, s.jsx)(Qs, { canvas: t, activeSelection: n })] }), !r && (0, s.jsxs)(s.Fragment, { children: [(0, s.jsx)("p", { className: "subtitle", children: v("Alignment") }), (0, s.jsx)(Tc, { canvas: t, activeSelection: n })] }), !r && (0, s.jsxs)(s.Fragment, { children: [(0, s.jsx)("p", { className: "subtitle", children: v("Object options") }), (0, s.jsx)(Pu, { canvas: t, activeSelection: n })] }), "image" === n.type && (0, s.jsxs)(s.Fragment, { children: [(0, s.jsx)("p", { className: "subtitle", children: v("Effects") }), (0, s.jsx)(Au, { canvas: t, activeSelection: n })] })] }) }, Du = function (t) { var n = t.canvas, r = a((0, e.useState)({ width: 640, height: 480, keepAspectRatio: !1, color: "rgba(255, 255, 255, 0)", gradient: { type: "linear", angle: 90, colorStops: [{ offset: 0, color: "rgba(0, 0, 0, 1)", id: 0 }, { offset: 1, color: "rgba(255, 0, 0, 1)", id: 1 }] } }), 2), i = r[0], o = r[1]; (0, e.useEffect)((function () { var e = { width: n.getWidth(), height: n.getHeight(), keepAspectRatio: !1, color: n.backgroundColor && !n.backgroundColor.type ? n.backgroundColor : "rgba(255, 255, 255, 0)", gradient: n.backgroundColor.type ? I(n.backgroundColor, n.width, n.height, p.fabric) : { type: "linear", angle: 90, colorStops: [{ offset: 0, color: "rgba(0, 0, 0, 1)", id: 0 }, { offset: 1, color: "rgba(255, 0, 0, 1)", id: 1 }] } }; o(e) }), [n]); var l = function (e, t) { var n = parseInt(t.target.value); Number.isInteger(n) && ("width" === e && o(A(A({}, i), {}, { width: Math.round(n) })), "height" === e && o(A(A({}, i), {}, { height: Math.round(n) }))) }, c = function (e) { var t = i.width, r = i.height; if (i.keepAspectRatio) { var a = n.height / n.width; "width" === e && (t = i.width, r = Math.round(i.width * a)), "height" === e && (t = Math.round(i.height / a), r = i.height) } o(A(A({}, i), {}, { width: t, height: r })), n.setWidth(t), n.originalW = t, n.setHeight(r), n.originalH = r, n.renderAll(), n.trigger("object:modified") }; return (0, s.jsxs)(s.Fragment, { children: [(0, s.jsx)("p", { className: "title", children: v("CANVAS SETTINGS") }), (0, s.jsx)("p", { className: "subtitle", children: v("Canvas size") }), (0, s.jsxs)("div", { className: "setting", children: [(0, s.jsx)("div", { className: "label", children: v("Width") }), (0, s.jsxs)("div", { className: "function input-with-unit", children: [(0, s.jsx)("input", { type: "text", value: i.width, onBlur: function (e) { return c("width") }, onKeyPress: function (e) { return "Enter" === e.key && c("width") }, onChange: function (e) { return l("width", e) } }), " ", (0, s.jsx)("span", { className: "unit", children: "px" })] })] }), (0, s.jsxs)("div", { className: "setting", children: [(0, s.jsx)("div", { className: "label", children: v("Height") }), (0, s.jsxs)("div", { className: "function input-with-unit", children: [(0, s.jsx)("input", { type: "text", value: i.height, onBlur: function (e) { return c("height") }, onKeyPress: function (e) { return "Enter" === e.key && c("height") }, onChange: function (e) { return l("height", e) } }), (0, s.jsx)("span", { className: "unit", children: "px" })] })] }), (0, s.jsxs)("div", { className: "setting", children: [(0, s.jsx)("div", { className: "label", children: v("Keep aspect ratio") }), (0, s.jsx)("div", { className: "function", children: (0, s.jsx)("input", { type: "checkbox", value: "true", defaultChecked: i.keepAspectRatio, onChange: function (e) { return o(A(A({}, i), {}, { keepAspectRatio: e.target.checked })) } }) })] }), (0, s.jsx)("div", { className: "setting", children: (0, s.jsx)("button", { onClick: function () { return function () { var e = new p.fabric.ActiveSelection(n.getObjects(), { canvas: n }); n.setActiveObject(e); var t = e.getBoundingRect(), r = function () { var r = Ul(Wl().mark((function r() { var i, o, a; return Wl().wrap((function (r) { for (; ;)switch (r.prev = r.next) { case 0: return r.next = 2, Gl(e); case 2: i = r.sent, e.set("left", e.left - t.left - i.x1), e.set("top", e.top - t.top - i.y1), o = i.width, a = i.height, n.setWidth(o), n.setHeight(a), n.discardActiveObject(), n.renderAll(), n.calcOffset(), n.trigger("object:modified"); case 13: case "end": return r.stop() } }), r) }))); return function () { return r.apply(this, arguments) } }(); r() }() }, children: v("Fit to content") }) }), (0, s.jsxs)(F, { defaultTab: n.backgroundColor.type ? "gradient" : "color", children: [(0, s.jsx)(R, { title: v("Color fill"), name: "color", children: (0, s.jsx)(ls, { width: "100%", color: i.color, onChange: function (e) { o(A(A({}, i), {}, { color: "rgba(".concat(e.rgb.r, ", ").concat(e.rgb.g, ", ").concat(e.rgb.b, ", ").concat(e.rgb.a, ")") })), n.setBackgroundColor("rgba(".concat(e.rgb.r, ", ").concat(e.rgb.g, ", ").concat(e.rgb.b, ", ").concat(e.rgb.a, ")")), n.renderAll(), M(1200, (function () { n.trigger("object:modified") })) } }) }), (0, s.jsx)(R, { title: v("Gradient fill"), name: "gradient", children: (0, s.jsx)(Ys, { gradient: i.gradient, onChange: function (e) { o(A(A({}, i), {}, { gradient: e })); var t = L(e, n.width, n.height, p.fabric); n.setBackgroundColor(t), n.renderAll(), M(1200, (function () { n.trigger("object:modified") })) }, children: (0, s.jsx)(ls, {}) }) })] })] }) }, Iu = function (t) { var n = t.canvas, r = a((0, e.useState)({ width: 1, style: "pencil", color: "rgba(0,0,0,1)" }), 2), i = r[0], o = r[1], l = function (e, t) { var r = 1; "decrease" === e && (r = 1 === (r = i.width) ? 1 : r - 1), "increase" === e && (r = i.width + 1), ("change" !== e || (r = parseInt(t), Number.isInteger(r))) && (o(A(A({}, i), {}, { width: r })), n.freeDrawingBrush.width = r) }; return (0, s.jsxs)(s.Fragment, { children: [(0, s.jsx)("p", { className: "title", children: v("FREE DRAW") }), (0, s.jsx)("p", {}), (0, s.jsxs)("div", { className: "setting", children: [(0, s.jsx)("div", { className: "label", children: v("Brush width") }), (0, s.jsx)("div", { className: "function", children: (0, s.jsx)(Ks, { unit: "", value: i.width, handleDecrease: function () { return l("decrease") }, handleChange: function (e) { return l("change", e.target.value) }, handleIncrease: function () { return l("increase") } }) })] }), (0, s.jsxs)("div", { className: "setting", children: [(0, s.jsx)("div", { className: "label", children: v("Brush style") }), (0, s.jsx)("div", { className: "function", children: (0, s.jsxs)($s, { activeOption: i.style, handleChange: function (e) { return function (e) { switch (e) { case "circle": n.freeDrawingBrush = new p.fabric.CircleBrush(n); break; case "spray": n.freeDrawingBrush = new p.fabric.SprayBrush(n); break; default: n.freeDrawingBrush = new p.fabric.PencilBrush(n) }n.freeDrawingBrush.width = i.width, n.freeDrawingBrush.color = i.color, o(A(A({}, i), {}, { style: e })) }(e) }, children: [(0, s.jsx)(Zs, { value: "pencil", children: v("Pencil") }), (0, s.jsx)(Zs, { value: "circle", children: v("Circle") }), (0, s.jsx)(Zs, { value: "spray", children: v("Spray") })] }) })] }), (0, s.jsxs)("div", { className: "setting", children: [(0, s.jsx)("div", { className: "label", children: v("Brush color") }), (0, s.jsx)("div", { className: "function" })] }), (0, s.jsx)(ls, { width: "100%", color: i.color, onChange: function (e) { o(A(A({}, i), {}, { color: "rgba(".concat(e.rgb.r, ", ").concat(e.rgb.g, ", ").concat(e.rgb.b, ", ").concat(e.rgb.a, ")") })), n.freeDrawingBrush.color = "rgba(".concat(e.rgb.r, ", ").concat(e.rgb.g, ", ").concat(e.rgb.b, ", ").concat(e.rgb.a, ")") } }), (0, s.jsx)("p", {}), (0, s.jsx)("p", { children: (0, s.jsxs)("i", { children: [(0, s.jsx)("b", { children: v("Tip:") }), " ", v("you can select and style each line you drew. Use <b>Shift + Click</b> to select multiple lines and\n      group them into one object.")] }) })] }) }, Lu = ["title", "titleId"]; function Fu() { return Fu = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Fu.apply(this, arguments) } function Ru(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Bu(t, n) { var r = t.title, i = t.titleId, o = Ru(t, Lu); return e.createElement("svg", Fu({ xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", viewBox: "-10 -10 120 120", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Eu || (Eu = e.createElement("polygon", { points: "0 0, 0 100, 100 100, 100 0", strokeWidth: 8, stroke: "#000", fill: "none" }))) } var Nu, zu = e.forwardRef(Bu), Wu = (n.p, ["title", "titleId"]); function Hu() { return Hu = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Hu.apply(this, arguments) } function Uu(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Xu(t, n) { var r = t.title, i = t.titleId, o = Uu(t, Wu); return e.createElement("svg", Hu({ xmlns: "http://www.w3.org/2000/svg", viewBox: "-8 -8 120 120", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Nu || (Nu = e.createElement("polygon", { fill: "none", strokeWidth: 8, stroke: "black", points: "50 0, 85 50, 50 100, 15 50" }))) } var Vu, Gu = e.forwardRef(Xu), Yu = (n.p, ["title", "titleId"]); function qu() { return qu = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, qu.apply(this, arguments) } function Ku(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function $u(t, n) { var r = t.title, i = t.titleId, o = Ku(t, Yu); return e.createElement("svg", qu({ xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", viewBox: "-10 -10 120 120", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Vu || (Vu = e.createElement("polygon", { points: "25 0, 0 100, 75 100, 100 0", strokeWidth: 8, stroke: "#000", fill: "none" }))) } var Zu, Qu = e.forwardRef($u), Ju = (n.p, ["title", "titleId"]); function eh() { return eh = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, eh.apply(this, arguments) } function th(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function nh(t, n) { var r = t.title, i = t.titleId, o = th(t, Ju); return e.createElement("svg", eh({ xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", viewBox: "-8 -8 120 120", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Zu || (Zu = e.createElement("polygon", { points: "0,100 30,10 70,10 100,100", strokeWidth: 8, stroke: "#000", fill: "none" }))) } var rh, ih = e.forwardRef(nh), oh = (n.p, ["title", "titleId"]); function ah() { return ah = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, ah.apply(this, arguments) } function sh(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function lh(t, n) { var r = t.title, i = t.titleId, o = sh(t, oh); return e.createElement("svg", ah({ xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", viewBox: "-10 -10 120 120", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, rh || (rh = e.createElement("path", { d: "M 80,80 V 20 H 20 v 60 z m 20,20 V 0 H 0 v 100 z", strokeWidth: 8, stroke: "#000", fillRule: "evenodd", fill: "none" }))) } var ch, uh = e.forwardRef(lh), hh = (n.p, ["title", "titleId"]); function fh() { return fh = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, fh.apply(this, arguments) } function dh(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function ph(t, n) { var r = t.title, i = t.titleId, o = dh(t, hh); return e.createElement("svg", fh({ xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 100 100", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, ch || (ch = e.createElement("polygon", { points: "26,86 11.2,40.4 50,12.2 88.8,40.4 74,86 ", stroke: "#000", strokeWidth: 8, fill: "none" }))) } var gh, vh = e.forwardRef(ph), mh = (n.p, ["title", "titleId"]); function bh() { return bh = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, bh.apply(this, arguments) } function yh(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function xh(t, n) { var r = t.title, i = t.titleId, o = yh(t, mh); return e.createElement("svg", bh({ xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 100 100", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, gh || (gh = e.createElement("polygon", { points: "30.1,84.5 10.2,50 30.1,15.5 69.9,15.5 89.8,50 69.9,84.5", strokeWidth: 8, stroke: "#000", fill: "none" }))) } var wh, _h = e.forwardRef(xh), Sh = (n.p, ["title", "titleId"]); function Ch() { return Ch = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Ch.apply(this, arguments) } function Oh(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function kh(t, n) { var r = t.title, i = t.titleId, o = Oh(t, Sh); return e.createElement("svg", Ch({ xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 100 100", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, wh || (wh = e.createElement("polygon", { points: "34.2,87.4 12.3,65.5 12.3,34.5 34.2,12.6 65.2,12.6 87.1,34.5 87.1,65.5 65.2,87.4", strokeWidth: 8, stroke: "#000", fill: "none" }))) } var jh, Eh = e.forwardRef(kh), Th = (n.p, ["title", "titleId"]); function Ph() { return Ph = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Ph.apply(this, arguments) } function Ah(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Mh(t, n) { var r = t.title, i = t.titleId, o = Ah(t, Th); return e.createElement("svg", Ph({ xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 100 100", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, jh || (jh = e.createElement("polygon", { points: "11.2,70 11.2,40 50,12.2 88.8,40 88.8,70", stroke: "#000", strokeWidth: 8, fill: "none" }))) } var Dh, Ih = e.forwardRef(Mh), Lh = (n.p, ["title", "titleId"]); function Fh() { return Fh = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Fh.apply(this, arguments) } function Rh(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Bh(t, n) { var r = t.title, i = t.titleId, o = Rh(t, Lh); return e.createElement("svg", Fh({ xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 100 100", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Dh || (Dh = e.createElement("polygon", { points: "10.2,70 10.2,35 30.1,15 69.9,15 89.8,35 89.8,70", strokeWidth: 8, stroke: "#000", fill: "none" }))) } var Nh, zh = e.forwardRef(Bh), Wh = (n.p, ["title", "titleId"]); function Hh() { return Hh = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Hh.apply(this, arguments) } function Uh(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Xh(t, n) { var r = t.title, i = t.titleId, o = Uh(t, Wh); return e.createElement("svg", Hh({ xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", viewBox: "-10 -10 120 120", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Nh || (Nh = e.createElement("polygon", { points: "50 15, 100 100, 0 100", strokeWidth: 8, stroke: "#000", fill: "none" }))) } var Vh, Gh = e.forwardRef(Xh), Yh = (n.p, ["title", "titleId"]); function qh() { return qh = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, qh.apply(this, arguments) } function Kh(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function $h(t, n) { var r = t.title, i = t.titleId, o = Kh(t, Yh); return e.createElement("svg", qh({ xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", viewBox: "-10 -10 120 120", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Vh || (Vh = e.createElement("polygon", { points: "0 0, 100 100, 0 100", strokeWidth: 8, stroke: "#000", fill: "none" }))) } var Zh, Qh = e.forwardRef($h), Jh = (n.p, ["title", "titleId"]); function ef() { return ef = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, ef.apply(this, arguments) } function tf(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function nf(t, n) { var r = t.title, i = t.titleId, o = tf(t, Jh); return e.createElement("svg", ef({ xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", viewBox: "-10 -10 120 120", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Zh || (Zh = e.createElement("path", { d: "M 26,85 50,45 74,85 Z m -26,15 50,-85 50,85 z", strokeWidth: 8, stroke: "#000", fill: "none" }))) } var rf, of = e.forwardRef(nf), af = (n.p, ["title", "titleId"]); function sf() { return sf = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, sf.apply(this, arguments) } function lf(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function cf(t, n) { var r = t.title, i = t.titleId, o = lf(t, af); return e.createElement("svg", sf({ xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", viewBox: "8 50 100 100", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, rf || (rf = e.createElement("path", { d: "M 62.68234,131.5107 H 26.75771 V 96.075507 Z M 11.572401,146.76255 V 59.66782 l 87.983665,87.09473 z", strokeWidth: 8, stroke: "#000", fill: "none", fillRule: "evenodd" }))) } var uf, hf = e.forwardRef(cf), ff = (n.p, ["title", "titleId"]); function df() { return df = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, df.apply(this, arguments) } function pf(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function gf(t, n) { var r = t.title, i = t.titleId, o = pf(t, ff); return e.createElement("svg", df({ xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", viewBox: "-2 -2 100 100", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, uf || (uf = e.createElement("circle", { cx: 50, cy: 50, r: 40, stroke: "#000", strokeWidth: 8, fill: "none" }))) } var vf, mf = e.forwardRef(gf), bf = (n.p, ["title", "titleId"]); function yf() { return yf = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, yf.apply(this, arguments) } function xf(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function wf(t, n) { var r = t.title, i = t.titleId, o = xf(t, bf); return e.createElement("svg", yf({ xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink", x: "0px", y: "0px", viewBox: "0 0 96 120", xmlSpace: "preserve", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, vf || (vf = e.createElement("path", { stroke: "#000", strokeWidth: 8, fill: "none", d: "M9.113,65.022C11.683,45.575,28.302,30.978,48,30.978c19.696,0,36.316,14.598,38.887,34.045H9.113z" }))) } var _f, Sf = e.forwardRef(wf), Cf = (n.p, ["title", "titleId"]); function Of() { return Of = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Of.apply(this, arguments) } function kf(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function jf(t, n) { var r = t.title, i = t.titleId, o = kf(t, Cf); return e.createElement("svg", Of({ viewBox: "-15 -15 152 136", xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, _f || (_f = e.createElement("path", { stroke: "#000000", strokeWidth: 8, d: "m0 0l57.952755 0l0 0c32.006428 -1.4055393E-14 57.952755 23.203636 57.952755 51.82677c0 28.623135 -25.946327 51.82677 -57.952755 51.82677l-57.952755 0z", fill: "none" }))) } var Ef, Tf = e.forwardRef(jf), Pf = (n.p, ["title", "titleId"]); function Af() { return Af = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Af.apply(this, arguments) } function Mf(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Df(t, n) { var r = t.title, i = t.titleId, o = Mf(t, Pf); return e.createElement("svg", Af({ viewBox: "-5 -50 140 140", xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Ef || (Ef = e.createElement("path", { stroke: "#000000", strokeWidth: 8, d: "m20.013628 0l84.37401 0l0 0c11.053215 -1.04756605E-14 20.013626 9.282301 20.013626 20.7326c0 11.450296 -8.960411 20.7326 -20.013626 20.7326l-84.37401 0l0 0c-11.053222 0 -20.013628 -9.282303 -20.013628 -20.7326c-5.2380687E-15 -11.450298 8.960406 -20.7326 20.013628 -20.7326z", fill: "none" }))) } var If, Lf = e.forwardRef(Df), Ff = (n.p, ["title", "titleId"]); function Rf() { return Rf = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Rf.apply(this, arguments) } function Bf(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Nf(t, n) { var r = t.title, i = t.titleId, o = Bf(t, Ff); return e.createElement("svg", Rf({ viewBox: "-8 -8 136 136", xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, If || (If = e.createElement("path", { stroke: "#000000", strokeWidth: 8, d: "m0 51.82677l0 0c0 -28.623135 23.203636 -51.82677 51.82677 -51.82677l0 0c13.745312 0 26.927654 5.4603047 36.64706 15.17971c9.719406 9.719404 15.17971 22.901749 15.17971 36.64706l0 0c0 28.623135 -23.203636 51.82677 -51.82677 51.82677l0 0c-28.623135 0 -51.82677 -23.203636 -51.82677 -51.82677zm25.913385 0l0 0c0 14.311565 11.60182 25.913387 25.913385 25.913387c14.311565 0 25.913387 -11.601822 25.913387 -25.913387c0 -14.311565 -11.601822 -25.913385 -25.913387 -25.913385l0 0c-14.311565 0 -25.913385 11.60182 -25.913385 25.913385z", fill: "none" }))) } var zf, Wf = e.forwardRef(Nf), Hf = (n.p, ["title", "titleId"]); function Uf() { return Uf = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Uf.apply(this, arguments) } function Xf(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Vf(t, n) { var r = t.title, i = t.titleId, o = Xf(t, Hf); return e.createElement("svg", Uf({ viewBox: "-7 -35 133 105", xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, zf || (zf = e.createElement("path", { stroke: "#000000", strokeWidth: 8, d: "m0 57.952755l0 0c0 -32.006424 25.946333 -57.952755 57.952755 -57.952755c32.006428 0 57.952755 25.946333 57.952755 57.952755l-28.97638 0c0 -16.003212 -12.97316 -28.976377 -28.976376 -28.976377c-16.003212 0 -28.976377 12.9731655 -28.976377 28.976377z", fill: "none" }))) } var Gf, Yf = e.forwardRef(Vf), qf = (n.p, ["title", "titleId"]); function Kf() { return Kf = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Kf.apply(this, arguments) } function $f(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Zf(t, n) { var r = t.title, i = t.titleId, o = $f(t, qf); return e.createElement("svg", Kf({ xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", viewBox: "-10 -10 150 150", fill: "none", stroke: "none", strokeLinecap: "square", strokeMiterlimit: 10, ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Gf || (Gf = e.createElement("path", { stroke: "#000000", strokeWidth: 8, strokeLinejoin: "round", strokeLinecap: "butt", d: "m0 51.82677l42.665005 -9.161766l9.161766 -42.665005l9.161766 42.665005l42.665005 9.161766l-42.665005 9.161766l-9.161766 42.665005l-9.161766 -42.665005z", fillRule: "evenodd", fill: "none" }))) } var Qf, Jf = e.forwardRef(Zf), ed = (n.p, ["title", "titleId"]); function td() { return td = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, td.apply(this, arguments) } function nd(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function rd(t, n) { var r = t.title, i = t.titleId, o = nd(t, ed); return e.createElement("svg", td({ viewBox: "-15 -15 137 130", xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Qf || (Qf = e.createElement("path", { stroke: "#000000", strokeWidth: 8, d: "m1.09633125E-4 37.631077l39.59224 2.632141E-4l12.234421 -37.63134l12.234425 37.63134l39.59224 -2.632141E-4l-32.030952 23.257183l12.234924 37.631172l-32.030636 -23.257607l-32.03064 23.257607l12.234926 -37.631172z", fill: "none" }))) } var id, od = e.forwardRef(rd), ad = (n.p, ["title", "titleId"]); function sd() { return sd = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, sd.apply(this, arguments) } function ld(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function cd(t, n) { var r = t.title, i = t.titleId, o = ld(t, ad); return e.createElement("svg", sd({ xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", viewBox: "-10 -10 150 150", fill: "none", stroke: "none", strokeLinecap: "square", strokeMiterlimit: 10, ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, id || (id = e.createElement("path", { stroke: "#000000", strokeWidth: 8, strokeLinejoin: "round", strokeLinecap: "butt", d: "m0 59.82677l27.527777 -8.654488l-19.512508 -21.258898l28.167 6.268881l-6.268881 -28.167l21.258898 19.512508l8.654488 -27.527777l8.654491 27.527777l21.258896 -19.512508l-6.2688828 28.167l28.167 -6.268881l-19.512512 21.258898l27.527779 8.654488l-27.527779 8.654491l19.512512 21.258896l-28.167 -6.2688828l6.2688828 28.167l-21.258896 -19.512512l-8.654491 27.527779l-8.654488 -27.527779l-21.258898 19.512512l6.268881 -28.167l-28.167 6.2688828l19.512508 -21.258896z", fillRule: "evenodd" }))) } var ud, hd = e.forwardRef(cd), fd = (n.p, ["title", "titleId"]); function dd() { return dd = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, dd.apply(this, arguments) } function pd(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function gd(t, n) { var r = t.title, i = t.titleId, o = pd(t, fd); return e.createElement("svg", dd({ viewBox: "-10 -10 150 150", fill: "none", stroke: "none", strokeLinecap: "square", strokeMiterlimit: 10, xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, ud || (ud = e.createElement("path", { stroke: "#000000", strokeWidth: 8, strokeLinejoin: "round", strokeLinecap: "butt", d: "m0 59.82677l33.496998 -3.4664993l-31.45845 -12.017807l33.252647 5.321434l-27.275928 -19.750513l30.742428 13.746485l-21.234838 -26.137014l26.137014 21.234838l-13.746485 -30.742428l19.750513 27.275928l-5.321434 -33.252647l12.017807 31.45845l3.4664993 -33.496998l3.4664993 33.496998l12.017811 -31.45845l-5.321434 33.252647l19.750511 -27.275928l-13.746483 30.742428l26.137009 -21.234838l-21.234833 26.137014l30.742424 -13.746485l-27.275925 19.750513l33.252647 -5.321434l-31.45845 12.017807l33.496994 3.4664993l-33.496994 3.4664993l31.45845 12.017811l-33.252647 -5.321434l27.275925 19.750511l-30.742424 -13.746483l21.234833 26.137009l-26.137009 -21.234833l13.746483 30.742424l-19.750511 -27.275925l5.321434 33.252647l-12.017811 -31.45845l-3.4664993 33.496994l-3.4664993 -33.496994l-12.017807 31.45845l5.321434 -33.252647l-19.750513 27.275925l13.746485 -30.742424l-26.137014 21.234833l21.234838 -26.137009l-30.742428 13.746483l27.275928 -19.750511l-33.252647 5.321434l31.45845 -12.017811z", fillRule: "evenodd" }))) } var vd, md = e.forwardRef(gd), bd = (n.p, ["title", "titleId"]); function yd() { return yd = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, yd.apply(this, arguments) } function xd(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function wd(t, n) { var r = t.title, i = t.titleId, o = xd(t, bd); return e.createElement("svg", yd({ viewBox: "-10 -10 150 150", fill: "none", stroke: "none", strokeLinecap: "square", strokeMiterlimit: 10, xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, vd || (vd = e.createElement("path", { stroke: "#000000", strokeWidth: 8, strokeLinejoin: "round", strokeLinecap: "butt", d: "m0 59.82677l9.952638 -6.5662766l-7.91409 -8.91803l11.312678 -3.7663116l-5.3359585 -10.662767l11.902236 -0.7101288l-2.3946476 -11.680401l11.680401 2.3946476l0.7101288 -11.902236l10.662767 5.3359585l3.7663116 -11.312678l8.91803 7.91409l6.5662766 -9.952638l6.5662804 9.952638l8.91803 -7.91409l3.7663116 11.312678l10.6627655 -5.3359585l0.7101288 11.902236l11.680397 -2.3946476l-2.3946457 11.680401l11.902237 0.7101288l-5.3359604 10.662767l11.312683 3.7663116l-7.914093 8.91803l9.952637 6.5662766l-9.952637 6.5662804l7.914093 8.91803l-11.312683 3.7663116l5.3359604 10.6627655l-11.902237 0.7101288l2.3946457 11.680397l-11.680397 -2.3946457l-0.7101288 11.902237l-10.6627655 -5.3359604l-3.7663116 11.312683l-8.91803 -7.914093l-6.5662804 9.952637l-6.5662766 -9.952637l-8.91803 7.914093l-3.7663116 -11.312683l-10.662767 5.3359604l-0.7101288 -11.902237l-11.680401 2.3946457l2.3946476 -11.680397l-11.902236 -0.7101288l5.3359585 -10.6627655l-11.312678 -3.7663116l7.91409 -8.91803z", fillRule: "evenodd" }))) } var _d, Sd = e.forwardRef(wd), Cd = (n.p, ["title", "titleId"]); function Od() { return Od = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Od.apply(this, arguments) } function kd(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function jd(t, n) { var r = t.title, i = t.titleId, o = kd(t, Cd); return e.createElement("svg", Od({ viewBox: "-10 -40 140 140", fill: "none", stroke: "none", strokeLinecap: "square", strokeMiterlimit: 10, xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, _d || (_d = e.createElement("path", { stroke: "#000000", strokeWidth: 8, strokeLinejoin: "round", strokeLinecap: "butt", d: "m0 14.960629l89.732285 0l0 -14.960629l29.921257 29.921259l-29.921257 29.921259l0 -14.9606285l-89.732285 0z", fillRule: "evenodd" }))) } var Ed, Td = e.forwardRef(jd), Pd = (n.p, ["title", "titleId"]); function Ad() { return Ad = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Ad.apply(this, arguments) } function Md(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Dd(t, n) { var r = t.title, i = t.titleId, o = Md(t, Pd); return e.createElement("svg", Ad({ viewBox: "-10 -60 180 180", fill: "none", stroke: "none", strokeLinecap: "square", strokeMiterlimit: 10, xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Ed || (Ed = e.createElement("path", { stroke: "#000000", strokeWidth: 8, strokeLinecap: "butt", d: "m0 32.238846l27.590551 -27.590551l0 13.795275l82.80315 0l0 -13.795275l27.590553 27.590551l-27.590553 27.59055l0 -13.795273l-82.80315 0l0 13.795273z", fillRule: "evenodd" }))) } var Id, Ld = e.forwardRef(Dd), Fd = (n.p, ["title", "titleId"]); function Rd() { return Rd = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Rd.apply(this, arguments) } function Bd(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Nd(t, n) { var r = t.title, i = t.titleId, o = Bd(t, Fd); return e.createElement("svg", Rd({ viewBox: "-10 -10 150 150", fill: "none", stroke: "none", strokeLinecap: "square", strokeMiterlimit: 10, xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Id || (Id = e.createElement("path", { stroke: "#000000", strokeWidth: 8, strokeLinecap: "butt", d: "m0.005249344 89.74016l29.913385 -29.913387l0 14.956692l44.87008 0l0 -44.87008l-14.956692 0l29.913387 -29.913385l29.913383 29.913385l-14.956688 0l0 74.78347l-74.78347 0l0 14.956688z", fillRule: "evenodd" }))) } var zd, Wd = e.forwardRef(Nd), Hd = (n.p, ["title", "titleId"]); function Ud() { return Ud = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Ud.apply(this, arguments) } function Xd(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Vd(t, n) { var r = t.title, i = t.titleId, o = Xd(t, Hd); return e.createElement("svg", Ud({ viewBox: "-10 -20 200 200", fill: "none", stroke: "none", strokeLinecap: "square", strokeMiterlimit: 10, xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, zd || (zd = e.createElement("path", { stroke: "#000000", strokeWidth: 8, strokeLinecap: "butt", d: "m0.005249344 89.74016l29.913385 -29.913387l0 14.956692l40.35827 0l0 -44.87008l-14.956692 0l29.913387 -29.913385l29.913383 29.913385l-14.956688 0l0 44.87008l40.35826 0l0 -14.956692l29.913391 29.913387l-29.913391 29.913383l0 -14.956688l-110.62992 0l0 14.956688z", fillRule: "evenodd" }))) } var Gd, Yd = e.forwardRef(Vd), qd = (n.p, ["title", "titleId"]); function Kd() { return Kd = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Kd.apply(this, arguments) } function $d(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Zd(t, n) { var r = t.title, i = t.titleId, o = $d(t, qd); return e.createElement("svg", Kd({ viewBox: "-10 -10 150 150", fill: "none", stroke: "none", strokeLinecap: "square", strokeMiterlimit: 10, xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Gd || (Gd = e.createElement("path", { stroke: "#000000", strokeWidth: 8, strokeLinecap: "butt", d: "m0.005249344 59.82677l26.922047 -19.30849l0 9.424511l23.020744 0l0 -23.020744l-9.424511 0l19.30849 -26.922047l19.30849 26.922047l-9.424507 0l0 23.020744l23.020744 0l0 -9.424511l26.922043 19.30849l-26.922043 19.30849l0 -9.424507l-23.020744 0l0 23.020744l9.424507 0l-19.30849 26.922043l-19.30849 -26.922043l9.424511 0l0 -23.020744l-23.020744 0l0 9.424507z", fillRule: "evenodd" }))) } var Qd, Jd = e.forwardRef(Zd), ep = (n.p, ["title", "titleId"]); function tp() { return tp = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, tp.apply(this, arguments) } function np(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function rp(t, n) { var r = t.title, i = t.titleId, o = np(t, ep); return e.createElement("svg", tp({ viewBox: "-10 -10 158 136", fill: "none", stroke: "none", strokeLinecap: "square", strokeMiterlimit: 10, xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Qd || (Qd = e.createElement("path", { stroke: "#000000", strokeWidth: 8, strokeLinecap: "butt", d: "m0 77.22078l81.043304 0l0 -51.480316l-12.870079 0l25.740158 -25.740158l25.740158 25.740158l-12.870079 0l0 77.220474l-106.78346 0z", fillRule: "evenodd" }))) } var ip, op = e.forwardRef(rp), ap = (n.p, ["title", "titleId"]); function sp() { return sp = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, sp.apply(this, arguments) } function lp(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function cp(t, n) { var r = t.title, i = t.titleId, o = lp(t, ap); return e.createElement("svg", sp({ viewBox: "-10 -10 136 136", fill: "none", stroke: "none", strokeLinecap: "square", strokeMiterlimit: 10, xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, ip || (ip = e.createElement("path", { stroke: "#000000", strokeWidth: 8, strokeLinecap: "butt", d: "m0 102.96063l0 -57.915356l0 0c0 -24.87782 20.167458 -45.045277 45.045277 -45.045277l0 0l0 0c11.946751 0 23.404194 4.7458277 31.851818 13.193456c8.447632 8.447627 13.193459 19.905071 13.193459 31.851822l0 6.4350395l12.870079 0l-25.740158 25.740158l-25.740158 -25.740158l12.870079 0l0 -6.4350395c0 -10.661922 -8.643196 -19.305119 -19.305119 -19.305119l0 0l0 0c-10.661922 0 -19.305119 8.643196 -19.305119 19.305119l0 57.915356z", fillRule: "evenodd" }))) } var up, hp = e.forwardRef(cp), fp = (n.p, ["title", "titleId"]); function dp() { return dp = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, dp.apply(this, arguments) } function pp(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function gp(t, n) { var r = t.title, i = t.titleId, o = pp(t, fp); return e.createElement("svg", dp({ viewBox: "-10 -10 180 180", fill: "none", stroke: "none", strokeLinecap: "square", strokeMiterlimit: 10, xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, up || (up = e.createElement("path", { stroke: "#000000", strokeWidth: 8, strokeLinecap: "butt", d: "m0 0l25.742783 0l0 0l38.614174 0l90.09974 0l0 52.74803l0 0l0 22.6063l0 15.070862l-90.09974 0l-61.5304 52.813744l22.916225 -52.813744l-25.742783 0l0 -15.070862l0 -22.6063l0 0z", fillRule: "evenodd" }))) } var vp, mp = e.forwardRef(gp), bp = (n.p, ["title", "titleId"]); function yp() { return yp = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, yp.apply(this, arguments) } function xp(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function wp(t, n) { var r = t.title, i = t.titleId, o = xp(t, bp); return e.createElement("svg", yp({ viewBox: "-10 -10 180 180", fill: "none", stroke: "none", strokeLinecap: "square", strokeMiterlimit: 10, xmlnsXlink: "http://www.w3.org/1999/xlink", xmlns: "http://www.w3.org/2000/svg", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, vp || (vp = e.createElement("path", { stroke: "#000000", strokeWidth: 8, strokeLinejoin: "round", strokeLinecap: "butt", d: "m1.0425826 140.35696l25.78009 -49.87359l0 0c-30.142242 -17.309525 -35.62507 -47.05113 -12.666686 -68.71045c22.958385 -21.65932 66.84442 -28.147947 101.387596 -14.990329c34.543175 13.1576185 48.438576 41.655407 32.10183 65.83693c-16.336761 24.181526 -57.559166 36.132935 -95.233955 27.61071z", fillRule: "evenodd" }))) } var _p, Sp = e.forwardRef(wp), Cp = (n.p, ["title", "titleId"]); function Op() { return Op = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Op.apply(this, arguments) } function kp(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function jp(t, n) { var r = t.title, i = t.titleId, o = kp(t, Cp); return e.createElement("svg", Op({ xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink", viewBox: "0 -5 100 100", x: "0px", y: "0px", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, _p || (_p = e.createElement("path", { fill: "none", stroke: "#000", strokeWidth: 8, d: "M55.2785222,56.3408313 C51.3476874,61.3645942 45.2375557,64.5921788 38.3756345,64.5921788 C31.4568191,64.5921788 25.3023114,61.3108505 21.3754218,56.215501 C10.6371566,55.0276798 2.28426396,45.8997866 2.28426396,34.8156425 C2.28426396,27.0769445 6.35589452,20.2918241 12.4682429,16.4967409 C14.7287467,7.0339786 23.2203008,0 33.3502538,0 C38.667844,0 43.5339584,1.93827732 47.284264,5.14868458 C51.0345695,1.93827732 55.9006839,0 61.2182741,0 C73.0769771,0 82.6903553,9.6396345 82.6903553,21.5307263 C82.6903553,22.0787821 82.6699341,22.6220553 82.629813,23.1598225 C87.1459866,27.1069477 90,32.9175923 90,39.396648 C90,51.2877398 80.3866218,60.9273743 68.5279188,60.9273743 C63.5283115,60.9273743 58.9277995,59.2139774 55.2785222,56.3408313 L55.2785222,56.3408313 Z M4.79695431,82 C7.44623903,82 9.59390863,80.6668591 9.59390863,79.0223464 C9.59390863,77.3778337 7.44623903,76.0446927 4.79695431,76.0446927 C2.1476696,76.0446927 0,77.3778337 0,79.0223464 C0,80.6668591 2.1476696,82 4.79695431,82 Z M13.7055838,71.9217877 C18.4995275,71.9217877 22.3857868,69.4606044 22.3857868,66.424581 C22.3857868,63.3885576 18.4995275,60.9273743 13.7055838,60.9273743 C8.91163999,60.9273743 5.02538071,63.3885576 5.02538071,66.424581 C5.02538071,69.4606044 8.91163999,71.9217877 13.7055838,71.9217877 Z" }))) } var Ep, Tp, Pp, Ap, Mp, Dp, Ip, Lp, Fp, Rp, Bp, Np, zp, Wp, Hp, Up, Xp = e.forwardRef(jp), Vp = (n.p, function (e) { var t = e.canvas, n = function (e) { p.fabric.loadSVGFromString(e.currentTarget.children[0].outerHTML, (function (e, n) { var r = p.fabric.util.groupSVGElements(e, n); r.strokeUniform = !0, r.strokeLineJoin = "miter", r.scaleToWidth(100), r.scaleToHeight(100), r.set({ left: 0, top: 0 }), t.add(r).renderAll(), t.trigger("object:modified") })) }; return (0, s.jsxs)(s.Fragment, { children: [(0, s.jsx)("p", { className: "title", children: v("SHAPES") }), (0, s.jsxs)("div", { className: "shapes", children: [(0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(zu, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(Gu, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(Qu, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(ih, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(uh, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(vh, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(_h, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(Eh, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(Ih, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(zh, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(Gh, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(Qh, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(of, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(hf, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(mf, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(Sf, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(Tf, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(Lf, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(Wf, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(Yf, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(Jf, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(od, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(hd, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(md, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(Sd, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(Td, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(Ld, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(Wd, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(Yd, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(Jd, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(op, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(hp, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(mp, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(Sp, {}) }), (0, s.jsx)("div", { className: "button", onClick: function (e) { return n(e) }, children: (0, s.jsx)(Xp, {}) })] })] }) }), Gp = ["title", "titleId"]; function Yp() { return Yp = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Yp.apply(this, arguments) } function qp(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Kp(t, n) { var r = t.title, i = t.titleId, o = qp(t, Gp); return e.createElement("svg", Yp({ id: "Capa_1", xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink", x: "0px", y: "0px", viewBox: "0 0 368 368", style: { enableBackground: "new 0 0 368 368" }, xmlSpace: "preserve", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Ep || (Ep = e.createElement("g", null, e.createElement("g", null, e.createElement("g", null, e.createElement("path", { d: "M184,224c-29.824,0-58.232,12.632-77.96,34.664c-2.944,3.296-2.664,8.344,0.624,11.296c1.52,1.368,3.432,2.04,5.336,2.04 c2.192,0,4.384-0.896,5.96-2.664C134.656,250.688,158.728,240,184,240c25.28,0,49.352,10.688,66.04,29.336 c2.944,3.296,8.008,3.568,11.296,0.624c3.288-2.944,3.568-8,0.624-11.296C242.24,236.64,213.832,224,184,224z" }), e.createElement("path", { d: "M184,0C82.536,0,0,82.544,0,184s82.536,184,184,184s184-82.544,184-184S285.464,0,184,0z M184,352 c-92.632,0-168-75.36-168-168S91.368,16,184,16s168,75.36,168,168S276.632,352,184,352z" }), e.createElement("path", { d: "M280,128c-4.424,0-8,3.584-8,8c0,13.232-10.768,24-24,24s-24-10.768-24-24c0-4.416-3.576-8-8-8s-8,3.584-8,8 c0,22.056,17.944,40,40,40c22.056,0,40-17.944,40-40C288,131.584,284.424,128,280,128z" }), e.createElement("path", { d: "M160,136c0-4.416-3.576-8-8-8s-8,3.584-8,8c0,13.232-10.768,24-24,24s-24-10.768-24-24c0-4.416-3.576-8-8-8s-8,3.584-8,8 c0,22.056,17.944,40,40,40C142.056,176,160,158.056,160,136z" }))))), Tp || (Tp = e.createElement("g", null)), Pp || (Pp = e.createElement("g", null)), Ap || (Ap = e.createElement("g", null)), Mp || (Mp = e.createElement("g", null)), Dp || (Dp = e.createElement("g", null)), Ip || (Ip = e.createElement("g", null)), Lp || (Lp = e.createElement("g", null)), Fp || (Fp = e.createElement("g", null)), Rp || (Rp = e.createElement("g", null)), Bp || (Bp = e.createElement("g", null)), Np || (Np = e.createElement("g", null)), zp || (zp = e.createElement("g", null)), Wp || (Wp = e.createElement("g", null)), Hp || (Hp = e.createElement("g", null)), Up || (Up = e.createElement("g", null))) } var $p, Zp = e.forwardRef(Kp), Qp = n.p + "static/media/sad-smiley.a066d461185971758f09615119307e47.svg", Jp = function (t) { var n = t.canvas, r = (0, e.useRef)(null), i = (0, e.useRef)(null); if (!window.File && !window.FileReader && !window.FileList && !window.Blob) return (0, s.jsxs)("div", { className: "file-upload no-support", children: [(0, s.jsxs)("p", { children: [v("Your browser doesn't support file upload. Please upgrade to a modern browser, for example:"), " ", (0, s.jsx)("a", { href: "https://www.google.com/chrome/", target: "_blank", rel: "noopener noreferrer", children: "Chrome!" })] }), (0, s.jsx)("p", { children: (0, s.jsx)(Zp, {}) })] }); var o = function (e, t) { e.preventDefault(), i.current.style.backgroundColor = "#fff"; var r, o = ["image/jpeg", "image/png", "image/svg+xml"], a = y(t); try { for (a.s(); !(r = a.n()).done;) { var s = r.value; if (o.includes(s.type)) { var l = new FileReader; "image/svg+xml" !== s.type ? (l.onload = function (e) { p.fabric.Image.fromURL(e.target.result, (function (e) { e.set({ left: 0, top: 0 }), e.scaleToHeight(300), e.scaleToWidth(300), n.add(e), n.renderAll(), n.trigger("object:modified") })) }, l.readAsDataURL(s)) : (l.onload = function (e) { p.fabric.loadSVGFromString(e.target.result, (function (e, t) { var r = p.fabric.util.groupSVGElements(e, t); r.set({ left: 0, top: 0 }).setCoords(), n.add(r), n.renderAll(), n.trigger("object:modified") })) }, l.readAsText(s)) } } } catch (c) { a.e(c) } finally { a.f() } }; return (0, s.jsxs)(s.Fragment, { children: [(0, s.jsx)("p", { className: "title", children: v("UPLOAD IMAGE") }), (0, s.jsxs)("div", { className: "file-upload", children: [(0, s.jsx)("p", { children: v("File upload happens via HTML5 File API, so we don't use the server to store user images. You can also copy paste an image from the clipboard!") }), (0, s.jsx)("div", { className: "drop", ref: i, onClick: function () { return r.current.click() }, onDrop: function (e) { return o(e, e.dataTransfer.files) }, onDragOver: function (e) { e.preventDefault(), i.current.style.backgroundColor = "#ddd" }, onDragLeave: function (e) { e.preventDefault(), i.current.style.backgroundColor = "#fff" }, children: (0, s.jsxs)("div", { className: "info", children: [v("Drag & drop files"), (0, s.jsx)("br", {}), v("or click to browse."), (0, s.jsx)("br", {}), v("JPG, PNG or SVG only!")] }) }), (0, s.jsx)("input", { type: "file", onChange: function (e) { return o(e, r.current.files) }, multiple: !0, ref: r, style: { display: "none" } })] })] }) }; try { localStorage.setItem("test", "item"), localStorage.removeItem("test"), $p = !0 } catch (Uv) { $p = !1 } var eg, tg = { save: function (e, t) { $p ? (t instanceof Object && (t = JSON.stringify(t)), localStorage.setItem(e, t)) : alert(v("Browser storage is not supported in this browser!")) }, load: function (e) { var t = localStorage.getItem(e); return function (e) { try { JSON.parse(e) } catch (Uv) { return !1 } return !0 }(t) && (t = JSON.parse(t)), t }, remove: function (e) { localStorage.removeItem(e) } }, ng = function (e) { for (var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "png", n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "image/png", r = e.toString().replace(/^data:image\/(png|jpeg|jpg);base64,/, ""), i = atob(r), o = new Array(i.length), a = 0; a < i.length; a += 1)o[a] = i.charCodeAt(a); var s = new Uint8Array(o), l = new Blob([s], { type: n + ";base64" }), c = window.URL.createObjectURL(l); if (window.navigator && window.navigator.msSaveOrOpenBlob) window.navigator.msSaveOrOpenBlob(l); else { var u = document.createElement("a"); u.href = c, u.download = "image." + t, u.dispatchEvent(new MouseEvent("click")), setTimeout((function () { window.URL.revokeObjectURL(c) }), 60) } }, rg = function (e, t, n) { var r = 0 === t.index ? 0 : t.index - 1; e.loadFromJSON(t.states[r], e.renderAll.bind(e)), n({ index: r, states: o(t.states) }) }, ig = function (e, t, n) { if (t.index !== t.states.length - 1) { var r = t.index + 1; e.loadFromJSON(t.states[r], e.renderAll.bind(e)), n({ index: r, states: o(t.states) }) } }, og = [v("Tip: use arrows to move a selected object by 1 pixel!"), v("Tip: Shift + Click to select and modify multiple objects!"), v("Tip: hold Shift when rotating an object for 15\xb0 angle jumps!"), v("Tip: hold Shift when drawing a line for 15\xb0 angle jumps!")], ag = .05, sg = [.05, .1, .25, .5, .75, 1, 1.5, 2, 2.5, 3], lg = function (e, t) { e.setZoom(t), e.setWidth(e.originalW * e.getZoom()), e.setHeight(e.originalH * e.getZoom()), e.renderAll(); var n = document.querySelector(".canvas-holder"), r = n.offsetWidth, i = n.offsetHeight, o = document.querySelector(".canvas-container"), a = o.offsetWidth + 100, s = o.offsetHeight + 100; n.scrollLeft = (a - r) / 2, n.scrollTop = (s - i) / 2 }, cg = ["title", "titleId"]; function ug() { return ug = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, ug.apply(this, arguments) } function hg(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function fg(t, n) { var r = t.title, i = t.titleId, o = hg(t, cg); return e.createElement("svg", ug({ height: "512pt", viewBox: "0 0 512 512", width: "512pt", xmlns: "http://www.w3.org/2000/svg", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, eg || (eg = e.createElement("path", { d: "m499.953125 197.703125-39.351563-8.554687c-3.421874-10.476563-7.660156-20.695313-12.664062-30.539063l21.785156-33.886719c3.890625-6.054687 3.035156-14.003906-2.050781-19.089844l-61.304687-61.304687c-5.085938-5.085937-13.035157-5.941406-19.089844-2.050781l-33.886719 21.785156c-9.84375-5.003906-20.0625-9.242188-30.539063-12.664062l-8.554687-39.351563c-1.527344-7.03125-7.753906-12.046875-14.949219-12.046875h-86.695312c-7.195313 0-13.421875 5.015625-14.949219 12.046875l-8.554687 39.351563c-10.476563 3.421874-20.695313 7.660156-30.539063 12.664062l-33.886719-21.785156c-6.054687-3.890625-14.003906-3.035156-19.089844 2.050781l-61.304687 61.304687c-5.085937 5.085938-5.941406 13.035157-2.050781 19.089844l21.785156 33.886719c-5.003906 9.84375-9.242188 20.0625-12.664062 30.539063l-39.351563 8.554687c-7.03125 1.53125-12.046875 7.753906-12.046875 14.949219v86.695312c0 7.195313 5.015625 13.417969 12.046875 14.949219l39.351563 8.554687c3.421874 10.476563 7.660156 20.695313 12.664062 30.539063l-21.785156 33.886719c-3.890625 6.054687-3.035156 14.003906 2.050781 19.089844l61.304687 61.304687c5.085938 5.085937 13.035157 5.941406 19.089844 2.050781l33.886719-21.785156c9.84375 5.003906 20.0625 9.242188 30.539063 12.664062l8.554687 39.351563c1.527344 7.03125 7.753906 12.046875 14.949219 12.046875h86.695312c7.195313 0 13.421875-5.015625 14.949219-12.046875l8.554687-39.351563c10.476563-3.421874 20.695313-7.660156 30.539063-12.664062l33.886719 21.785156c6.054687 3.890625 14.003906 3.039063 19.089844-2.050781l61.304687-61.304687c5.085937-5.085938 5.941406-13.035157 2.050781-19.089844l-21.785156-33.886719c5.003906-9.84375 9.242188-20.0625 12.664062-30.539063l39.351563-8.554687c7.03125-1.53125 12.046875-7.753906 12.046875-14.949219v-86.695312c0-7.195313-5.015625-13.417969-12.046875-14.949219zm-152.160156 58.296875c0 50.613281-41.179688 91.792969-91.792969 91.792969s-91.792969-41.179688-91.792969-91.792969 41.179688-91.792969 91.792969-91.792969 91.792969 41.179688 91.792969 91.792969zm0 0" }))) } var dg, pg = e.forwardRef(fg), gg = (n.p, ["title", "titleId"]); function vg() { return vg = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, vg.apply(this, arguments) } function mg(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function bg(t, n) { var r = t.title, i = t.titleId, o = mg(t, gg); return e.createElement("svg", vg({ id: "Capa_1", xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink", x: "0px", y: "0px", viewBox: "0 0 512.011 512.011", style: { enableBackground: "new 0 0 512.011 512.011" }, xmlSpace: "preserve", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, dg || (dg = e.createElement("path", { d: "M511.136,286.255C502.08,194.863,419.84,128.015,328,128.015H192v-80c0-6.144-3.52-11.744-9.056-14.432 c-5.568-2.656-12.128-1.952-16.928,1.92l-160,128C2.208,166.575,0,171.151,0,176.015s2.208,9.44,5.984,12.512l160,128 c2.912,2.304,6.464,3.488,10.016,3.488c2.368,0,4.736-0.512,6.944-1.568c5.536-2.688,9.056-8.288,9.056-14.432v-80h139.392 c41.856,0,80,30.08,84.192,71.712c4.832,47.872-32.704,88.288-79.584,88.288H208c-8.832,0-16,7.168-16,16v64 c0,8.832,7.168,16,16,16h128C438.816,480.015,521.472,391.151,511.136,286.255z" }))) } var yg, xg = e.forwardRef(bg), wg = (n.p, ["title", "titleId"]); function _g() { return _g = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, _g.apply(this, arguments) } function Sg(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Cg(t, n) { var r = t.title, i = t.titleId, o = Sg(t, wg); return e.createElement("svg", _g({ id: "Capa_1", xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink", x: "0px", y: "0px", viewBox: "0 0 512.011 512.011", style: { transform: "scale(-1,1)" }, xmlSpace: "preserve", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, yg || (yg = e.createElement("path", { d: "M511.136,286.255C502.08,194.863,419.84,128.015,328,128.015H192v-80c0-6.144-3.52-11.744-9.056-14.432             c-5.568-2.656-12.128-1.952-16.928,1.92l-160,128C2.208,166.575,0,171.151,0,176.015s2.208,9.44,5.984,12.512l160,128             c2.912,2.304,6.464,3.488,10.016,3.488c2.368,0,4.736-0.512,6.944-1.568c5.536-2.688,9.056-8.288,9.056-14.432v-80h139.392             c41.856,0,80,30.08,84.192,71.712c4.832,47.872-32.704,88.288-79.584,88.288H208c-8.832,0-16,7.168-16,16v64             c0,8.832,7.168,16,16,16h128C438.816,480.015,521.472,391.151,511.136,286.255z" }))) } var Og, kg = e.forwardRef(Cg), jg = (n.p, ["title", "titleId"]); function Eg() { return Eg = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Eg.apply(this, arguments) } function Tg(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Pg(t, n) { var r = t.title, i = t.titleId, o = Tg(t, jg); return e.createElement("svg", Eg({ id: "Capa_1", xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink", x: "0px", y: "0px", width: "128px", height: "128px", viewBox: "0 0 490.434 490.433", style: { enableBackground: "new 0 0 490.434 490.433" }, xmlSpace: "preserve", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Og || (Og = e.createElement("g", null, e.createElement("path", { d: "M472.003,58.36l-13.132-11.282c-21.798-18.732-54.554-16.644-73.799,4.697L165.39,295.359l-66.312-57.112 c-21.775-18.753-54.536-16.707-73.804,4.611l-11.611,12.848c-9.416,10.413-14.305,24.149-13.595,38.18 c0.717,14.023,6.973,27.188,17.402,36.6l121.553,111.311c10.524,9.883,24.628,15.037,39.044,14.272 c14.416-0.763,27.894-7.386,37.311-18.329l262.245-304.71c9.162-10.646,13.717-24.494,12.661-38.496 C489.229,80.522,482.655,67.512,472.003,58.36z" })))) } var Ag, Mg = e.forwardRef(Pg), Dg = (n.p, ["title", "titleId"]); function Ig() { return Ig = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Ig.apply(this, arguments) } function Lg(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Fg(t, n) { var r = t.title, i = t.titleId, o = Lg(t, Dg); return e.createElement("svg", Ig({ id: "Capa_1", xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink", x: "0px", y: "0px", width: "128px", height: "128px", viewBox: "0 0 512.171 512.171", style: { enableBackground: "new 0 0 512.171 512.171" }, xmlSpace: "preserve", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Ag || (Ag = e.createElement("g", null, e.createElement("g", null, e.createElement("path", { d: "M479.046,283.925c-1.664-3.989-5.547-6.592-9.856-6.592H352.305V10.667C352.305,4.779,347.526,0,341.638,0H170.971 c-5.888,0-10.667,4.779-10.667,10.667v266.667H42.971c-4.309,0-8.192,2.603-9.856,6.571c-1.643,3.989-0.747,8.576,2.304,11.627 l212.8,213.504c2.005,2.005,4.715,3.136,7.552,3.136s5.547-1.131,7.552-3.115l213.419-213.504 C479.793,292.501,480.71,287.915,479.046,283.925z" }))))) } var Rg, Bg = e.forwardRef(Fg), Ng = (n.p, ["title", "titleId"]); function zg() { return zg = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, zg.apply(this, arguments) } function Wg(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Hg(t, n) { var r = t.title, i = t.titleId, o = Wg(t, Ng); return e.createElement("svg", zg({ width: "128px", height: "128px", viewBox: "0 0 365.696 365.696", xmlns: "http://www.w3.org/2000/svg", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Rg || (Rg = e.createElement("path", { d: "m243.1875 182.859375 113.132812-113.132813c12.5-12.5 12.5-32.765624 0-45.246093l-15.082031-15.082031c-12.503906-12.503907-32.769531-12.503907-45.25 0l-113.128906 113.128906-113.132813-113.152344c-12.5-12.5-32.765624-12.5-45.246093 0l-15.105469 15.082031c-12.5 12.503907-12.5 32.769531 0 45.25l113.152344 113.152344-113.128906 113.128906c-12.503907 12.503907-12.503907 32.769531 0 45.25l15.082031 15.082031c12.5 12.5 32.765625 12.5 45.246093 0l113.132813-113.132812 113.128906 113.132812c12.503907 12.5 32.769531 12.5 45.25 0l15.082031-15.082031c12.5-12.503906 12.5-32.769531 0-45.25zm0 0" }))) } var Ug = e.forwardRef(Hg), Xg = (n.p, ["title", "titleId"]); function Vg() { return Vg = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Vg.apply(this, arguments) } function Gg(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Yg(t, n) { var r = t.title, i = t.titleId, o = Gg(t, Xg); return e.createElement("svg", Vg({ xmlns: "http://www.w3.org/2000/svg", height: "512pt", viewBox: "0 -3 512 512", width: "512pt", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, e.createElement("g", { id: "surface1" }, e.createElement("path", { d: "M 497.171875 86.429688 C 506.734375 76.867188 512 64.152344 512 50.628906 C 512 37.105469 506.734375 24.390625 497.171875 14.828125 C 487.609375 5.265625 474.894531 0 461.371094 0 C 447.847656 0 435.132812 5.265625 425.570312 14.828125 L 198.296875 242.105469 L 269.894531 313.703125 Z M 497.171875 86.429688 ", style: { stroke: "none", fillRule: "nonzero", fill: "rgb(0%,0%,0%)", fillOpacity: 1 } }), e.createElement("path", { d: "M 65.839844 506.65625 C 92.171875 507.21875 130.371094 496.695312 162.925781 459.074219 C 164.984375 456.691406 166.894531 454.285156 168.664062 451.855469 C 179.460938 435.875 184.695312 418.210938 183.855469 400.152344 C 182.945312 380.5625 174.992188 362.324219 161.460938 348.796875 C 150.28125 337.613281 134.722656 331.457031 117.648438 331.457031 C 95.800781 331.457031 73.429688 341.296875 56.277344 358.449219 C 31.574219 383.152344 31.789062 404.234375 31.976562 422.839844 C 32.15625 440.921875 32.316406 456.539062 11.101562 480.644531 L 0 493.257812 C 0 493.257812 26.828125 505.820312 65.839844 506.65625 Z M 65.839844 506.65625 ", style: { stroke: "none", fillRule: "nonzero", fill: "rgb(0%,0%,0%)", fillOpacity: 1 } }), e.createElement("path", { d: "M 209.980469 373.621094 L 248.496094 335.101562 L 176.894531 263.503906 L 137.238281 303.160156 C 154.691406 306.710938 170.464844 315 182.859375 327.394531 C 195.746094 340.285156 205.003906 356.1875 209.980469 373.621094 Z M 209.980469 373.621094 ", style: { stroke: "none", fillRule: "nonzero", fill: "rgb(0%,0%,0%)", fillOpacity: 1 } }))) } var qg, Kg = e.forwardRef(Yg), $g = (n.p, ["title", "titleId"]); function Zg() { return Zg = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Zg.apply(this, arguments) } function Qg(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Jg(t, n) { var r = t.title, i = t.titleId, o = Qg(t, $g); return e.createElement("svg", Zg({ id: "Capa_1", xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink", x: "0px", y: "0px", viewBox: "0 0 512 512", style: { enableBackground: "new 0 0 512 512" }, xmlSpace: "preserve", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, qg || (qg = e.createElement("g", null, e.createElement("g", null, e.createElement("path", { d: "M423.547,323.115l-320-320c-3.051-3.051-7.637-3.947-11.627-2.304s-6.592,5.547-6.592,9.856V480 c0,4.501,2.837,8.533,7.083,10.048c4.224,1.536,8.981,0.192,11.84-3.285l85.205-104.128l56.853,123.179 c1.792,3.883,5.653,6.187,9.685,6.187c1.408,0,2.837-0.277,4.203-0.875l74.667-32c2.645-1.131,4.736-3.285,5.76-5.973 c1.024-2.688,0.939-5.675-0.277-8.299l-57.024-123.52h132.672c4.309,0,8.213-2.603,9.856-6.592 C427.515,330.752,426.598,326.187,423.547,323.115z" }))))) } var ev, tv = e.forwardRef(Jg), nv = (n.p, ["title", "titleId"]); function rv() { return rv = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, rv.apply(this, arguments) } function iv(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function ov(t, n) { var r = t.title, i = t.titleId, o = iv(t, nv); return e.createElement("svg", rv({ id: "Capa_1", xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink", x: "0px", y: "0px", viewBox: "0 0 512 512", style: { enableBackground: "new 0 0 512 512" }, xmlSpace: "preserve", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, ev || (ev = e.createElement("path", { d: "M349.091,0v124.516L124.516,349.091H0V512h162.909V387.484l224.574-224.574H512V0H349.091z M54.303,457.696v-54.303 h54.303v54.303H54.303z M457.696,108.605h-54.303V54.303h54.303V108.605z" }))) } var av = e.forwardRef(ov), sv = (n.p, ["title", "titleId"]); function lv() { return lv = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, lv.apply(this, arguments) } function cv(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function uv(t, n) { var r = t.title, i = t.titleId, o = cv(t, sv); return e.createElement("svg", lv({ xmlns: "http://www.w3.org/2000/svg", id: "svg8", viewBox: "28 55 140 140", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, e.createElement("path", { style: { strokeWidth: .26458332 }, d: "m 28.386086,150.01543 v 43.10301 H 71.489092 V 178.7505 H 120.75466 V 164.38283 H 71.355237 L 71.488872,150.0086 H 57.121421 c 0,-49.247 14.367449,-63.614929 63.633239,-63.614929 v -14.36768 c -63.633239,0 -78.000906,28.735609 -78.000906,77.982609 l -14.367888,0.007 z m 14.367669,28.73507 v -14.36767 h 14.367668 v 14.36767 z", id: "path840" }), e.createElement("path", { style: { strokeWidth: .26458332 }, d: "m 120.74975,150.00843 v 43.10301 h 43.10301 V 150.0016 l -43.10301,0.007 z m 14.36767,28.73507 v -14.36767 h 14.36767 v 14.36767 z", id: "path840-1" }), e.createElement("path", { style: { strokeWidth: .26458332 }, d: "m 120.74975,57.658601 v 43.103009 h 43.10301 V 57.651771 l -43.10301,0.007 z m 14.36767,28.73507 v -14.36767 h 14.36767 v 14.36767 z", id: "path840-1-0" })) } var hv, fv = e.forwardRef(uv), dv = (n.p, ["title", "titleId"]); function pv() { return pv = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, pv.apply(this, arguments) } function gv(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function vv(t, n) { var r = t.title, i = t.titleId, o = gv(t, dv); return e.createElement("svg", pv({ id: "Capa_1", xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink", x: "0px", y: "0px", viewBox: "0 0 490.927 490.927", style: { enableBackground: "new 0 0 490.927 490.927" }, xmlSpace: "preserve", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, hv || (hv = e.createElement("path", { d: "M336.738,178.502c-12.645,0-24.852,1.693-36.627,4.582L202.57,11.786c-5.869-10.321-22.84-10.321-28.709,0L2.163,313.311 c-2.906,5.105-2.889,11.385,0.078,16.466c2.953,5.088,8.389,8.216,14.275,8.216l166.314,0.009 c2.818,82.551,70.688,148.88,153.906,148.88c85.012,0,154.19-69.167,154.19-154.186S421.749,178.502,336.738,178.502z  M44.917,304.964l143.299-251.63L331.515,304.97L44.917,304.964z" }))) } var mv, bv, yv = e.forwardRef(vv), xv = (n.p, ["title", "titleId"]); function wv() { return wv = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, wv.apply(this, arguments) } function _v(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Sv(t, n) { var r = t.title, i = t.titleId, o = _v(t, xv); return e.createElement("svg", wv({ id: "Capa_1", xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink", x: "0px", y: "0px", viewBox: "0 0 512 512", style: { enableBackground: "new 0 0 512 512" }, xmlSpace: "preserve", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, mv || (mv = e.createElement("g", null, e.createElement("g", null, e.createElement("path", { d: "M497,90c8.291,0,15-6.709,15-15V15c0-8.291-6.709-15-15-15h-60c-8.291,0-15,6.709-15,15v15H90V15c0-8.401-6.599-15-15-15 H15C6.599,0,0,6.599,0,15v60c0,8.399,6.599,15,15,15h15v332H15c-8.291,0-15,6.709-15,15v60c0,8.291,6.709,15,15,15h60 c8.291,0,15-6.709,15-15v-15h332v15c0,8.399,6.599,15,15,15h60c8.401,0,15-6.601,15-15v-60c0-8.401-6.599-15-15-15h-15V90H497z  M452,422h-15c-8.401,0-15,6.599-15,15v15H90v-15c0-8.291-6.709-15-15-15H60V90h15c8.401,0,15-6.601,15-15V60h332v15 c0,8.291,6.709,15,15,15h15V422z" })))), bv || (bv = e.createElement("g", null, e.createElement("g", null, e.createElement("path", { d: "M361,105H151c-8.291,0-15,6.709-15,15v60c0,6.064,3.647,11.543,9.258,13.857c5.625,2.329,12.056,1.04,16.348-3.252 L187.211,165H226v176.459l-27.48,42.221c-3.062,4.6-3.354,10.518-0.747,15.396S205.463,407,211,407h90 c5.537,0,10.62-3.047,13.228-7.925c2.608-4.878,2.314-10.796-0.747-15.396L286,341.459V165h38.789l25.605,25.605 c4.307,4.307,10.781,5.596,16.348,3.252c5.61-2.314,9.258-7.793,9.258-13.857v-60C376,111.709,369.291,105,361,105z" }))))) } var Cv, Ov = e.forwardRef(Sv), kv = (n.p, ["title", "titleId"]); function jv() { return jv = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, jv.apply(this, arguments) } function Ev(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Tv(t, n) { var r = t.title, i = t.titleId, o = Ev(t, kv); return e.createElement("svg", jv({ id: "Capa_1", xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink", x: "0px", y: "0px", viewBox: "0 0 512 512", style: { enableBackground: "new 0 0 512 512" }, xmlSpace: "preserve", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Cv || (Cv = e.createElement("path", { d: "M412.907,214.08C398.4,140.693,333.653,85.333,256,85.333c-61.653,0-115.093,34.987-141.867,86.08 C50.027,178.347,0,232.64,0,298.667c0,70.72,57.28,128,128,128h277.333C464.213,426.667,512,378.88,512,320 C512,263.68,468.16,218.027,412.907,214.08z M298.667,277.333v85.333h-85.333v-85.333h-64L256,170.667l106.667,106.667H298.667z" }))) } var Pv, Av = e.forwardRef(Tv), Mv = (n.p, ["title", "titleId"]); function Dv() { return Dv = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var n = arguments[t]; for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]) } return e }, Dv.apply(this, arguments) } function Iv(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, o = Object.keys(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (r = 0; r < o.length; r++)n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } function Lv(t, n) { var r = t.title, i = t.titleId, o = Iv(t, Mv); return e.createElement("svg", Dv({ xmlns: "http://www.w3.org/2000/svg", height: "136pt", viewBox: "-1 0 136 136.21852", width: "136pt", ref: n, "aria-labelledby": i }, o), r ? e.createElement("title", { id: i }, r) : null, Pv || (Pv = e.createElement("path", { d: "M 93.148438 80.832031 C 109.5 57.742188 104.03125 25.769531 80.941406 9.421875 C 57.851562 -6.925781 25.878906 -1.460938 9.53125 21.632812 C -6.816406 44.722656 -1.351562 76.691406 21.742188 93.039062 C 38.222656 104.707031 60.011719 105.605469 77.394531 95.339844 L 115.164062 132.882812 C 119.242188 137.175781 126.027344 137.347656 130.320312 133.269531 C 134.613281 129.195312 134.785156 122.410156 130.710938 118.117188 C 130.582031 117.980469 130.457031 117.855469 130.320312 117.726562 Z M 51.308594 84.332031 C 33.0625 84.335938 18.269531 69.554688 18.257812 51.308594 C 18.253906 33.0625 33.035156 18.269531 51.285156 18.261719 C 69.507812 18.253906 84.292969 33.011719 84.328125 51.234375 C 84.359375 69.484375 69.585938 84.300781 51.332031 84.332031 C 51.324219 84.332031 51.320312 84.332031 51.308594 84.332031 Z M 51.308594 84.332031" }))) } var Fv = e.forwardRef(Lv), Rv = (n.p, function () { var t = a((0, e.useState)({ message: null, type: null, seconds: null }), 2), n = t[0], r = t[1], i = a((0, e.useState)(!1), 2), p = i[0], g = i[1], m = a((0, e.useState)("select"), 2), b = m[0], y = m[1], x = a((0, e.useState)(), 2), w = x[0], _ = x[1], S = a((0, e.useState)(!0), 2), C = S[0], j = S[1], E = a((0, e.useState)(null), 2), T = E[0], P = E[1], A = a((0, e.useState)(!1), 2), M = A[0], D = A[1], I = a((0, e.useState)({ index: null, states: [] }), 2), L = I[0], F = I[1], R = a((0, e.useState)(og[Math.floor(Math.random() * og.length)]), 2), B = R[0], N = R[1], z = a((0, e.useState)(1), 2), W = z[0], H = z[1]; (0, e.useEffect)((function () { if (w && C) { var e = tg.load("canvasEditor"); e && window.confirm(v("We found a project saved in this browser! Do you want to load it?")) && w.loadFromJSON(e, w.renderAll.bind(w)), j(!1) } }), [w, C]), (0, e.useEffect)((function () { T && (y("select"), document.querySelector(".toolpanel .holder").scrollTop = 0) }), [T]), (0, e.useEffect)((function () { w && ("select" !== b && w.discardActiveObject().requestRenderAll(), function (e, t, n) { e.set("isDrawingMode", !1), e.set("isDrawingLineMode", !1), e.set("isDrawingPathMode", !1), e.set("isDrawingTextMode", !1), e.defaultCursor = "default", e.selection = !0, e.forEachObject((function (e) { e.selectable = !0, e.evented = !0 })), "draw" === t && e.set("isDrawingMode", !0), "line" === t && (n(v("Tip: hold Shift key for 15\xb0 angle jumps!")), e.isDrawingLineMode = !0, e.defaultCursor = "crosshair", e.selection = !1, e.forEachObject((function (e) { e.selectable = !1, e.evented = !1 }))), "path" === t && (n(v("Tip: click to place points, press and pull for curves! Click outside or press Esc to cancel!")), e.isDrawingPathMode = !0, e.defaultCursor = "crosshair", e.selection = !1, e.forEachObject((function (e) { e.selectable = !1, e.evented = !1 }))), "textbox" === t && (e.isDrawingTextMode = !0, e.defaultCursor = "crosshair", e.selection = !1, e.forEachObject((function (e) { e.selectable = !1, e.evented = !1 }))) }(w, b, N)) }), [w, b]); return (0, e.useEffect)((function () { if (w) { var e = function () { var e = o(L.states); L.index < L.states.length - 1 && e.splice(L.index + 1), e.push(w.toJSON()), e.length > 10 && e.shift(), F({ index: e.length - 1, states: e }) }; w.on("object:modified", e), w.on("path:created", e); var t = function (e) { L.states.length > 1 && (e.returnValue = v("Are you sure you want to leave?")) }; return window.addEventListener("beforeunload", t), function () { w.off("object:modified", e), w.off("path:created", e), window.removeEventListener("beforeunload", t) } } }), [w, L]), (0, e.useEffect)((function () { if (w) { var e = function (e) { 86 === (e.which || e.keyCode) && 0 === document.querySelectorAll("textarea:focus, input:focus").length && y("select") }; document.addEventListener("keydown", e); var t = function (e) { var t = e.which || e.keyCode; 90 === t && e.ctrlKey && 0 === document.querySelectorAll("textarea:focus, input:focus").length && rg(w, L, F), 89 === t && e.ctrlKey && 0 === document.querySelectorAll("textarea:focus, input:focus").length && ig(w, L, F) }; document.addEventListener("keydown", t); var n = function (e) { return function (e, t, n, r) { var i = e.which || e.keyCode; if (109 === i && e.ctrlKey) { if (e.preventDefault(), t.getZoom() === ag) return; var o = parseInt(100 * t.getZoom()); if (o % 25 !== 0) for (; o % 25 !== 0;)o -= 1; else o -= 25; n(o = (o /= 100) <= 0 ? ag : o), r(t, o) } if (107 === i && e.ctrlKey) { if (e.preventDefault(), 3 === t.getZoom()) return; var a = parseInt(100 * t.getZoom()); if (a % 25 !== 0) for (; a % 25 !== 0;)a += 1; else a += 25; n(a = (a /= 100) > 3 ? 3 : a), r(t, a) } 96 !== i && 48 !== i && 192 !== i || !e.ctrlKey || (e.preventDefault(), n(1), r(t, 1)) }(e, w, H, lg) }; document.addEventListener("keydown", n); var r = function (e) { return function (e, t, n, r) { if (e.ctrlKey) { e.preventDefault(); var i = Number(t.getZoom()).toFixed(2); (i = (100 * i + (e.deltaY > 0 ? -5 : 5)) / 100) < ag || i > 3 || (n(i), r(t, i)) } }(e, w, H, lg) }; return document.addEventListener("wheel", r, { passive: !1 }), function () { document.removeEventListener("keydown", e), document.removeEventListener("keydown", t), document.removeEventListener("keydown", n), document.removeEventListener("wheel", r) } } }), [w, L]), (0, s.jsxs)("div", { id: "app", children: [(0, s.jsx)(l, { notification: n, setNotification: r }), (0, s.jsxs)(c, { logo: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM8AAAAaBAMAAADiXBXwAAAAMFBMVEUAAAAzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzPzX0yTAAAAD3RSTlMAd+6Z3apmVSK7RDMRiMxerJw3AAADIElEQVRIx62WwVITQRCGOwgGCKECVRaih8DFokqrwtEb8eQxHK3SqohVnlmfgOgDCG9A3sBcvEq0PMu+AfEJYpYEXCD57enpnYVslrVK+7DT270z3+z0P7NLRIVV4PQhURcIiG0KQMc4uWVgtESRlSFWVS98oOEezSGyTRN5V0Owcq3Pz6b4hUMYW5dgiwNH3Ja4/Qyx0EuA1Hs+GfRGvEfX+oxaxv8Ea68VEAGLiBJpILyaAHI3B9f6PGZ3VuNBe5qv2xyp8xS4OYwSbul6N7z3dYzacfiOTFL69TyaX0bonryHPl9nYO1UXmGNaIGboemoNkwB0ewhtpOgIgYGT1vwXXIXHtExrF1Qga/nRHluLon2oHaZBLmxz5KgfWwq8NIl5+BL6fstFgovfUWmX7R1qHHTa1Cu3EkFUbefBG31SZOnLpnDgWhhwP68R3QixVlkgi/v1W8QWyMNZPo2x0EL5i3F9tCOkvOoWjH7UT9w8lhEdydetDSQLMk4KG/KLDYFLwZ1bI2CkqbAyT0R2rTRahYoh844KGcEIjajs9Ag3yvJCs036h5avpcFkunHoLjR0Z0YTLAAY8aTunSMJC6MeIAG1USPNzdsIwbN4tc4aM7t77s4iJLloC0iB0R5IrsrA16zIPpHUFWTqziXSlVgbMOeCWc5s37/DwQxTxfTWCiKxHBG4gJqKyi1RoVJIGl06RT0NCpbBfYc/QaMpkR0KvIMUB7VpBj8WAwKMhVSuBmwZBW4b449kbf03L0NVOSxsuW96PaJngYM5KYsB54wn2SBpnnw7A1bsCO89cgSfHtwd1l0GgkzQJxsJY6gSvIIOunbh5fa9EUXqg5j29KBnWf85C2ghVr4V4fqdy2CWsvEVYzOvVUMP0wq/TPxO0rmjetAIanWVCSLmaB8BX76h6+uSfFHCtINq9/7gd2MtQzQToXlmQRRVz7lZYRx8oPJKShour2r1fzoQKk/J34SpJPVSrvTe8P9VL3QM4Xtyg2sqTTQS0qCxn63NNk1q/T1BBjcj6QiU1HbqQHhUpMmg9ZLNBEkixqs3EgewfsDFHTIWxYflZsAAAAASUVORK5CYII=", children: [(0, s.jsx)(u, { title: v("Undo"), handleClick: function () { return rg(w, L, F) }, className: L.index && 0 !== L.index ? "" : "disabled", children: (0, s.jsx)(xg, {}) }), (0, s.jsx)(u, { title: v("Redo"), handleClick: function () { return ig(w, L, F) }, className: L.index < L.states.length - 1 ? "" : "disabled", children: (0, s.jsx)(kg, {}) }), (0, s.jsx)("div", { className: "separator" }), (0, s.jsx)(u, { title: v("Save (to browser)"), handleClick: function () { tg.save("canvasEditor", w.toJSON()), r({ message: v("Project is saved in this browser!"), seconds: 3 }) }, children: (0, s.jsx)(Mg, {}) }), (0, s.jsx)(u, { title: v("Download as.."), className: "download", handleClick: function () { return g(!p) }, children: (0, s.jsx)(Bg, {}) }), (0, s.jsx)(u, { title: v("Close and open new"), handleClick: function () { window.confirm(v("This will clear the canvas! Are you sure?")) && (F({ index: null, states: [] }), w.clear(), tg.remove("canvasEditor")) }, className: "close", children: (0, s.jsx)(Ug, {}) }), (0, s.jsxs)(h, { visible: p, setVisible: g, children: [(0, s.jsx)(f, { handleClick: function () { H(1), lg(w, 1), g(!1), function (e) { var t = "data:image/svg+xml;charset=utf-8," + encodeURIComponent(e), n = document.createElement("a"); n.href = t, n.download = "image.svg", n.dispatchEvent(new MouseEvent("click")), setTimeout((function () { window.URL.revokeObjectURL(t) }), 60) }(w.toSVG()) }, children: v("Download as SVG") }), (0, s.jsx)(f, { handleClick: function () { H(1), lg(w, 1), g(!1), ng(w.toDataURL()) }, children: v("Download as PNG") }), (0, s.jsx)(f, { handleClick: function () { H(1), lg(w, 1), g(!1), ng(w.toDataURL({ format: "jpeg" }), "jpg", "image/jpeg") }, children: v("Download as JPG") })] })] }), (0, s.jsxs)(d, { activeTool: b, children: [(0, s.jsx)(u, { name: "select", title: v("Select/move object (V)"), handleClick: function () { return y("select") }, children: (0, s.jsx)(tv, {}) }), (0, s.jsx)(u, { name: "shapes", title: v("Shapes"), handleClick: function () { return y("shapes") }, children: (0, s.jsx)(yv, {}) }), (0, s.jsx)(u, { name: "line", title: v("Line"), handleClick: function () { return y("line") }, children: (0, s.jsx)(av, {}) }), (0, s.jsx)(u, { name: "path", title: v("Connectable lines & curves"), handleClick: function () { return y("path") }, children: (0, s.jsx)(fv, {}) }), (0, s.jsx)(u, { name: "draw", title: v("Free draw"), handleClick: function () { return y("draw") }, children: (0, s.jsx)(Kg, {}) }), (0, s.jsx)(u, { name: "textbox", title: v("Text box"), handleClick: function () { return y("textbox") }, children: (0, s.jsx)(Ov, {}) }), (0, s.jsx)(u, { name: "upload", title: v("Upload image"), handleClick: function () { return y("upload") }, children: (0, s.jsx)(Av, {}) }), (0, s.jsx)("div", { className: "separator" }), (0, s.jsx)(u, { name: "background", title: v("Canvas options"), handleClick: function () { return y("background") }, children: (0, s.jsx)(pg, {}) })] }), (0, s.jsxs)(k, { visible: T || "select" !== b && "line" !== b && "path" !== b && "textbox" !== b, children: [T && (0, s.jsx)(Mu, { canvas: w, activeSelection: T, isTextEditing: M }), "background" === b && !T && (0, s.jsx)(Du, { canvas: w }), "draw" === b && !T && (0, s.jsx)(Iu, { canvas: w }), "shapes" === b && !T && (0, s.jsx)(Vp, { canvas: w }), "upload" === b && !T && (0, s.jsx)(Jp, { canvas: w })] }), (0, s.jsx)(O, { canvas: w, setCanvas: _, selectionInfo: B, setSelectionInfo: N, setActiveSelection: P, setIsTextEditing: D, setHistory: F }), (0, s.jsxs)("div", { className: "bottom-info", children: [(0, s.jsx)(Fv, {}), (0, s.jsx)("select", { onChange: function (e) { H(e.target.value), lg(w, e.target.value) }, value: W, children: sg.map((function (e, t) { return 0 !== t || sg.includes(Number(W)) ? (0, s.jsxs)("option", { value: e, children: [Number(100 * e).toFixed(0), "%"] }, e) : (0, s.jsxs)("option", { value: "", children: [Number(100 * W).toFixed(0), "%"] }, W) })) })] })] }) }), Bv = document.createElement("div"); Bv.innerHTML = '<p style="line-height: 26px; margin-top: 100px; font-size: 16px; color: #555">\n  '.concat(v("Your browser is out of date!"), "<br />").concat(v("Please update to a modern browser, for example:"), ' <a href="https://www.google.com/chrome/" target="_blank">Chrome</a>!</p>\n  <img src="').concat(Qp, '"\n  style="max-width: 300px; width: 100%; display: block; margin: 0 auto; opacity: 0.4" />'), Bv.setAttribute("style", "position: fixed; z-index: 1000; width: 100%; height: 100%; top: 0; left: 0;\n  background-color: #f9f9f9; text-align: center; color: #555;"); var Nv = document.createElement("div"); Nv.style.display = "grid"; var zv = "grid" === Nv.style.display, Wv = document.createElement("div"); Wv.style.display = "flex"; var Hv = "flex" === Wv.style.display; zv && Hv || document.body.appendChild(Bv); n(204); (0, t.s)(document.getElementById("root")).render((0, s.jsx)(Rv, {})) }() }();
//# sourceMappingURL=main.c3adf487.js.map
